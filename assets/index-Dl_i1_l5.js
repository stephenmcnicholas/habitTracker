(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Mf={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function eT(){if(ly)return Hl;ly=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Hl.Fragment=e,Hl.jsx=i,Hl.jsxs=i,Hl}var oy;function nT(){return oy||(oy=1,Mf.exports=eT()),Mf.exports}var st=nT(),Of={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function iT(){if(uy)return Rt;uy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,K={};function j(x,W,ct){this.props=x,this.context=W,this.refs=K,this.updater=ct||O}j.prototype.isReactComponent={},j.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function et(x,W,ct){this.props=x,this.context=W,this.refs=K,this.updater=ct||O}var tt=et.prototype=new Y;tt.constructor=et,k(tt,j.prototype),tt.isPureReactComponent=!0;var yt=Array.isArray,ht={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function N(x,W,ct,at,lt,wt){return ct=wt.ref,{$$typeof:a,type:x,key:W,ref:ct!==void 0?ct:null,props:wt}}function b(x,W){return N(x.type,W,void 0,void 0,void 0,x.props)}function S(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function R(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ct){return W[ct]})}var I=/\/+/g;function L(x,W){return typeof x=="object"&&x!==null&&x.key!=null?R(""+x.key):W.toString(36)}function D(){}function Zt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function re(x,W,ct,at,lt){var wt=typeof x;(wt==="undefined"||wt==="boolean")&&(x=null);var bt=!1;if(x===null)bt=!0;else switch(wt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(x.$$typeof){case a:case e:bt=!0;break;case T:return bt=x._init,re(bt(x._payload),W,ct,at,lt)}}if(bt)return lt=lt(x),bt=at===""?"."+L(x,0):at,yt(lt)?(ct="",bt!=null&&(ct=bt.replace(I,"$&/")+"/"),re(lt,W,ct,"",function(ae){return ae})):lt!=null&&(S(lt)&&(lt=b(lt,ct+(lt.key==null||x&&x.key===lt.key?"":(""+lt.key).replace(I,"$&/")+"/")+bt)),W.push(lt)),1;bt=0;var de=at===""?".":at+":";if(yt(x))for(var Pt=0;Pt<x.length;Pt++)at=x[Pt],wt=de+L(at,Pt),bt+=re(at,W,ct,wt,lt);else if(Pt=V(x),typeof Pt=="function")for(x=Pt.call(x),Pt=0;!(at=x.next()).done;)at=at.value,wt=de+L(at,Pt++),bt+=re(at,W,ct,wt,lt);else if(wt==="object"){if(typeof x.then=="function")return re(Zt(x),W,ct,at,lt);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return bt}function it(x,W,ct){if(x==null)return x;var at=[],lt=0;return re(x,at,"","",function(wt){return W.call(ct,wt,lt++)}),at}function _t(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(ct){(x._status===0||x._status===-1)&&(x._status=1,x._result=ct)},function(ct){(x._status===0||x._status===-1)&&(x._status=2,x._result=ct)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var dt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function zt(){}return Rt.Children={map:it,forEach:function(x,W,ct){it(x,function(){W.apply(this,arguments)},ct)},count:function(x){var W=0;return it(x,function(){W++}),W},toArray:function(x){return it(x,function(W){return W})||[]},only:function(x){if(!S(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Rt.Component=j,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=et,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cloneElement=function(x,W,ct){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=k({},x.props),lt=x.key,wt=void 0;if(W!=null)for(bt in W.ref!==void 0&&(wt=void 0),W.key!==void 0&&(lt=""+W.key),W)!rt.call(W,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&W.ref===void 0||(at[bt]=W[bt]);var bt=arguments.length-2;if(bt===1)at.children=ct;else if(1<bt){for(var de=Array(bt),Pt=0;Pt<bt;Pt++)de[Pt]=arguments[Pt+2];at.children=de}return N(x.type,lt,void 0,void 0,wt,at)},Rt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},Rt.createElement=function(x,W,ct){var at,lt={},wt=null;if(W!=null)for(at in W.key!==void 0&&(wt=""+W.key),W)rt.call(W,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(lt[at]=W[at]);var bt=arguments.length-2;if(bt===1)lt.children=ct;else if(1<bt){for(var de=Array(bt),Pt=0;Pt<bt;Pt++)de[Pt]=arguments[Pt+2];lt.children=de}if(x&&x.defaultProps)for(at in bt=x.defaultProps,bt)lt[at]===void 0&&(lt[at]=bt[at]);return N(x,wt,void 0,void 0,null,lt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:g,render:x}},Rt.isValidElement=S,Rt.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:_t}},Rt.memo=function(x,W){return{$$typeof:y,type:x,compare:W===void 0?null:W}},Rt.startTransition=function(x){var W=ht.T,ct={};ht.T=ct;try{var at=x(),lt=ht.S;lt!==null&&lt(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(zt,dt)}catch(wt){dt(wt)}finally{ht.T=W}},Rt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Rt.use=function(x){return ht.H.use(x)},Rt.useActionState=function(x,W,ct){return ht.H.useActionState(x,W,ct)},Rt.useCallback=function(x,W){return ht.H.useCallback(x,W)},Rt.useContext=function(x){return ht.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,W){return ht.H.useDeferredValue(x,W)},Rt.useEffect=function(x,W){return ht.H.useEffect(x,W)},Rt.useId=function(){return ht.H.useId()},Rt.useImperativeHandle=function(x,W,ct){return ht.H.useImperativeHandle(x,W,ct)},Rt.useInsertionEffect=function(x,W){return ht.H.useInsertionEffect(x,W)},Rt.useLayoutEffect=function(x,W){return ht.H.useLayoutEffect(x,W)},Rt.useMemo=function(x,W){return ht.H.useMemo(x,W)},Rt.useOptimistic=function(x,W){return ht.H.useOptimistic(x,W)},Rt.useReducer=function(x,W,ct){return ht.H.useReducer(x,W,ct)},Rt.useRef=function(x){return ht.H.useRef(x)},Rt.useState=function(x){return ht.H.useState(x)},Rt.useSyncExternalStore=function(x,W,ct){return ht.H.useSyncExternalStore(x,W,ct)},Rt.useTransition=function(){return ht.H.useTransition()},Rt.version="19.0.0",Rt}var cy;function Td(){return cy||(cy=1,Of.exports=iT()),Of.exports}var G=Td(),Uf={exports:{}},jl={},Lf={exports:{}},kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function rT(){return hy||(hy=1,function(a){function e(it,_t){var dt=it.length;it.push(_t);t:for(;0<dt;){var zt=dt-1>>>1,x=it[zt];if(0<o(x,_t))it[zt]=_t,it[dt]=x,dt=zt;else break t}}function i(it){return it.length===0?null:it[0]}function s(it){if(it.length===0)return null;var _t=it[0],dt=it.pop();if(dt!==_t){it[0]=dt;t:for(var zt=0,x=it.length,W=x>>>1;zt<W;){var ct=2*(zt+1)-1,at=it[ct],lt=ct+1,wt=it[lt];if(0>o(at,dt))lt<x&&0>o(wt,at)?(it[zt]=wt,it[lt]=dt,zt=lt):(it[zt]=at,it[ct]=dt,zt=ct);else if(lt<x&&0>o(wt,dt))it[zt]=wt,it[lt]=dt,zt=lt;else break t}}return _t}function o(it,_t){var dt=it.sortIndex-_t.sortIndex;return dt!==0?dt:it.id-_t.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,C=null,V=3,O=!1,k=!1,K=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function tt(it){for(var _t=i(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=it)s(y),_t.sortIndex=_t.expirationTime,e(p,_t);else break;_t=i(y)}}function yt(it){if(K=!1,tt(it),!k)if(i(p)!==null)k=!0,Zt();else{var _t=i(y);_t!==null&&re(yt,_t.startTime-it)}}var ht=!1,rt=-1,N=5,b=-1;function S(){return!(a.unstable_now()-b<N)}function R(){if(ht){var it=a.unstable_now();b=it;var _t=!0;try{t:{k=!1,K&&(K=!1,Y(rt),rt=-1),O=!0;var dt=V;try{e:{for(tt(it),C=i(p);C!==null&&!(C.expirationTime>it&&S());){var zt=C.callback;if(typeof zt=="function"){C.callback=null,V=C.priorityLevel;var x=zt(C.expirationTime<=it);if(it=a.unstable_now(),typeof x=="function"){C.callback=x,tt(it),_t=!0;break e}C===i(p)&&s(p),tt(it)}else s(p);C=i(p)}if(C!==null)_t=!0;else{var W=i(y);W!==null&&re(yt,W.startTime-it),_t=!1}}break t}finally{C=null,V=dt,O=!1}_t=void 0}}finally{_t?I():ht=!1}}}var I;if(typeof et=="function")I=function(){et(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=R,I=function(){D.postMessage(null)}}else I=function(){j(R,0)};function Zt(){ht||(ht=!0,I())}function re(it,_t){rt=j(function(){it(a.unstable_now())},_t)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(it){it.callback=null},a.unstable_continueExecution=function(){k||O||(k=!0,Zt())},a.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<it?Math.floor(1e3/it):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(it){switch(V){case 1:case 2:case 3:var _t=3;break;default:_t=V}var dt=V;V=_t;try{return it()}finally{V=dt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(it,_t){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var dt=V;V=it;try{return _t()}finally{V=dt}},a.unstable_scheduleCallback=function(it,_t,dt){var zt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,it){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=dt+x,it={id:T++,callback:_t,priorityLevel:it,startTime:dt,expirationTime:x,sortIndex:-1},dt>zt?(it.sortIndex=dt,e(y,it),i(p)===null&&it===i(y)&&(K?(Y(rt),rt=-1):K=!0,re(yt,dt-zt))):(it.sortIndex=x,e(p,it),k||O||(k=!0,Zt())),it},a.unstable_shouldYield=S,a.unstable_wrapCallback=function(it){var _t=V;return function(){var dt=V;V=_t;try{return it.apply(this,arguments)}finally{V=dt}}}}(kf)),kf}var fy;function aT(){return fy||(fy=1,Lf.exports=rT()),Lf.exports}var zf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function sT(){if(dy)return Ge;dy=1;var a=Td();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,y,T){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:p,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,T)},Ge.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,C=g(T,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:V,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:C,integrity:V,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,C=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var my;function lT(){if(my)return zf.exports;my=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),zf.exports=sT(),zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function oT(){if(gy)return jl;gy=1;var a=aT(),e=Td(),i=lT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),tt=Symbol.for("react.offscreen"),yt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case T:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Provider";case V:return(t._context.displayName||"Context")+".Consumer";case k:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case et:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,I,L;function D(t){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+L}var Zt=!1;function re(t,n){if(!t||Zt)return"";Zt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){H=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var w=v.split(`
`),U=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===U.length)for(l=w.length-1,c=U.length-1;1<=l&&0<=c&&w[l]!==U[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==U[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==U[c]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Zt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?D(r):""}function it(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=re(t.type,!1),t;case 11:return t=re(t.type.render,!1),t;case 1:return t=re(t.type,!0),t;default:return""}}function _t(t){try{var n="";do n+=it(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function dt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function zt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function x(t){if(dt(t)!==t)throw Error(s(188))}function W(t){var n=t.alternate;if(!n){if(n=dt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return x(c),t;if(f===l)return x(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ct(t),n!==null)return n;t=t.sibling}return null}var at=Array.isArray,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},bt=[],de=-1;function Pt(t){return{current:t}}function ae(t){0>de||(t.current=bt[de],bt[de]=null,de--)}function Ft(t,n){de++,bt[de]=t.current,t.current=n}var Ye=Pt(null),oi=Pt(null),mn=Pt(null),Bi=Pt(null);function Hi(t,n){switch(Ft(mn,n),Ft(oi,t),Ft(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Lp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Lp(t),n=kp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(Ye),Ft(Ye,n)}function ui(){ae(Ye),ae(oi),ae(mn)}function Ls(t){t.memoizedState!==null&&Ft(Bi,t);var n=Ye.current,r=kp(n,t.type);n!==r&&(Ft(oi,t),Ft(Ye,r))}function Ra(t){oi.current===t&&(ae(Ye),ae(oi)),Bi.current===t&&(ae(Bi),Ll._currentValue=wt)}var wa=Object.prototype.hasOwnProperty,Hr=a.unstable_scheduleCallback,Ca=a.unstable_cancelCallback,Oc=a.unstable_shouldYield,ks=a.unstable_requestPaint,tn=a.unstable_now,go=a.unstable_getCurrentPriorityLevel,_e=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,ci=a.unstable_NormalPriority,po=a.unstable_LowPriority,zs=a.unstable_IdlePriority,Uc=a.log,jr=a.unstable_setDisableYieldValue,ji=null,je=null;function Ps(t){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(ji,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof Uc=="function"&&jr(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(ji,t)}catch{}}var Xe=Math.clz32?Math.clz32:_o,Bs=Math.log,yo=Math.LN2;function _o(t){return t>>>=0,t===0?32:31-(Bs(t)/yo|0)|0}var Pn=128,qi=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=In(r):(f&=E,f!==0?l=In(f):t||(v=E&~v,v!==0&&(l=In(v))))):(E=r&~c,E!==0?l=In(E):f!==0?l=In(f):t||(v=r&~v,v!==0&&(l=In(v)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,v=n&-n,c>=v||c===32&&(v&4194176)!==0)?n:l}function Gi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Da(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var t=Pn;return Pn<<=1,!(Pn&4194176)&&(Pn=128),t}function Fi(){var t=qi;return qi<<=1,!(qi&62914560)&&(qi=4194304),t}function Va(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vo(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,U=t.hiddenUpdates;for(r=v&~r;0<r;){var Q=31-Xe(r),Z=1<<Q;E[Q]=0,w[Q]=-1;var H=U[Q];if(H!==null)for(U[Q]=null,Q=0;Q<H.length;Q++){var F=H[Q];F!==null&&(F.lane&=-536870913)}r&=~Z}l!==0&&Qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Ki(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Eo(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function To(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:ey(t.type))}function Yi(t,n){var r=lt.p;try{return lt.p=t,n()}finally{lt.p=r}}var Bn=Math.random().toString(36).slice(2),De="__reactFiber$"+Bn,ve="__reactProps$"+Bn,hi="__reactContainer$"+Bn,qr="__reactEvents$"+Bn,Na="__reactListeners$"+Bn,Hn="__reactHandles$"+Bn,js="__reactResources$"+Bn,Xi="__reactMarker$"+Bn;function Gr(t){delete t[De],delete t[ve],delete t[qr],delete t[Na],delete t[Hn]}function Mn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Bp(t);t!==null;){if(r=t[De])return r;t=Bp(t)}return n}t=r,r=t.parentNode}return null}function fi(t){if(t=t[De]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function $i(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Zi(t){var n=t[js];return n||(n=t[js]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(t){t[Xi]=!0}var qs=new Set,xa={};function sn(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(xa[t]=n,t=0;t<n.length;t++)qs.add(n[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gs={},Fs={};function Ao(t){return wa.call(Fs,t)?!0:wa.call(Gs,t)?!1:Lc.test(t)?Fs[t]=!0:(Gs[t]=!0,!1)}function Wi(t,n,r){if(Ao(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ji(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function So(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kc(t){var n=So(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fr(t){t._valueTracker||(t._valueTracker=kc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=So(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var di=/[\n"\\]/g;function se(t){return t.replace(di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tr(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Ma(t,v,$e(n)):r!=null?Ma(t,v,$e(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function Qr(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ma(t,n,r){n==="number"&&Ia(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Kr(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function er(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||zc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function bo(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ks(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ks(t,f,n[f])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jn(t){return Bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _n=null;function Oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function pi(t){var n=fi(t);if(n&&(t=n.stateNode)){var r=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(tr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(s(90));tr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Qs(l)}break t;case"textarea":Kr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Bt(t,!!r.multiple,n,!1)}}}var Xs=!1;function Ro(t,n,r){if(Xs)return t(n,r);Xs=!0;try{var l=t(n);return l}finally{if(Xs=!1,(mi!==null||gi!==null)&&(pu(),mi&&(n=mi,t=gi,gi=mi=null,pi(n),t)))for(n=0;n<t.length;n++)pi(t[n])}}function Yr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var vn=!1;if(ln)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{vn=!1}var qn=null,nr=null,yi=null;function $s(){if(yi)return yi;var t,n=nr,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Zs(){return!1}function Ve(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Zs,this.isPropagationStopped=Zs,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Ve(qt),$r=R({},qt,{view:0,detail:0}),wo=Ve($r),La,ka,Qn,Zr=R({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(La=t.screenX-Qn.screenX,ka=t.screenY-Qn.screenY):ka=La=0,Qn=t),La)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),En=Ve(Zr),Co=R({},Zr,{dataTransfer:0}),Hc=Ve(Co),Wr=R({},$r,{relatedTarget:0}),za=Ve(Wr),Ws=R({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Ve(Ws),Do=R({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=Ve(Do),jc=R({},qt,{data:0}),Js=Ve(jc),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=No[t])?!!n[t]:!1}function ta(){return tl}var xo=R({},$r,{key:function(t){if(t.key){var n=Jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ha=Ve(xo),Io=R({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ve(Io),_i=R({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Mo=Ve(_i),Oo=R({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uo=Ve(Oo),Lo=R({},Zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ve(Lo),Ze=R({},qt,{newState:0,oldState:0}),ko=Ve(Ze),zo=[9,13,27,32],Kn=ln&&"CompositionEvent"in window,u=null;ln&&"documentMode"in document&&(u=document.documentMode);var m=ln&&"TextEvent"in window&&!u,_=ln&&(!Kn||u&&8<u&&11>=u),A=" ",P=!1;function q(t,n){switch(t){case"keyup":return zo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Ee(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return t=n.data,t===A&&P?null:t;default:return null}}function Ot(t,n){if(Mt)return t==="compositionend"||!Kn&&q(t,n)?(t=$s(),yi=nr=qn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function vi(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Tu(n,"onChange"),0<n.length&&(r=new Ua("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Yn=null;function nl(t){xp(t,0)}function Po(t){var n=$i(t);if(Qs(n))return t}function sm(t,n){if(t==="change")return n}var lm=!1;if(ln){var qc;if(ln){var Gc="oninput"in document;if(!Gc){var om=document.createElement("div");om.setAttribute("oninput","return;"),Gc=typeof om.oninput=="function"}qc=Gc}else qc=!1;lm=qc&&(!document.documentMode||9<document.documentMode)}function um(){Ue&&(Ue.detachEvent("onpropertychange",cm),Yn=Ue=null)}function cm(t){if(t.propertyName==="value"&&Po(Yn)){var n=[];vi(n,Yn,t,Oa(t)),Ro(nl,n)}}function x0(t,n,r){t==="focusin"?(um(),Ue=n,Yn=r,Ue.attachEvent("onpropertychange",cm)):t==="focusout"&&um()}function I0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(Yn)}function M0(t,n){if(t==="click")return Po(n)}function O0(t,n){if(t==="input"||t==="change")return Po(n)}function U0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:U0;function il(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!wa.call(n,c)||!on(t[c],n[c]))return!1}return!0}function hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fm(t,n){var r=hm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hm(r)}}function dm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?dm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ia(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ia(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function L0(t,n){var r=mm(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&dm(n.ownerDocument.documentElement,n)){if(l!==null&&Fc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=fm(n,f);var v=fm(n,l);c&&v&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var k0=ln&&"documentMode"in document&&11>=document.documentMode,qa=null,Qc=null,rl=null,Kc=!1;function gm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kc||qa==null||qa!==Ia(l)||(l=qa,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Tu(Qc,"onSelect"),0<l.length&&(n=new Ua("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=qa)))}function ea(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ga={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Yc={},pm={};ln&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function na(t){if(Yc[t])return Yc[t];if(!Ga[t])return t;var n=Ga[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in pm)return Yc[t]=n[r];return t}var ym=na("animationend"),_m=na("animationiteration"),vm=na("animationstart"),z0=na("transitionrun"),P0=na("transitionstart"),B0=na("transitioncancel"),Em=na("transitionend"),Tm=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Tm.set(t,n),sn(n,[t])}var Tn=[],Fa=0,Xc=0;function Bo(){for(var t=Fa,n=Xc=Fa=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Sm(r,c,f)}}function Ho(t,n,r,l){Tn[Fa++]=t,Tn[Fa++]=n,Tn[Fa++]=r,Tn[Fa++]=l,Xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,r,l){return Ho(t,n,r,l),jo(t)}function ir(t,n){return Ho(t,null,null,n),jo(t)}function Sm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Xe(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function jo(t){if(50<Vl)throw Vl=0,nf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qa={},bm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=bm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_t(n)},bm.set(t,n),n)}return{value:t,source:n,stack:_t(n)}}var Ka=[],Ya=0,qo=null,Go=0,Sn=[],bn=0,ia=null,Ei=1,Ti="";function ra(t,n){Ka[Ya++]=Go,Ka[Ya++]=qo,qo=t,Go=n}function Rm(t,n,r){Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=ia,ia=t;var l=Ei;t=Ti;var c=32-Xe(l)-1;l&=~(1<<c),r+=1;var f=32-Xe(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ei=1<<32-Xe(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function Zc(t){t.return!==null&&(ra(t,1),Rm(t,1,0))}function Wc(t){for(;t===qo;)qo=Ka[--Ya],Ka[Ya]=null,Go=Ka[--Ya],Ka[Ya]=null;for(;t===ia;)ia=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null,Ei=Sn[--bn],Sn[bn]=null}var We=null,Le=null,Ht=!1,Un=null,Xn=!1,Jc=Error(s(519));function aa(t){var n=Error(s(418,""));throw ll(An(n,t)),Jc}function wm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<xl.length;r++)xt(xl[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fr(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),er(n,l.value,l.defaultValue,l.children),Fr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Up(n.textContent,r)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Au),n=!0):n=!1,n||aa(t)}function Cm(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:Xn=!0;return;case 5:case 13:Xn=!1;return;default:We=We.return}}function al(t){if(t!==We)return!1;if(!Ht)return Cm(t),Ht=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ef(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Le&&aa(t),Cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Le=kn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?kn(t.stateNode.nextSibling):null;return!0}function sl(){Le=We=null,Ht=!1}function ll(t){Un===null?Un=[t]:Un.push(t)}var ol=Error(s(460)),Dm=Error(s(474)),th={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fo(){}function Nm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Fo,Fo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ol?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Fo,Fo);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ol?Error(s(483)):t}throw ul=n,ol}}var ul=null;function xm(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}var Xa=null,cl=0;function Qo(t){var n=cl;return cl+=1,Xa===null&&(Xa=[]),Nm(Xa,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ko(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Im(t){var n=t._init;return n(t._payload)}function Mm(t){function n(z,M){if(t){var B=z.deletions;B===null?(z.deletions=[M],z.flags|=16):B.push(M)}}function r(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function c(z,M){return z=gr(z,M),z.index=0,z.sibling=null,z}function f(z,M,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<M?(z.flags|=33554434,M):B):(z.flags|=33554434,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function E(z,M,B,X){return M===null||M.tag!==6?(M=Yh(B,z.mode,X),M.return=z,M):(M=c(M,B),M.return=z,M)}function w(z,M,B,X){var ut=B.type;return ut===p?Q(z,M,B.props.children,X,B.key):M!==null&&(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===et&&Im(ut)===M.type)?(M=c(M,B.props),hl(M,B),M.return=z,M):(M=hu(B.type,B.key,B.props,null,z.mode,X),hl(M,B),M.return=z,M)}function U(z,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Xh(B,z.mode,X),M.return=z,M):(M=c(M,B.children||[]),M.return=z,M)}function Q(z,M,B,X,ut){return M===null||M.tag!==7?(M=ga(B,z.mode,X,ut),M.return=z,M):(M=c(M,B),M.return=z,M)}function Z(z,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Yh(""+M,z.mode,B),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case d:return B=hu(M.type,M.key,M.props,null,z.mode,B),hl(B,M),B.return=z,B;case g:return M=Xh(M,z.mode,B),M.return=z,M;case et:var X=M._init;return M=X(M._payload),Z(z,M,B)}if(at(M)||rt(M))return M=ga(M,z.mode,B,null),M.return=z,M;if(typeof M.then=="function")return Z(z,Qo(M),B);if(M.$$typeof===O)return Z(z,ou(z,M),B);Ko(z,M)}return null}function H(z,M,B,X){var ut=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ut!==null?null:E(z,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===ut?w(z,M,B,X):null;case g:return B.key===ut?U(z,M,B,X):null;case et:return ut=B._init,B=ut(B._payload),H(z,M,B,X)}if(at(B)||rt(B))return ut!==null?null:Q(z,M,B,X,null);if(typeof B.then=="function")return H(z,M,Qo(B),X);if(B.$$typeof===O)return H(z,M,ou(z,B),X);Ko(z,B)}return null}function F(z,M,B,X,ut){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(B)||null,E(M,z,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case d:return z=z.get(X.key===null?B:X.key)||null,w(M,z,X,ut);case g:return z=z.get(X.key===null?B:X.key)||null,U(M,z,X,ut);case et:var Dt=X._init;return X=Dt(X._payload),F(z,M,B,X,ut)}if(at(X)||rt(X))return z=z.get(B)||null,Q(M,z,X,ut,null);if(typeof X.then=="function")return F(z,M,B,Qo(X),ut);if(X.$$typeof===O)return F(z,M,B,ou(M,X),ut);Ko(M,X)}return null}function ft(z,M,B,X){for(var ut=null,Dt=null,mt=M,vt=M=0,Me=null;mt!==null&&vt<B.length;vt++){mt.index>vt?(Me=mt,mt=null):Me=mt.sibling;var jt=H(z,mt,B[vt],X);if(jt===null){mt===null&&(mt=Me);break}t&&mt&&jt.alternate===null&&n(z,mt),M=f(jt,M,vt),Dt===null?ut=jt:Dt.sibling=jt,Dt=jt,mt=Me}if(vt===B.length)return r(z,mt),Ht&&ra(z,vt),ut;if(mt===null){for(;vt<B.length;vt++)mt=Z(z,B[vt],X),mt!==null&&(M=f(mt,M,vt),Dt===null?ut=mt:Dt.sibling=mt,Dt=mt);return Ht&&ra(z,vt),ut}for(mt=l(mt);vt<B.length;vt++)Me=F(mt,z,vt,B[vt],X),Me!==null&&(t&&Me.alternate!==null&&mt.delete(Me.key===null?vt:Me.key),M=f(Me,M,vt),Dt===null?ut=Me:Dt.sibling=Me,Dt=Me);return t&&mt.forEach(function(Ar){return n(z,Ar)}),Ht&&ra(z,vt),ut}function At(z,M,B,X){if(B==null)throw Error(s(151));for(var ut=null,Dt=null,mt=M,vt=M=0,Me=null,jt=B.next();mt!==null&&!jt.done;vt++,jt=B.next()){mt.index>vt?(Me=mt,mt=null):Me=mt.sibling;var Ar=H(z,mt,jt.value,X);if(Ar===null){mt===null&&(mt=Me);break}t&&mt&&Ar.alternate===null&&n(z,mt),M=f(Ar,M,vt),Dt===null?ut=Ar:Dt.sibling=Ar,Dt=Ar,mt=Me}if(jt.done)return r(z,mt),Ht&&ra(z,vt),ut;if(mt===null){for(;!jt.done;vt++,jt=B.next())jt=Z(z,jt.value,X),jt!==null&&(M=f(jt,M,vt),Dt===null?ut=jt:Dt.sibling=jt,Dt=jt);return Ht&&ra(z,vt),ut}for(mt=l(mt);!jt.done;vt++,jt=B.next())jt=F(mt,z,vt,jt.value,X),jt!==null&&(t&&jt.alternate!==null&&mt.delete(jt.key===null?vt:jt.key),M=f(jt,M,vt),Dt===null?ut=jt:Dt.sibling=jt,Dt=jt);return t&&mt.forEach(function(tT){return n(z,tT)}),Ht&&ra(z,vt),ut}function ue(z,M,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var ut=B.key;M!==null;){if(M.key===ut){if(ut=B.type,ut===p){if(M.tag===7){r(z,M.sibling),X=c(M,B.props.children),X.return=z,z=X;break t}}else if(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===et&&Im(ut)===M.type){r(z,M.sibling),X=c(M,B.props),hl(X,B),X.return=z,z=X;break t}r(z,M);break}else n(z,M);M=M.sibling}B.type===p?(X=ga(B.props.children,z.mode,X,B.key),X.return=z,z=X):(X=hu(B.type,B.key,B.props,null,z.mode,X),hl(X,B),X.return=z,z=X)}return v(z);case g:t:{for(ut=B.key;M!==null;){if(M.key===ut)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){r(z,M.sibling),X=c(M,B.children||[]),X.return=z,z=X;break t}else{r(z,M);break}else n(z,M);M=M.sibling}X=Xh(B,z.mode,X),X.return=z,z=X}return v(z);case et:return ut=B._init,B=ut(B._payload),ue(z,M,B,X)}if(at(B))return ft(z,M,B,X);if(rt(B)){if(ut=rt(B),typeof ut!="function")throw Error(s(150));return B=ut.call(B),At(z,M,B,X)}if(typeof B.then=="function")return ue(z,M,Qo(B),X);if(B.$$typeof===O)return ue(z,M,ou(z,B),X);Ko(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(r(z,M.sibling),X=c(M,B),X.return=z,z=X):(r(z,M),X=Yh(B,z.mode,X),X.return=z,z=X),v(z)):r(z,M)}return function(z,M,B,X){try{cl=0;var ut=ue(z,M,B,X);return Xa=null,ut}catch(mt){if(mt===ol)throw mt;var Dt=Dn(29,mt,null,z.mode);return Dt.lanes=X,Dt.return=z,Dt}finally{}}}var sa=Mm(!0),Om=Mm(!1),$a=Pt(null),Yo=Pt(0);function Um(t,n){t=Ii,Ft(Yo,t),Ft($a,n),Ii=t|n.baseLanes}function eh(){Ft(Yo,Ii),Ft($a,$a.current)}function nh(){Ii=Yo.current,ae($a),ae(Yo)}var Rn=Pt(null),$n=null;function rr(t){var n=t.alternate;Ft(Ae,Ae.current&1),Ft(Rn,t),$n===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&($n=t)}function Lm(t){if(t.tag===22){if(Ft(Ae,Ae.current),Ft(Rn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else ar()}function ar(){Ft(Ae,Ae.current),Ft(Rn,Rn.current)}function Ai(t){ae(Rn),$n===t&&($n=null),ae(Ae)}var Ae=Pt(0);function Xo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var H0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},j0=a.unstable_scheduleCallback,q0=a.unstable_NormalPriority,Se={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new H0,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&j0(q0,function(){t.controller.abort()})}var dl=null,rh=0,Za=0,Wa=null;function G0(t,n){if(dl===null){var r=dl=[];rh=0,Za=hf(),Wa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rh++,n.then(km,km),n}function km(){if(--rh===0&&dl!==null){Wa!==null&&(Wa.status="fulfilled");var t=dl;dl=null,Za=0,Wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function F0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var zm=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&G0(t,n),zm!==null&&zm(t,n)};var la=Pt(null);function ah(){var t=la.current;return t!==null?t:Xt.pooledCache}function $o(t,n){n===null?Ft(la,la.current):Ft(la,n.pool)}function Pm(){var t=ah();return t===null?null:{parent:Se._currentValue,pool:t}}var sr=0,Ct=null,Qt=null,me=null,Zo=!1,Ja=!1,oa=!1,Wo=0,ml=0,ts=null,Q0=0;function he(){throw Error(s(321))}function sh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!on(t[r],n[r]))return!1;return!0}function lh(t,n,r,l,c,f){return sr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?ua:lr,oa=!1,f=r(l,c),oa=!1,Ja&&(f=Hm(n,r,l,c)),Bm(t),f}function Bm(t){S.H=Zn;var n=Qt!==null&&Qt.next!==null;if(sr=0,me=Qt=Ct=null,Zo=!1,ml=0,ts=null,n)throw Error(s(300));t===null||xe||(t=t.dependencies,t!==null&&lu(t)&&(xe=!0))}function Hm(t,n,r,l){Ct=t;var c=0;do{if(Ja&&(ts=null),ml=0,Ja=!1,25<=c)throw Error(s(301));if(c+=1,me=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=ca,f=n(r,l)}while(Ja);return f}function K0(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function oh(){var t=Wo!==0;return Wo=0,t}function uh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ch(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}sr=0,me=Qt=Ct=null,Ja=!1,ml=Wo=0,ts=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Ct.memoizedState=me=t:me=me.next=t,me}function ge(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=me===null?Ct.memoizedState:me.next;if(n!==null)me=n,Qt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?Ct.memoizedState=me=t:me=me.next=t}return me}var Jo;Jo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gl(t){var n=ml;return ml+=1,ts===null&&(ts=[]),t=Nm(ts,t,n),n=Ct,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?ua:lr),t}function tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===O)return qe(t)}throw Error(s(438,String(t)))}function hh(t){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Jo(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=yt;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=ge();return fh(n,Qt,t)}function fh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,w=null,U=n,Q=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Ut&Z)===Z:(sr&Z)===Z){var H=U.revertLane;if(H===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===Za&&(Q=!0);else if((sr&H)===H){U=U.next,H===Za&&(Q=!0);continue}else Z={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(E=w=Z,v=f):w=w.next=Z,Ct.lanes|=H,pr|=H;Z=U.action,oa&&r(f,Z),f=U.hasEagerState?U.eagerState:r(f,Z)}else H={lane:Z,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(E=w=H,v=f):w=w.next=H,Ct.lanes|=Z,pr|=Z;U=U.next}while(U!==null&&U!==n);if(w===null?v=f:w.next=E,!on(f,t.memoizedState)&&(xe=!0,Q&&(r=Wa,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dh(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);on(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function jm(t,n,r){var l=Ct,c=ge(),f=Ht;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!on((Qt||c).memoizedState,r);if(v&&(c.memoizedState=r,xe=!0),c=c.queue,ph(Fm.bind(null,l,c,t),[t]),c.getSnapshot!==n||v||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,es(9,Gm.bind(null,l,c,r,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||sr&60||qm(l,n,r)}return r}function qm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=Jo(),Ct.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Gm(t,n,r,l){n.value=r,n.getSnapshot=l,Qm(n)&&Km(t)}function Fm(t,n,r){return r(function(){Qm(n)&&Km(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!on(t,r)}catch{return!0}}function Km(t){var n=ir(t,2);n!==null&&Je(n,t,2)}function mh(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),oa){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Ym(t,n,r,l){return t.baseState=r,fh(t,Qt,typeof l=="function"?l:Si)}function Y0(t,n,r,l,c){if(ru(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};S.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Xm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Xm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=S.T,v={};S.T=v;try{var E=r(c,l),w=S.S;w!==null&&w(v,E),$m(t,n,E)}catch(U){gh(t,n,U)}finally{S.T=f}}else try{f=r(c,l),$m(t,n,f)}catch(U){gh(t,n,U)}}function $m(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Zm(t,n,l)},function(l){return gh(t,n,l)}):Zm(t,n,r)}function Zm(t,n,r){n.status="fulfilled",n.value=r,Wm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Xm(t,r)))}function gh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Wm(n),n=n.next;while(n!==l)}t.action=null}function Wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Jm(t,n){return n}function tg(t,n){if(Ht){var r=Xt.formState;if(r!==null){t:{var l=Ct;if(Ht){if(Le){e:{for(var c=Le,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Le=kn(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:n},r.queue=l,r=_g.bind(null,Ct,l),l.dispatch=r,l=mh(!1),f=Th.bind(null,Ct,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Y0.bind(null,Ct,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function eg(t){var n=ge();return ng(n,Qt,t)}function ng(t,n,r){n=fh(t,n,Jm)[0],t=eu(Si)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?gl(n):n;var l=ge(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Ct.flags|=2048,es(9,X0.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function X0(t,n){t.action=n}function ig(t){var n=ge(),r=Qt;if(r!==null)return ng(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function es(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=Jo(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function rg(){return ge().memoizedState}function nu(t,n,r,l){var c=nn();Ct.flags|=t,c.memoizedState=es(1|n,r,{destroy:void 0},l===void 0?null:l)}function iu(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&sh(l,Qt.memoizedState.deps)?c.memoizedState=es(n,r,f,l):(Ct.flags|=t,c.memoizedState=es(1|n,r,f,l))}function ag(t,n){nu(8390656,8,t,n)}function ph(t,n){iu(2048,8,t,n)}function sg(t,n){return iu(4,2,t,n)}function lg(t,n){return iu(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ug(t,n,r){r=r!=null?r.concat([t]):null,iu(4,4,og.bind(null,n,t),r)}function yh(){}function cg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function hg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),oa){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function _h(t,n,r){return r===void 0||sr&1073741824?t.memoizedState=n:(t.memoizedState=r,t=dp(),Ct.lanes|=t,pr|=t,r)}function fg(t,n,r,l){return on(r,n)?r:$a.current!==null?(t=_h(t,r,l),on(t,n)||(xe=!0),t):sr&42?(t=dp(),Ct.lanes|=t,pr|=t,n):(xe=!0,t.memoizedState=r)}function dg(t,n,r,l,c){var f=lt.p;lt.p=f!==0&&8>f?f:8;var v=S.T,E={};S.T=E,Th(t,!1,n,r);try{var w=c(),U=S.S;if(U!==null&&U(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=F0(w,l);pl(t,n,Q,fn(t))}else pl(t,n,l,fn(t))}catch(Z){pl(t,n,{then:function(){},status:"rejected",reason:Z},fn())}finally{lt.p=f,S.T=v}}function $0(){}function vh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=mg(t).queue;dg(t,c,n,wt,r===null?$0:function(){return gg(t),r(l)})}function mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:wt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function gg(t){var n=mg(t).next.queue;pl(t,n,{},fn())}function Eh(){return qe(Ll)}function pg(){return ge().memoizedState}function yg(){return ge().memoizedState}function Z0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=cr(r);var l=hr(n,t,r);l!==null&&(Je(l,n,r),vl(l,n,r)),n={cache:ih()},t.payload=n;return}n=n.return}}function W0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ru(t)?vg(n,r):(r=$c(t,n,r,l),r!==null&&(Je(r,t,l),Eg(r,n,l)))}function _g(t,n,r){var l=fn();pl(t,n,r,l)}function pl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ru(t))vg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,on(E,v))return Ho(t,n,c,0),Xt===null&&Bo(),!1}catch{}finally{}if(r=$c(t,n,c,l),r!==null)return Je(r,t,l),Eg(r,n,l),!0}return!1}function Th(t,n,r,l){if(l={lane:2,revertLane:hf(),action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(s(479))}else n=$c(t,r,l,2),n!==null&&Je(n,t,2)}function ru(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function vg(t,n){Ja=Zo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Eg(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ki(t,r)}}var Zn={readContext:qe,use:tu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he};Zn.useCacheRefresh=he,Zn.useMemoCache=he,Zn.useHostTransitionStatus=he,Zn.useFormState=he,Zn.useActionState=he,Zn.useOptimistic=he;var ua={readContext:qe,use:tu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:ag,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,nu(4194308,4,og.bind(null,n,t),r)},useLayoutEffect:function(t,n){return nu(4194308,4,t,n)},useInsertionEffect:function(t,n){nu(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(oa){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var c=r(n);if(oa){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=W0.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=mh(t);var n=t.queue,r=_g.bind(null,Ct,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:yh,useDeferredValue:function(t,n){var r=nn();return _h(r,t,n)},useTransition:function(){var t=mh(!1);return t=dg.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ct,c=nn();if(Ht){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xt===null)throw Error(s(349));Ut&60||qm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,ag(Fm.bind(null,l,f,t),[t]),l.flags|=2048,es(9,Gm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=nn(),n=Xt.identifierPrefix;if(Ht){var r=Ti,l=Ei;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Wo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Q0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=Z0.bind(null,Ct)}};ua.useMemoCache=hh,ua.useHostTransitionStatus=Eh,ua.useFormState=tg,ua.useActionState=tg,ua.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Th.bind(null,Ct,!0,r),r.dispatch=n,[t,n]};var lr={readContext:qe,use:tu,useCallback:cg,useContext:qe,useEffect:ph,useImperativeHandle:ug,useInsertionEffect:sg,useLayoutEffect:lg,useMemo:hg,useReducer:eu,useRef:rg,useState:function(){return eu(Si)},useDebugValue:yh,useDeferredValue:function(t,n){var r=ge();return fg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=eu(Si)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:jm,useId:pg};lr.useCacheRefresh=yg,lr.useMemoCache=hh,lr.useHostTransitionStatus=Eh,lr.useFormState=eg,lr.useActionState=eg,lr.useOptimistic=function(t,n){var r=ge();return Ym(r,Qt,t,n)};var ca={readContext:qe,use:tu,useCallback:cg,useContext:qe,useEffect:ph,useImperativeHandle:ug,useInsertionEffect:sg,useLayoutEffect:lg,useMemo:hg,useReducer:dh,useRef:rg,useState:function(){return dh(Si)},useDebugValue:yh,useDeferredValue:function(t,n){var r=ge();return Qt===null?_h(r,t,n):fg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=dh(Si)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:jm,useId:pg};ca.useCacheRefresh=yg,ca.useMemoCache=hh,ca.useHostTransitionStatus=Eh,ca.useFormState=ig,ca.useActionState=ig,ca.useOptimistic=function(t,n){var r=ge();return Qt!==null?Ym(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Ah(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:R({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sh={isMounted:function(t){return(t=t._reactInternals)?dt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=cr(l);c.payload=n,r!=null&&(c.callback=r),n=hr(t,c,l),n!==null&&(Je(n,t,l),vl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=cr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=hr(t,c,l),n!==null&&(Je(n,t,l),vl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=cr(r);l.tag=2,n!=null&&(l.callback=n),n=hr(t,l,r),n!==null&&(Je(n,t,r),vl(n,t,r))}};function Tg(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function Ag(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Sh.enqueueReplaceState(n,n.state,null)}function ha(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=R({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sg(t){au(t)}function bg(t){console.error(t)}function Rg(t){au(t)}function su(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,r){return r=cr(r),r.tag=3,r.payload={element:null},r.callback=function(){su(t,n)},r}function Cg(t){return t=cr(t),t.tag=3,t}function Dg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){wg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){wg(n,r,l),typeof c!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function J0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&_l(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return $n===null?sf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===th?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),of(t,l,c)),!1;case 22:return r.flags|=65536,l===th?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),of(t,l,c)),!1}throw Error(s(435,r.tag))}return of(t,l,c),sf(),!1}if(Ht)return n=Rn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Jc&&(t=Error(s(422),{cause:l}),ll(An(t,r)))):(l!==Jc&&(n=Error(s(423),{cause:l}),ll(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=bh(t.stateNode,l,c),Ph(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=An(f,r),Cl===null?Cl=[f]:Cl.push(f),oe!==4&&(oe=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=bh(r.stateNode,l,t),Ph(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(yr===null||!yr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Cg(c),Dg(c,t,r,l),Ph(r,c),!1}r=r.return}while(r!==null);return!1}var Vg=Error(s(461)),xe=!1;function ke(t,n,r,l){n.child=t===null?Om(n,null,r,l):sa(n,t.child,r,l)}function Ng(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return da(n),l=lh(t,n,r,v,f,c),E=oh(),t!==null&&!xe?(uh(t,n,c),bi(t,n,c)):(Ht&&E&&Zc(n),n.flags|=1,ke(t,n,l,c),n.child)}function xg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ig(t,n,f,l,c)):(t=hu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Mh(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(v,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=gr(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ig(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(xe=!1,n.pendingProps=l=f,Mh(t,c))t.flags&131072&&(xe=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Rh(t,n,r,l,c)}function Mg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(yl(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=v!==null?v.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Og(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(n,v!==null?v.cachePool:null),v!==null?Um(n,v):eh(),Lm(n);else return n.lanes=n.childLanes=536870912,Og(t,n,v!==null?v.baseLanes|r:r,r)}else v!==null?($o(n,v.cachePool),Um(n,v),ar(),n.memoizedState=null):(t!==null&&$o(n,null),eh(),ar());return ke(t,n,c,r),n.child}function Og(t,n,r,l){var c=ah();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&$o(n,null),eh(),Lm(n),t!==null&&_l(t,n,l,!0),null}function yl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Rh(t,n,r,l,c){return da(n),r=lh(t,n,r,l,void 0,c),l=oh(),t!==null&&!xe?(uh(t,n,c),bi(t,n,c)):(Ht&&l&&Zc(n),n.flags|=1,ke(t,n,r,c),n.child)}function Ug(t,n,r,l,c,f){return da(n),n.updateQueue=null,r=Hm(n,l,r,c),Bm(t),l=oh(),t!==null&&!xe?(uh(t,n,f),bi(t,n,f)):(Ht&&l&&Zc(n),n.flags|=1,ke(t,n,r,f),n.child)}function Lg(t,n,r,l,c){if(da(n),n.stateNode===null){var f=Qa,v=r.contextType;typeof v=="object"&&v!==null&&(f=qe(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},kh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?qe(v):Qa,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Ah(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Sh.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=ha(r,E);f.props=w;var U=f.context,Q=r.contextType;v=Qa,typeof Q=="object"&&Q!==null&&(v=qe(Q));var Z=r.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==v)&&Ag(n,f,l,v),ur=!1;var H=n.memoizedState;f.state=H,Tl(n,l,f,c),El(),U=n.memoizedState,E||H!==U||ur?(typeof Z=="function"&&(Ah(n,r,Z,l),U=n.memoizedState),(w=ur||Tg(n,r,w,l,H,U,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,zh(t,n),v=n.memoizedProps,Q=ha(r,v),f.props=Q,Z=n.pendingProps,H=f.context,U=r.contextType,w=Qa,typeof U=="object"&&U!==null&&(w=qe(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||H!==w)&&Ag(n,f,l,w),ur=!1,H=n.memoizedState,f.state=H,Tl(n,l,f,c),El();var F=n.memoizedState;v!==Z||H!==F||ur||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof E=="function"&&(Ah(n,r,E,l),F=n.memoizedState),(Q=ur||Tg(n,r,Q,l,H,F,w)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=w,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,yl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=sa(n,t.child,null,c),n.child=sa(n,null,r,c)):ke(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function kg(t,n,r,l){return sl(),n.flags|=256,ke(t,n,r,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0};function Ch(t){return{baseLanes:t,cachePool:Pm()}}function Dh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function zg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ht){if(c?rr(n):ar(),Ht){var E=Le,w;if(w=E){t:{for(w=E,E=Xn;w.nodeType!==8;){if(!E){E=null;break t}if(w=kn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:ia!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912},w=Dn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,We=n,Le=null,w=!0):w=!1}w||aa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ai(n)}return E=l.children,l=l.fallback,c?(ar(),c=n.mode,E=Nh({mode:"hidden",children:E},c),l=ga(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ch(r),c.childLanes=Dh(t,v,r),n.memoizedState=wh,l):(rr(n),Vh(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(rr(n),n.flags&=-257,n=xh(t,n,r)):n.memoizedState!==null?(ar(),n.child=t.child,n.flags|=128,n=null):(ar(),c=l.fallback,E=n.mode,l=Nh({mode:"visible",children:l.children},E),c=ga(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,sa(n,t.child,null,r),l=n.child,l.memoizedState=Ch(r),l.childLanes=Dh(t,v,r),n.memoizedState=wh,n=c);else if(rr(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),n=xh(t,n,r)}else if(xe||_l(t,n,r,!1),v=(r&t.childLanes)!==0,xe||v){if(v=Xt,v!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|r)?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,ir(t,l),Je(v,t,l),Vg}E.data==="$?"||sf(),n=xh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=mE.bind(null,t),E._reactRetry=n,n=null):(t=w.treeContext,Le=kn(E.nextSibling),We=n,Ht=!0,Un=null,Xn=!1,t!==null&&(Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=ia,Ei=t.id,Ti=t.overflow,ia=n),n=Vh(n,l.children),n.flags|=4096);return n}return c?(ar(),c=l.fallback,E=n.mode,w=t.child,U=w.sibling,l=gr(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,U!==null?c=gr(U,c):(c=ga(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ch(r):(w=E.cachePool,w!==null?(U=Se._currentValue,w=w.parent!==U?{parent:U,pool:U}:w):w=Pm(),E={baseLanes:E.baseLanes|r,cachePool:w}),c.memoizedState=E,c.childLanes=Dh(t,v,r),n.memoizedState=wh,l):(rr(n),r=t.child,t=r.sibling,r=gr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Vh(t,n){return n=Nh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nh(t,n){return cp(t,n,0,null)}function xh(t,n,r){return sa(n,t.child,null,r),t=Vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Uh(t.return,n,r)}function Ih(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Bg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ke(t,n,l.children,r),l=Ae.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,r,n);else if(t.tag===19)Pg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Xo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Ih(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Xo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Ih(n,!0,r,null,f);break;case"together":Ih(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),pr|=n.lanes,!(r&n.childLanes))if(t!==null){if(_l(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=gr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Mh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function tE(t,n,r){switch(n.tag){case 3:Hi(n,n.stateNode.containerInfo),or(n,Se,t.memoizedState.cache),sl();break;case 27:case 5:Ls(n);break;case 4:Hi(n,n.stateNode.containerInfo);break;case 10:or(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(rr(n),n.flags|=128,null):r&n.child.childLanes?zg(t,n,r):(rr(n),t=bi(t,n,r),t!==null?t.sibling:null);rr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(_l(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Bg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Mg(t,n,r);case 24:or(n,Se,t.memoizedState.cache)}return bi(t,n,r)}function Hg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)xe=!0;else{if(!Mh(t,r)&&!(n.flags&128))return xe=!1,tE(t,n,r);xe=!!(t.flags&131072)}else xe=!1,Ht&&n.flags&1048576&&Rm(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Kh(l)?(t=ha(l,t),n.tag=1,n=Lg(null,n,l,t,r)):(n.tag=0,n=Rh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===k){n.tag=11,n=Ng(null,n,l,t,r);break t}else if(c===Y){n.tag=14,n=xg(null,n,l,t,r);break t}}throw n=b(l)||l,Error(s(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ha(l,n.pendingProps),Lg(t,n,l,c,r);case 3:t:{if(Hi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,zh(t,n),Tl(n,f,null,r);var v=n.memoizedState;if(f=v.cache,or(n,Se,f),f!==c.cache&&Lh(n,[Se],r,!0),El(),f=v.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=kg(t,n,f,r);break t}else if(f!==l){l=An(Error(s(424)),n),ll(l),n=kg(t,n,f,r);break t}else for(Le=kn(n.stateNode.containerInfo.firstChild),We=n,Ht=!0,Un=null,Xn=!0,r=Om(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sl(),f===l){n=bi(t,n,r);break t}ke(t,n,f,r)}n=n.child}return n;case 26:return yl(t,n),t===null?(r=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ht||(r=n.type,t=n.pendingProps,l=Su(mn.current).createElement(r),l[De]=n,l[ve]=t,ze(l,r,t),Jt(l),n.stateNode=l):n.memoizedState=Gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ls(n),t===null&&Ht&&(l=n.stateNode=Hp(n.type,n.pendingProps,mn.current),We=n,Xn=!0,Le=kn(l.firstChild)),l=n.pendingProps.children,t!==null||Ht?ke(t,n,l,r):n.child=sa(n,null,l,r),yl(t,n),n.child;case 5:return t===null&&Ht&&((c=l=Le)&&(l=NE(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,We=n,Le=kn(l.firstChild),Xn=!1,c=!0):c=!1),c||aa(n)),Ls(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Ef(c,f)?l=null:v!==null&&Ef(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=lh(t,n,K0,null,null,r),Ll._currentValue=c),yl(t,n),ke(t,n,l,r),n.child;case 6:return t===null&&Ht&&((t=r=Le)&&(r=xE(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,We=n,Le=null,t=!0):t=!1),t||aa(n)),null;case 13:return zg(t,n,r);case 4:return Hi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=sa(n,null,l,r):ke(t,n,l,r),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,r);case 7:return ke(t,n,n.pendingProps,r),n.child;case 8:return ke(t,n,n.pendingProps.children,r),n.child;case 12:return ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,or(n,n.type,l.value),ke(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,da(n),c=qe(c),l=l(c),n.flags|=1,ke(t,n,l,r),n.child;case 14:return xg(t,n,n.type,n.pendingProps,r);case 15:return Ig(t,n,n.type,n.pendingProps,r);case 19:return Bg(t,n,r);case 22:return Mg(t,n,r);case 24:return da(n),l=qe(Se),t===null?(c=ah(),c===null&&(c=Xt,f=ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},kh(n),or(n,Se,c)):(t.lanes&r&&(zh(t,n),Tl(n,null,null,r),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),or(n,Se,l)):(l=f.cache,or(n,Se,l),l!==c.cache&&Lh(n,[Se],r,!0))),ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Oh=Pt(null),fa=null,Ri=null;function or(t,n,r){Ft(Oh,n._currentValue),n._currentValue=r}function wi(t){t._currentValue=Oh.current,ae(Oh)}function Uh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Lh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Uh(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Uh(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function _l(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;on(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===Bi.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&Lh(n,t,r,l),n.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function da(t){fa=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return jg(fa,t)}function ou(t,n){return fa===null&&da(t),jg(t,n)}function jg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(t===null)throw Error(s(308));Ri=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ri=Ri.next=n;return r}var ur=!1;function kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,ee&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=jo(t),Sm(t,null,r),n}return Ho(t,l,n,r),jo(t)}function vl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ki(t,r)}}function Ph(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Bh=!1;function El(){if(Bh){var t=Wa;if(t!==null)throw t}}function Tl(t,n,r,l){Bh=!1;var c=t.updateQueue;ur=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,U=w.next;w.next=null,v===null?f=U:v.next=U,v=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=U:E.next=U,Q.lastBaseUpdate=w))}if(f!==null){var Z=c.baseState;v=0,Q=U=w=null,E=f;do{var H=E.lane&-536870913,F=H!==E.lane;if(F?(Ut&H)===H:(l&H)===H){H!==0&&H===Za&&(Bh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,At=E;H=n;var ue=r;switch(At.tag){case 1:if(ft=At.payload,typeof ft=="function"){Z=ft.call(ue,Z,H);break t}Z=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=At.payload,H=typeof ft=="function"?ft.call(ue,Z,H):ft,H==null)break t;Z=R({},Z,H);break t;case 2:ur=!0}}H=E.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[H]:F.push(H))}else F={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(U=Q=F,w=Z):Q=Q.next=F,v|=H;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;F=E,E=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);Q===null&&(w=Z),c.baseState=w,c.firstBaseUpdate=U,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),pr|=v,t.lanes=v,t.memoizedState=Z}}function qg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Gg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)qg(r[t],n)}function Al(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function fr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var w=r;try{E()}catch(U){Yt(c,w,U)}}}l=l.next}while(l!==f)}}catch(U){Yt(n,n.return,U)}}function Fg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Gg(n,r)}catch(l){Yt(t,t.return,l)}}}function Qg(t,n,r){r.props=ha(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function ma(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function un(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function Kg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function Yg(t,n,r){try{var l=t.stateNode;RE(l,t.type,r,n),l[ve]=n}catch(c){Yt(t,t.return,c)}}function Xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Au));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(jh(t,n,r),t=t.sibling;t!==null;)jh(t,n,r),t=t.sibling}function uu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(uu(t,n,r),t=t.sibling;t!==null;)uu(t,n,r),t=t.sibling}var Ci=!1,le=!1,qh=!1,$g=typeof WeakSet=="function"?WeakSet:Set,Ie=null,Zg=!1;function eE(t,n){if(t=t.containerInfo,_f=Vu,t=mm(t),Fc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,w=-1,U=0,Q=0,Z=t,H=null;e:for(;;){for(var F;Z!==r||c!==0&&Z.nodeType!==3||(E=v+c),Z!==f||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===t)break e;if(H===r&&++U===c&&(E=v),H===f&&++Q===l&&(w=v),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(vf={focusedElem:t,selectionRange:r},Vu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ft=ha(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){Yt(r,r.return,At)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Sf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return ft=Zg,Zg=!1,ft}function Wg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Vi(t,r),l&4&&Al(5,r);break;case 1:if(Vi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var c=ha(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}l&64&&Fg(r),l&512&&ma(r,r.return);break;case 3:if(Vi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Gg(l,t)}catch(E){Yt(r,r.return,E)}}break;case 26:Vi(t,r),l&512&&ma(r,r.return);break;case 27:case 5:Vi(t,r),n===null&&l&4&&Kg(r),l&512&&ma(r,r.return);break;case 12:Vi(t,r);break;case 13:Vi(t,r),l&4&&ep(t,r);break;case 22:if(c=r.memoizedState!==null||Ci,!c){n=n!==null&&n.memoizedState!==null||le;var f=Ci,v=le;Ci=c,(le=n)&&!v?dr(t,r,(r.subtreeFlags&8772)!==0):Vi(t,r),Ci=f,le=v}l&512&&(r.memoizedProps.mode==="manual"?ma(r,r.return):un(r,r.return));break;default:Vi(t,r)}}function Jg(t){var n=t.alternate;n!==null&&(t.alternate=null,Jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,cn=!1;function Di(t,n,r){for(r=r.child;r!==null;)tp(t,n,r),r=r.sibling}function tp(t,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(ji,r)}catch{}switch(r.tag){case 26:le||un(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||un(r,n);var l=pe,c=cn;for(pe=r.stateNode,Di(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Gr(r),pe=l,cn=c;break;case 5:le||un(r,n);case 6:c=pe;var f=cn;if(pe=null,Di(t,n,r),pe=c,cn=f,pe!==null)if(cn)try{t=pe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Yt(r,n,v)}else try{pe.removeChild(r.stateNode)}catch(v){Yt(r,n,v)}break;case 18:pe!==null&&(cn?(n=pe,r=r.stateNode,n.nodeType===8?Af(n.parentNode,r):n.nodeType===1&&Af(n,r),Bl(n)):Af(pe,r.stateNode));break;case 4:l=pe,c=cn,pe=r.stateNode.containerInfo,cn=!0,Di(t,n,r),pe=l,cn=c;break;case 0:case 11:case 14:case 15:le||fr(2,r,n),le||fr(4,r,n),Di(t,n,r);break;case 1:le||(un(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Qg(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:le||un(r,n),le=(l=le)||r.memoizedState!==null,Di(t,n,r),le=l;break;default:Di(t,n,r)}}function ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){Yt(n,n.return,r)}}function nE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $g),n;default:throw Error(s(435,t.tag))}}function Gh(t,n){var r=nE(t);n.forEach(function(l){var c=gE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:pe=E.stateNode,cn=!1;break t;case 3:pe=E.stateNode.containerInfo,cn=!0;break t;case 4:pe=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(pe===null)throw Error(s(160));tp(f,v,c),pe=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)np(n,t),n=n.sibling}var Ln=null;function np(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Cn(t),l&4&&(fr(3,t,t.return),Al(3,t),fr(5,t,t.return));break;case 1:wn(n,t),Cn(t),l&512&&(le||r===null||un(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ln;if(wn(n,t),Cn(t),l&512&&(le||r===null||un(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Xi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[De]=t,Jt(f),l=f;break t;case"link":var v=Kp("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(v=Kp("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Jt(f),l=f}t.stateNode=l}else Yp(c,t.type,t.stateNode);else t.stateNode=Qp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Yp(c,t.type,t.stateNode):Qp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var w=c.firstChild;w;){var U=w.nextSibling,Q=w.nodeName;w[Xi]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=U}for(var Z=t.type,H=c.attributes;H.length;)c.removeAttributeNode(H[0]);ze(c,Z,f),c[De]=t,c[ve]=f}catch(ft){Yt(t,t.return,ft)}}case 5:if(wn(n,t),Cn(t),l&512&&(le||r===null||un(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(ft){Yt(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Yg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(qh=!0);break;case 6:if(wn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ft){Yt(t,t.return,ft)}}break;case 3:if(wu=null,c=Ln,Ln=bu(n.containerInfo),wn(n,t),Ln=c,Cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(ft){Yt(t,t.return,ft)}qh&&(qh=!1,ip(t));break;case 4:l=Ln,Ln=bu(t.stateNode.containerInfo),wn(n,t),Cn(t),Ln=l;break;case 12:wn(n,t),Cn(t);break;case 13:wn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Jh=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gh(t,l)));break;case 22:if(l&512&&(le||r===null||un(r,r.return)),w=t.memoizedState!==null,U=r!==null&&r.memoizedState!==null,Q=Ci,Z=le,Ci=Q||w,le=Z||U,wn(n,t),le=Z,Ci=Q,Cn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=Ci||le,r===null||U||n||ns(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){U=r=n;try{if(c=U.stateNode,w)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=U.stateNode,E=U.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ft){Yt(U,U.return,ft)}}}else if(n.tag===6){if(r===null){U=n;try{U.stateNode.nodeValue=w?"":U.memoizedProps}catch(ft){Yt(U,U.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Gh(t,r))));break;case 19:wn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gh(t,l)));break;case 21:break;default:wn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Xg(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Hh(t);uu(t,f,c);break;case 5:var v=l.stateNode;l.flags&32&&(yn(v,""),l.flags&=-33);var E=Hh(t);uu(t,E,v);break;case 3:case 4:var w=l.stateNode.containerInfo,U=Hh(t);jh(t,U,w);break;default:throw Error(s(161))}}}catch(Q){Yt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ip(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ip(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Vi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function ns(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fr(4,n,n.return),ns(n);break;case 1:un(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Qg(n,n.return,r),ns(n);break;case 26:case 27:case 5:un(n,n.return),ns(n);break;case 22:un(n,n.return),n.memoizedState===null&&ns(n);break;default:ns(n)}t=t.sibling}}function dr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:dr(c,f,r),Al(4,f);break;case 1:if(dr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)qg(w[c],E)}catch(U){Yt(l,l.return,U)}}r&&v&64&&Fg(f),ma(f,f.return);break;case 26:case 27:case 5:dr(c,f,r),r&&l===null&&v&4&&Kg(f),ma(f,f.return);break;case 12:dr(c,f,r);break;case 13:dr(c,f,r),r&&v&4&&ep(c,f);break;case 22:f.memoizedState===null&&dr(c,f,r),ma(f,f.return);break;default:dr(c,f,r)}n=n.sibling}}function Fh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fl(r))}function Qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function mr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(t,n,r,l),n=n.sibling}function rp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:mr(t,n,r,l),c&2048&&Al(9,n);break;case 3:mr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){mr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else mr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?mr(t,n,r,l):Sl(t,n):f._visibility&4?mr(t,n,r,l):(f._visibility|=4,is(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Fh(n.alternate,n);break;case 24:mr(t,n,r,l),c&2048&&Qh(n.alternate,n);break;default:mr(t,n,r,l)}}function is(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,w=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:is(f,v,E,w,c),Al(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&4?is(f,v,E,w,c):Sl(f,v):(Q._visibility|=4,is(f,v,E,w,c)),c&&U&2048&&Fh(v.alternate,v);break;case 24:is(f,v,E,w,c),c&&U&2048&&Qh(v.alternate,v);break;default:is(f,v,E,w,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(r,l),c&2048&&Fh(l.alternate,l);break;case 24:Sl(r,l),c&2048&&Qh(l.alternate,l);break;default:Sl(r,l)}n=n.sibling}}var bl=8192;function rs(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 26:rs(t),t.flags&bl&&t.memoizedState!==null&&GE(Ln,t.memoizedState,t.memoizedProps);break;case 5:rs(t);break;case 3:case 4:var n=Ln;Ln=bu(t.stateNode.containerInfo),rs(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,rs(t),bl=n):rs(t));break;default:rs(t)}}function sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,op(l,t)}sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&fr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,cu(t)):Rl(t);break;default:Rl(t)}}function cu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,op(l,t)}sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fr(8,n,n.return),cu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,cu(n));break;default:cu(n)}t=t.sibling}}function op(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:fr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Jg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function iE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new iE(t,n,r,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gr(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function up(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function hu(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")Kh(t)&&(v=1);else if(typeof t=="string")v=jE(t,r,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return ga(r.children,c,f,n);case y:v=8,c|=24;break;case T:return t=Dn(12,r,n,c|2),t.elementType=T,t.lanes=f,t;case K:return t=Dn(13,r,n,c),t.elementType=K,t.lanes=f,t;case j:return t=Dn(19,r,n,c),t.elementType=j,t.lanes=f,t;case tt:return cp(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case O:v=10;break t;case V:v=9;break t;case k:v=11;break t;case Y:v=14;break t;case et:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Dn(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ga(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function cp(t,n,r,l){t=Dn(22,t,l,n),t.elementType=tt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var v=ir(f,2);v!==null&&(c._pendingVisibility|=2,Je(v,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if(c._pendingVisibility&2){var v=ir(f,2);v!==null&&(c._pendingVisibility&=-3,Je(v,f,2))}}};return t.stateNode=c,t}function Yh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function Xh(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ni(t){t.flags|=4}function hp(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n)){if(n=Rn.current,n!==null&&((Ut&4194176)===Ut?$n!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==$n))throw ul=th,Dm;t.flags|=8192}}function fu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Fi():536870912,t.lanes|=n,ss|=n)}function wl(t,n){if(!Ht)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function rE(t,n,r){var l=n.pendingProps;switch(Wc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(Se),ui(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Un!==null&&(rf(Un),Un=null))),te(n),null;case 26:return r=n.memoizedState,t===null?(Ni(n),r!==null?(te(n),hp(n,r)):(te(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ni(n),te(n),hp(n,r)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ni(n),te(n),n.flags&=-16777217),null;case 27:Ra(n),r=mn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=Ye.current,al(n)?wm(n):(t=Hp(c,l,r),n.stateNode=t,Ni(n))}return te(n),null;case 5:if(Ra(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(t=Ye.current,al(n))wm(n);else{switch(c=Su(mn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ni(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mn.current,al(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Up(t.nodeValue,r)),t||aa(n)}else t=Su(t).createTextNode(l),t[De]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else sl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else Un!==null&&(rf(Un),Un=null),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),fu(n,n.updateQueue),te(n),null;case 4:return ui(),t===null&&gf(n.stateNode.containerInfo),te(n),null;case 10:return wi(n.type),te(n),null;case 19:if(ae(Ae),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)wl(c,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=Xo(t),f!==null){for(n.flags|=128,wl(c,!1),t=f.updateQueue,n.updateQueue=t,fu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)up(r,t),r=r.sibling;return Ft(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&tn()>du&&(n.flags|=128,l=!0,wl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Xo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,fu(n,t),wl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ht)return te(n),null}else 2*tn()-c.renderingStartTime>du&&r!==536870912&&(n.flags|=128,l=!0,wl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tn(),n.sibling=null,t=Ae.current,Ft(Ae,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return Ai(n),nh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&fu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ae(la),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wi(Se),te(n),null;case 25:return null}throw Error(s(156,n.tag))}function aE(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(Se),ui(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ra(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(Ae),null;case 4:return ui(),null;case 10:return wi(n.type),null;case 22:case 23:return Ai(n),nh(),t!==null&&ae(la),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(Se),null;case 25:return null;default:return null}}function fp(t,n){switch(Wc(n),n.tag){case 3:wi(Se),ui();break;case 26:case 27:case 5:Ra(n);break;case 4:ui();break;case 13:Ai(n);break;case 19:ae(Ae);break;case 10:wi(n.type);break;case 22:case 23:Ai(n),nh(),t!==null&&ae(la);break;case 24:wi(Se)}}var sE={getCacheForType:function(t){var n=qe(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},lE=typeof WeakMap=="function"?WeakMap:Map,ee=0,Xt=null,Vt=null,Ut=0,$t=0,hn=null,xi=!1,as=!1,$h=!1,Ii=0,oe=0,pr=0,pa=0,Zh=0,Vn=0,ss=0,Cl=null,Wn=null,Wh=!1,Jh=0,du=1/0,mu=null,yr=null,gu=!1,ya=null,Dl=0,tf=0,ef=null,Vl=0,nf=null;function fn(){if(ee&2&&Ut!==0)return Ut&-Ut;if(S.T!==null){var t=Za;return t!==0?t:hf()}return To()}function dp(){Vn===0&&(Vn=!(Ut&536870912)||Ht?Hs():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Vn}function Je(t,n,r){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(ls(t,0),Mi(t,Ut,Vn,!1)),ce(t,r),(!(ee&2)||t!==Xt)&&(t===Xt&&(!(ee&2)&&(pa|=r),oe===4&&Mi(t,Ut,Vn,!1)),Jn(t))}function mp(t,n,r){if(ee&6)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Gi(t,n),c=l?cE(t,n):lf(t,n,!0),f=l;do{if(c===0){as&&!l&&Mi(t,n,0,!1);break}else if(c===6)Mi(t,n,0,!xi);else{if(r=t.current.alternate,f&&!oE(r)){c=lf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Cl;var w=E.current.memoizedState.isDehydrated;if(w&&(ls(E,v).flags|=256),v=lf(E,v,!1),v!==2){if($h&&!w){E.errorRecoveryDisabledLanes|=f,pa|=f,c=4;break t}f=Wn,Wn=c,f!==null&&rf(f)}c=v}if(f=!1,c!==2)continue}}if(c===1){ls(t,0),Mi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Mi(l,n,Vn,!xi);break t}break;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Jh+300-tn(),10<f)){if(Mi(l,n,Vn,!xi),gn(l,0)!==0)break t;l.timeoutHandle=zp(gp.bind(null,l,r,Wn,mu,Wh,n,Vn,pa,ss,xi,2,-0,0),f);break t}gp(l,r,Wn,mu,Wh,n,Vn,pa,ss,xi,0,-0,0)}}break}while(!0);Jn(t)}function rf(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function gp(t,n,r,l,c,f,v,E,w,U,Q,Z,H){var F=n.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:qE},ap(n),n=FE(),n!==null)){t.cancelPendingCommit=n(Ap.bind(null,t,r,l,c,v,E,w,1,Z,H)),Mi(t,f,v,!U);return}Ap(t,r,l,c,v,E,w,Q,Z,H)}function oE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mi(t,n,r,l){n&=~Zh,n&=~pa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&Qi(t,r,n)}function pu(){return ee&6?!0:(Nl(0),!1)}function af(){if(Vt!==null){if($t===0)var t=Vt.return;else t=Vt,Ri=fa=null,ch(t),Xa=null,cl=0,t=Vt;for(;t!==null;)fp(t.alternate,t),t=t.return;Vt=null}}function ls(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,CE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),af(),Xt=t,Vt=r=gr(t.current,null),Ut=n,$t=0,hn=null,xi=!1,as=Gi(t,n),$h=!1,ss=Vn=Zh=pa=pr=oe=0,Wn=Cl=null,Wh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Bo(),r}function pp(t,n){Ct=null,S.H=Zn,n===ol?(n=xm(),$t=3):n===Dm?(n=xm(),$t=4):$t=n===Vg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Vt===null&&(oe=1,su(t,An(n,t.current)))}function yp(){var t=S.H;return S.H=Zn,t===null?Zn:t}function _p(){var t=S.A;return S.A=sE,t}function sf(){oe=4,xi||(Ut&4194176)!==Ut&&Rn.current!==null||(as=!0),!(pr&134217727)&&!(pa&134217727)||Xt===null||Mi(Xt,Ut,Vn,!1)}function lf(t,n,r){var l=ee;ee|=2;var c=yp(),f=_p();(Xt!==t||Ut!==n)&&(mu=null,ls(t,n)),n=!1;var v=oe;t:do try{if($t!==0&&Vt!==null){var E=Vt,w=hn;switch($t){case 8:af(),v=6;break t;case 3:case 2:case 6:Rn.current===null&&(n=!0);var U=$t;if($t=0,hn=null,os(t,E,w,U),r&&as){v=0;break t}break;default:U=$t,$t=0,hn=null,os(t,E,w,U)}}uE(),v=oe;break}catch(Q){pp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ri=fa=null,ee=l,S.H=c,S.A=f,Vt===null&&(Xt=null,Ut=0,Bo()),v}function uE(){for(;Vt!==null;)vp(Vt)}function cE(t,n){var r=ee;ee|=2;var l=yp(),c=_p();Xt!==t||Ut!==n?(mu=null,du=tn()+500,ls(t,n)):as=Gi(t,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var f=hn;e:switch($t){case 1:$t=0,hn=null,os(t,n,f,1);break;case 2:if(Vm(f)){$t=0,hn=null,Ep(n);break}n=function(){$t===2&&Xt===t&&($t=7),Jn(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Vm(f)?($t=0,hn=null,Ep(n)):($t=0,hn=null,os(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||Xp(v)){$t=0,hn=null;var w=E.sibling;if(w!==null)Vt=w;else{var U=E.return;U!==null?(Vt=U,yu(U)):Vt=null}break e}}$t=0,hn=null,os(t,n,f,5);break;case 6:$t=0,hn=null,os(t,n,f,6);break;case 8:af(),oe=6;break t;default:throw Error(s(462))}}hE();break}catch(Q){pp(t,Q)}while(!0);return Ri=fa=null,S.H=l,S.A=c,ee=r,Vt!==null?0:(Xt=null,Ut=0,Bo(),oe)}function hE(){for(;Vt!==null&&!Oc();)vp(Vt)}function vp(t){var n=Hg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?yu(t):Vt=n}function Ep(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ug(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Ug(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:ch(n);default:fp(r,n),n=Vt=up(n,Ii),n=Hg(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?yu(t):Vt=n}function os(t,n,r,l){Ri=fa=null,ch(n),Xa=null,cl=0;var c=n.return;try{if(J0(t,c,n,r,Ut)){oe=1,su(t,An(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;oe=1,su(t,An(r,t.current)),Vt=null;return}n.flags&32768?(Ht||l===1?t=!0:as||Ut&536870912?t=!1:(xi=t=!0,(l===2||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tp(n,t)):yu(n)}function yu(t){var n=t;do{if(n.flags&32768){Tp(n,xi);return}t=n.return;var r=rE(n.alternate,n,Ii);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);oe===0&&(oe=5)}function Tp(t,n){do{var r=aE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);oe=6,Vt=null}function Ap(t,n,r,l,c,f,v,E,w,U){var Q=S.T,Z=lt.p;try{lt.p=2,S.T=null,fE(t,n,r,l,Z,c,f,v,E,w,U)}finally{S.T=Q,lt.p=Z}}function fE(t,n,r,l,c,f,v,E){do us();while(ya!==null);if(ee&6)throw Error(s(327));var w=t.finishedWork;if(l=t.finishedLanes,w===null)return null;if(t.finishedWork=null,t.finishedLanes=0,w===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=w.lanes|w.childLanes;if(U|=Xc,vo(t,l,U,f,v,E),t===Xt&&(Vt=Xt=null,Ut=0),!(w.subtreeFlags&10256)&&!(w.flags&10256)||gu||(gu=!0,tf=U,ef=r,pE(ci,function(){return us(),null})),r=(w.flags&15990)!==0,w.subtreeFlags&15990||r?(r=S.T,S.T=null,f=lt.p,lt.p=2,v=ee,ee|=4,eE(t,w),np(w,t),L0(vf,t.containerInfo),Vu=!!_f,vf=_f=null,t.current=w,Wg(t,w.alternate,w),ks(),ee=v,lt.p=f,S.T=r):t.current=w,gu?(gu=!1,ya=t,Dl=l):Sp(t,U),U=t.pendingLanes,U===0&&(yr=null),Ps(w.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,w=0;w<n.length;w++)U=n[w],c(U.value,{componentStack:U.stack});return Dl&3&&us(),U=t.pendingLanes,l&4194218&&U&42?t===nf?Vl++:(Vl=0,nf=t):Vl=0,Nl(0),null}function Sp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function us(){if(ya!==null){var t=ya,n=tf;tf=0;var r=Eo(Dl),l=S.T,c=lt.p;try{if(lt.p=32>r?32:r,S.T=null,ya===null)var f=!1;else{r=ef,ef=null;var v=ya,E=Dl;if(ya=null,Dl=0,ee&6)throw Error(s(331));var w=ee;if(ee|=4,lp(v.current),rp(v,v.current,E,r),ee=w,Nl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(ji,v)}catch{}f=!0}return f}finally{lt.p=c,S.T=l,Sp(t,n)}}return!1}function bp(t,n,r){n=An(r,n),n=bh(t.stateNode,n,2),t=hr(t,n,2),t!==null&&(ce(t,2),Jn(t))}function Yt(t,n,r){if(t.tag===3)bp(t,t,r);else for(;n!==null;){if(n.tag===3){bp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yr===null||!yr.has(l))){t=An(r,t),r=Cg(2),l=hr(n,r,2),l!==null&&(Dg(r,l,n,t),ce(l,2),Jn(l));break}}n=n.return}}function of(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new lE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||($h=!0,c.add(r),t=dE.bind(null,t,n,r),n.then(t,t))}function dE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(Ut&r)===r&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>tn()-Jh?!(ee&2)&&ls(t,0):Zh|=r,ss===Ut&&(ss=0)),Jn(t)}function Rp(t,n){n===0&&(n=Fi()),t=ir(t,n),t!==null&&(ce(t,n),Jn(t))}function mE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Rp(t,r)}function gE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Rp(t,r)}function pE(t,n){return Hr(t,n)}var _u=null,cs=null,uf=!1,vu=!1,cf=!1,_a=0;function Jn(t){t!==cs&&t.next===null&&(cs===null?_u=cs=t:cs=cs.next=t),vu=!0,uf||(uf=!0,_E(yE))}function Nl(t,n){if(!cf&&vu){cf=!0;do for(var r=!1,l=_u;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(v&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Dp(l,f))}else f=Ut,f=gn(l,l===Xt?f:0),!(f&3)||Gi(l,f)||(r=!0,Dp(l,f));l=l.next}while(r);cf=!1}}function yE(){vu=uf=!1;var t=0;_a!==0&&(wE()&&(t=_a),_a=0);for(var n=tn(),r=null,l=_u;l!==null;){var c=l.next,f=wp(l,n);f===0?(l.next=null,r===null?_u=c:r.next=c,c===null&&(cs=r)):(r=l,(t!==0||f&3)&&(vu=!0)),l=c}Nl(t)}function wp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xe(f),E=1<<v,w=c[v];w===-1?(!(E&r)||E&l)&&(c[v]=Da(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xt,r=Ut,r=gn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ca(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Gi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ca(l),Eo(r)){case 2:case 8:r=Ce;break;case 32:r=ci;break;case 268435456:r=zs;break;default:r=ci}return l=Cp.bind(null,t),r=Hr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ca(l),t.callbackPriority=2,t.callbackNode=null,2}function Cp(t,n){var r=t.callbackNode;if(us()&&t.callbackNode!==r)return null;var l=Ut;return l=gn(t,t===Xt?l:0),l===0?null:(mp(t,l,n),wp(t,tn()),t.callbackNode!=null&&t.callbackNode===r?Cp.bind(null,t):null)}function Dp(t,n){if(us())return null;mp(t,n,!0)}function _E(t){DE(function(){ee&6?Hr(_e,t):t()})}function hf(){return _a===0&&(_a=Hs()),_a}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jn(""+t)}function Np(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function vE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Vp((c[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?Vp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ua("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var w=v?Np(c,v):new FormData(c);vh(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=v?Np(c,v):new FormData(c),vh(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var ff=0;ff<Am.length;ff++){var df=Am[ff],EE=df.toLowerCase(),TE=df[0].toUpperCase()+df.slice(1);On(EE,"on"+TE)}On(ym,"onAnimationEnd"),On(_m,"onAnimationIteration"),On(vm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(z0,"onTransitionRun"),On(P0,"onTransitionStart"),On(B0,"onTransitionCancel"),On(Em,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function xp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,U=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=U;try{f(c)}catch(Q){au(Q)}c.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,U=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=U;try{f(c)}catch(Q){au(Q)}c.currentTarget=null,f=w}}}}function xt(t,n){var r=n[qr];r===void 0&&(r=n[qr]=new Set);var l=t+"__bubble";r.has(l)||(Ip(n,t,2,!1),r.add(l))}function mf(t,n,r){var l=0;n&&(l|=4),Ip(r,t,l,n)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[Eu]){t[Eu]=!0,qs.forEach(function(r){r!=="selectionchange"&&(AE.has(r)||mf(r,!1,t),mf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Eu]||(n[Eu]=!0,mf("selectionchange",!1,n))}}function Ip(t,n,r,l){switch(ey(n)){case 2:var c=YE;break;case 8:c=XE;break;default:c=Df}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function pf(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;v=v.return}for(;E!==null;){if(v=Mn(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Ro(function(){var U=f,Q=Oa(r),Z=[];t:{var H=Tm.get(t);if(H!==void 0){var F=Ua,ft=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":F=Ha;break;case"focusin":ft="focus",F=za;break;case"focusout":ft="blur",F=za;break;case"beforeblur":case"afterblur":F=za;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Mo;break;case ym:case _m:case vm:F=Pa;break;case Em:F=Uo;break;case"scroll":case"scrollend":F=wo;break;case"wheel":F=ja;break;case"copy":case"cut":case"paste":F=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=el;break;case"toggle":case"beforetoggle":F=ko}var At=(n&4)!==0,ue=!At&&(t==="scroll"||t==="scrollend"),z=At?H!==null?H+"Capture":null:H;At=[];for(var M=U,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||z===null||(X=Yr(M,z),X!=null&&At.push(Il(M,X,B))),ue)break;M=M.return}0<At.length&&(H=new F(H,ft,null,r,Q),Z.push({event:H,listeners:At}))}}if(!(n&7)){t:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&r!==_n&&(ft=r.relatedTarget||r.fromElement)&&(Mn(ft)||ft[hi]))break t;if((F||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,F?(ft=r.relatedTarget||r.toElement,F=U,ft=ft?Mn(ft):null,ft!==null&&(ue=dt(ft),At=ft.tag,ft!==ue||At!==5&&At!==27&&At!==6)&&(ft=null)):(F=null,ft=U),F!==ft)){if(At=En,X="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(At=el,X="onPointerLeave",z="onPointerEnter",M="pointer"),ue=F==null?H:$i(F),B=ft==null?H:$i(ft),H=new At(X,M+"leave",F,r,Q),H.target=ue,H.relatedTarget=B,X=null,Mn(Q)===U&&(At=new At(z,M+"enter",ft,r,Q),At.target=B,At.relatedTarget=ue,X=At),ue=X,F&&ft)e:{for(At=F,z=ft,M=0,B=At;B;B=hs(B))M++;for(B=0,X=z;X;X=hs(X))B++;for(;0<M-B;)At=hs(At),M--;for(;0<B-M;)z=hs(z),B--;for(;M--;){if(At===z||z!==null&&At===z.alternate)break e;At=hs(At),z=hs(z)}At=null}else At=null;F!==null&&Mp(Z,H,F,At,!1),ft!==null&&ue!==null&&Mp(Z,ue,ft,At,!0)}}t:{if(H=U?$i(U):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ut=sm;else if(Te(H))if(lm)ut=O0;else{ut=I0;var Dt=x0}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&Ys(U.elementType)&&(ut=sm):ut=M0;if(ut&&(ut=ut(t,U))){vi(Z,ut,r,Q);break t}Dt&&Dt(t,H,U),t==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&Ma(H,"number",H.value)}switch(Dt=U?$i(U):window,t){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(qa=Dt,Qc=U,rl=null);break;case"focusout":rl=Qc=qa=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,gm(Z,r,Q);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":gm(Z,r,Q)}var mt;if(Kn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Mt?q(t,r)&&(vt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(_&&r.locale!=="ko"&&(Mt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Mt&&(mt=$s()):(qn=Q,nr="value"in qn?qn.value:qn.textContent,Mt=!0)),Dt=Tu(U,vt),0<Dt.length&&(vt=new Js(vt,t,null,r,Q),Z.push({event:vt,listeners:Dt}),mt?vt.data=mt:(mt=nt(r),mt!==null&&(vt.data=mt)))),(mt=m?Ee(t,r):Ot(t,r))&&(vt=Tu(U,"onBeforeInput"),0<vt.length&&(Dt=new Js("onBeforeInput","beforeinput",null,r,Q),Z.push({event:Dt,listeners:vt}),Dt.data=mt)),vE(Z,t,U,r,Q)}xp(Z,n)})}function Il(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Tu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Yr(t,r),c!=null&&l.unshift(Il(t,c,f)),c=Yr(t,n),c!=null&&l.push(Il(t,c,f))),t=t.return}return l}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mp(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,w=E.alternate,U=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||U===null||(w=U,c?(U=Yr(r,f),U!=null&&v.unshift(Il(r,U,w))):c||(U=Yr(r,f),U!=null&&v.push(Il(r,U,w)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var SE=/\r\n?/g,bE=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(SE,`
`).replace(bE,"")}function Up(t,n){return n=Op(n),Op(t)===n}function Au(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Ji(t,"class",l);break;case"tabIndex":Ji(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(t,r,l);break;case"style":bo(t,l,f);break;case"data":if(n!=="object"){Ji(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=jn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=jn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Au);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=jn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),Wi(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Pc.get(r)||r,Wi(t,r,l))}}function yf(t,n,r,l,c,f){switch(r){case"style":bo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Wi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":xt("invalid",t);var E=f=v=c=null,w=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":v=Q;break;case"checked":w=Q;break;case"defaultChecked":U=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Q,r,null)}}Qr(t,f,E,w,U,v,c,!1),Fr(t);return;case"select":xt("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?Bt(t,!!l,n,!1):r!=null&&Bt(t,!!l,r,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,r,null)}er(t,l,c,f),Fr(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,r,null)}return;case"dialog":xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)xt(xl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,U,l,r,null)}return;default:if(Ys(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&yf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function RE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,w=null,U=null,Q=null;for(F in r){var Z=r[F];if(r.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(F)||Kt(t,n,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=r[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":f=F;break;case"name":c=F;break;case"checked":U=F;break;case"defaultChecked":Q=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==Z&&Kt(t,n,H,F,l,Z)}}tr(t,v,E,w,U,Q,f,c);return;case"select":F=v=E=H=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":F=w;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==w&&Kt(t,n,c,f,l,w)}n=E,r=v,l=F,H!=null?Bt(t,!!r,H,!1):!!l!=!!r&&(n!=null?Bt(t,!!r,n,!0):Bt(t,!!r,r?[]:"",!1));return;case"textarea":F=H=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":H=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,v,c,l,f)}Kr(t,H,F);return;case"option":for(var ft in r)if(H=r[ft],r.hasOwnProperty(ft)&&H!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Kt(t,n,ft,null,l,H)}for(w in l)if(H=l[w],F=r[w],l.hasOwnProperty(w)&&H!==F&&(H!=null||F!=null))switch(w){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Kt(t,n,w,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in r)H=r[At],r.hasOwnProperty(At)&&H!=null&&!l.hasOwnProperty(At)&&Kt(t,n,At,null,l,H);for(U in l)if(H=l[U],F=r[U],l.hasOwnProperty(U)&&H!==F&&(H!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(t,n,U,H,l,F)}return;default:if(Ys(n)){for(var ue in r)H=r[ue],r.hasOwnProperty(ue)&&H!==void 0&&!l.hasOwnProperty(ue)&&yf(t,n,ue,void 0,l,H);for(Q in l)H=l[Q],F=r[Q],!l.hasOwnProperty(Q)||H===F||H===void 0&&F===void 0||yf(t,n,Q,H,l,F);return}}for(var z in r)H=r[z],r.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&Kt(t,n,z,null,l,H);for(Z in l)H=l[Z],F=r[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||Kt(t,n,Z,H,l,F)}var _f=null,vf=null;function Su(t){return t.nodeType===9?t:t.ownerDocument}function Lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function wE(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,DE=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(VE)}:zp;function VE(t){setTimeout(function(){throw t})}function Af(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Bl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Bl(n)}function Sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sf(r),Gr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function NE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function xE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Bp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Hp(t,n,r){switch(n=Su(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Nn=new Map,jp=new Set;function bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=lt.d;lt.d={f:IE,r:ME,D:OE,C:UE,L:LE,m:kE,X:PE,S:zE,M:BE};function IE(){var t=Oi.f(),n=pu();return t||n}function ME(t){var n=fi(t);n!==null&&n.tag===5&&n.type==="form"?gg(n):Oi.r(t)}var fs=typeof document>"u"?null:document;function qp(t,n,r){var l=fs;if(l&&typeof n=="string"&&n){var c=se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),jp.has(c)||(jp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function OE(t){Oi.D(t),qp("dns-prefetch",t,null)}function UE(t,n){Oi.C(t,n),qp("preconnect",t,n)}function LE(t,n,r){Oi.L(t,n,r);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+se(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+se(r.imageSizes)+'"]')):c+='[href="'+se(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}Nn.has(f)||(t=R({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ml(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function kE(t,n){Oi.m(t,n);var r=fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!Nn.has(f)&&(t=R({rel:"modulepreload",href:t},n),Nn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),ze(l,"link",t),Jt(l),r.head.appendChild(l)}}}function zE(t,n,r){Oi.S(t,n,r);var l=fs;if(l&&t){var c=Zi(l).hoistableStyles,f=ds(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ml(f)))E.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Nn.get(f))&&bf(t,r);var w=v=l.createElement("link");Jt(w),ze(w,"link",t),w._p=new Promise(function(U,Q){w.onload=U,w.onerror=Q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ru(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function PE(t,n){Oi.X(t,n);var r=fs;if(r&&t){var l=Zi(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=R({src:t,async:!0},n),(n=Nn.get(c))&&Rf(t,n),f=r.createElement("script"),Jt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function BE(t,n){Oi.M(t,n);var r=fs;if(r&&t){var l=Zi(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=R({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&Rf(t,n),f=r.createElement("script"),Jt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gp(t,n,r,l){var c=(c=mn.current)?bu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ds(r.href),r=Zi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ds(r.href);var f=Zi(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Ml(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(t,r),f||HE(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(r),r=Zi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+se(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function Fp(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function HE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),Jt(n),t.head.appendChild(n))}function ms(t){return'[src="'+se(t)+'"]'}function Ol(t){return"script[async]"+t}function Qp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+se(r.href)+'"]');if(l)return n.instance=l,Jt(l),l;var c=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Jt(l),ze(l,"style",c),Ru(l,r.precedence,t),n.instance=l;case"stylesheet":c=ds(r.href);var f=t.querySelector(Ml(c));if(f)return n.state.loading|=4,n.instance=f,Jt(f),f;l=Fp(r),(c=Nn.get(c))&&bf(l,c),f=(t.ownerDocument||t).createElement("link"),Jt(f);var v=f;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ze(f,"link",l),n.state.loading|=4,Ru(f,r.precedence,t),n.instance=f;case"script":return f=ms(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,Jt(c),c):(l=r,(c=Nn.get(f))&&(l=R({},r),Rf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Jt(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Ru(l,r.precedence,t));return n.instance}function Ru(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wu=null;function Kp(t,n,r){if(wu===null){var l=new Map,c=wu=new Map;c.set(r,l)}else c=wu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Xi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function Yp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function jE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ul=null;function qE(){}function GE(t,n,r){if(Ul===null)throw Error(s(475));var l=Ul;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ds(r.href),f=t.querySelector(Ml(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Jt(f);return}f=t.ownerDocument||t,r=Fp(r),(c=Nn.get(c))&&bf(r,c),f=f.createElement("link"),Jt(f);var v=f;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function FE(){if(Ul===null)throw Error(s(475));var t=Ul;return t.stylesheets&&t.count===0&&wf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&wf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)wf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Du=null;function wf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Du=new Map,n.forEach(QE,t),Du=null,Cu.call(t))}function QE(t,n){if(!(n.state.loading&4)){var r=Du.get(t);if(r)var l=r.get(null);else{r=new Map,Du.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:O,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function KE(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.hiddenUpdates=Va(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function $p(t,n,r,l,c,f,v,E,w,U,Q,Z){return t=new KE(t,n,r,v,E,w,U,Z),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},kh(f),t}function Zp(t){return t?(t=Qa,t):Qa}function Wp(t,n,r,l,c,f){c=Zp(c),l.context===null?l.context=c:l.pendingContext=c,l=cr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=hr(t,l,n),r!==null&&(Je(r,t,n),vl(r,t,n))}function Jp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cf(t,n){Jp(t,n),(t=t.alternate)&&Jp(t,n)}function ty(t){if(t.tag===13){var n=ir(t,67108864);n!==null&&Je(n,t,67108864),Cf(t,67108864)}}var Vu=!0;function YE(t,n,r,l){var c=S.T;S.T=null;var f=lt.p;try{lt.p=2,Df(t,n,r,l)}finally{lt.p=f,S.T=c}}function XE(t,n,r,l){var c=S.T;S.T=null;var f=lt.p;try{lt.p=8,Df(t,n,r,l)}finally{lt.p=f,S.T=c}}function Df(t,n,r,l){if(Vu){var c=Vf(l);if(c===null)pf(t,n,l,Nu,r),ny(t,l);else if(ZE(c,t,n,r,l))l.stopPropagation();else if(ny(t,l),n&4&&-1<$E.indexOf(t)){for(;c!==null;){var f=fi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=In(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-Xe(v);E.entanglements[1]|=w,v&=~w}Jn(f),!(ee&6)&&(du=tn()+500,Nl(0))}}break;case 13:E=ir(f,2),E!==null&&Je(E,f,2),pu(),Cf(f,2)}if(f=Vf(l),f===null&&pf(t,n,l,Nu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else pf(t,n,l,null,r)}}function Vf(t){return t=Oa(t),Nf(t)}var Nu=null;function Nf(t){if(Nu=null,t=Mn(t),t!==null){var n=dt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=zt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nu=t,null}function ey(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(go()){case _e:return 2;case Ce:return 8;case ci:case po:return 32;case zs:return 268435456;default:return 32}default:return 32}}var xf=!1,_r=null,vr=null,Er=null,kl=new Map,zl=new Map,Tr=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(t,n){switch(t){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Pl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=fi(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function ZE(t,n,r,l,c){switch(n){case"focusin":return _r=Pl(_r,t,n,r,l,c),!0;case"dragenter":return vr=Pl(vr,t,n,r,l,c),!0;case"mouseover":return Er=Pl(Er,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return kl.set(f,Pl(kl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Pl(zl.get(f)||null,t,n,r,l,c)),!0}return!1}function iy(t){var n=Mn(t.target);if(n!==null){var r=dt(n);if(r!==null){if(n=r.tag,n===13){if(n=zt(r),n!==null){t.blockedOn=n,Yi(t.priority,function(){if(r.tag===13){var l=fn(),c=ir(r,l);c!==null&&Je(c,r,l),Cf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_n=l,r.target.dispatchEvent(l),_n=null}else return n=fi(r),n!==null&&ty(n),t.blockedOn=r,!1;n.shift()}return!0}function ry(t,n,r){xu(t)&&r.delete(n)}function WE(){xf=!1,_r!==null&&xu(_r)&&(_r=null),vr!==null&&xu(vr)&&(vr=null),Er!==null&&xu(Er)&&(Er=null),kl.forEach(ry),zl.forEach(ry)}function Iu(t,n){t.blockedOn===n&&(t.blockedOn=null,xf||(xf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,WE)))}var Mu=null;function ay(t){Mu!==t&&(Mu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Nf(l||r)===null)continue;break}var f=fi(r);f!==null&&(t.splice(n,3),n-=3,vh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Bl(t){function n(w){return Iu(w,t)}_r!==null&&Iu(_r,t),vr!==null&&Iu(vr,t),Er!==null&&Iu(Er,t),kl.forEach(n),zl.forEach(n);for(var r=0;r<Tr.length;r++){var l=Tr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Tr.length&&(r=Tr[0],r.blockedOn===null);)iy(r),r.blockedOn===null&&Tr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[ve]||null;if(typeof f=="function")v||ay(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[ve]||null)E=v.formAction;else if(Nf(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ay(r)}}}function If(t){this._internalRoot=t}Ou.prototype.render=If.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();Wp(r,l,t,n,null,null)},Ou.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&us(),Wp(t.current,2,null,t,null,null),pu(),n[hi]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=To();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Tr.length&&n!==0&&n<Tr[r].priority;r++);Tr.splice(r,0,t),r===0&&iy(t)}};var sy=e.version;if(sy!=="19.0.0")throw Error(s(527,sy,"19.0.0"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=W(n),t=t!==null?ct(t):null,t=t===null?null:t.stateNode,t};var JE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{ji=Uu.inject(JE),je=Uu}catch{}}return jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Sg,f=bg,v=Rg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=$p(t,1,!1,null,null,r,l,c,f,v,E,null),t[hi]=n.current,gf(t.nodeType===8?t.parentNode:t),new If(n)},jl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Sg,v=bg,E=Rg,w=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),n=$p(t,1,!0,n,r??null,l,c,f,v,E,w,U),n.context=Zp(null),r=n.current,l=fn(),c=cr(l),c.callback=null,hr(r,c,l),n.current.lanes=l,ce(n,l),Jn(n),t[hi]=n.current,gf(t),new Ou(n)},jl.version="19.0.0",jl}var py;function uT(){if(py)return Uf.exports;py=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Uf.exports=oT(),Uf.exports}var cT=uT(),ql={},yy;function hT(){if(yy)return ql;yy=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=d,ql.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,h=(()=>{const V=function(){};return V.prototype=Object.create(null),V})();function d(V,O){const k=new h,K=V.length;if(K<2)return k;const j=(O==null?void 0:O.decode)||T;let Y=0;do{const et=V.indexOf("=",Y);if(et===-1)break;const tt=V.indexOf(";",Y),yt=tt===-1?K:tt;if(et>yt){Y=V.lastIndexOf(";",et-1)+1;continue}const ht=g(V,Y,et),rt=p(V,et,ht),N=V.slice(ht,rt);if(k[N]===void 0){let b=g(V,et+1,yt),S=p(V,yt,b);const R=j(V.slice(b,S));k[N]=R}Y=yt+1}while(Y<K);return k}function g(V,O,k){do{const K=V.charCodeAt(O);if(K!==32&&K!==9)return O}while(++O<k);return k}function p(V,O,k){for(;O>k;){const K=V.charCodeAt(--O);if(K!==32&&K!==9)return O+1}return k}function y(V,O,k){const K=(k==null?void 0:k.encode)||encodeURIComponent;if(!a.test(V))throw new TypeError(`argument name is invalid: ${V}`);const j=K(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let Y=V+"="+j;if(!k)return Y;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);Y+="; Max-Age="+k.maxAge}if(k.domain){if(!i.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);Y+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);Y+="; Path="+k.path}if(k.expires){if(!C(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);Y+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(Y+="; HttpOnly"),k.secure&&(Y+="; Secure"),k.partitioned&&(Y+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return Y}function T(V){if(V.indexOf("%")===-1)return V;try{return decodeURIComponent(V)}catch{return V}}function C(V){return o.call(V)==="[object Date]"}return ql}hT();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _y="popstate";function fT(a={}){function e(s,o){let{pathname:h,search:d,hash:g}=s.location;return $f("",{pathname:h,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Wl(o)}return mT(e,i,null,a)}function ne(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ri(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dT(){return Math.random().toString(36).substring(2,10)}function vy(a,e){return{usr:a.state,key:a.key,idx:e}}function $f(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Vs(e):e,state:i,key:e&&e.key||s||dT()}}function Wl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Vs(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function mT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function C(){g="POP";let j=T(),Y=j==null?null:j-y;y=j,p&&p({action:g,location:K.location,delta:Y})}function V(j,Y){g="PUSH";let et=$f(K.location,j,Y);y=T()+1;let tt=vy(et,y),yt=K.createHref(et);try{d.pushState(tt,"",yt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(yt)}h&&p&&p({action:g,location:K.location,delta:1})}function O(j,Y){g="REPLACE";let et=$f(K.location,j,Y);y=T();let tt=vy(et,y),yt=K.createHref(et);d.replaceState(tt,"",yt),h&&p&&p({action:g,location:K.location,delta:0})}function k(j){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,et=typeof j=="string"?j:Wl(j);return et=et.replace(/ $/,"%20"),ne(Y,`No window.location.(origin|href) available to create URL for href: ${et}`),new URL(et,Y)}let K={get action(){return g},get location(){return a(o,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_y,C),p=j,()=>{o.removeEventListener(_y,C),p=null}},createHref(j){return e(o,j)},createURL:k,encodeLocation(j){let Y=k(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:V,replace:O,go(j){return d.go(j)}};return K}function N_(a,e,i="/"){return gT(a,e,i,!1)}function gT(a,e,i,s){let o=typeof e=="string"?Vs(e):e,h=Vr(o.pathname||"/",i);if(h==null)return null;let d=x_(a);pT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=CT(h);g=RT(d[p],y,s)}return g}function x_(a,e=[],i=[],s=""){let o=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(ne(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Ui([s,p.relativePath]),T=i.concat(p);h.children&&h.children.length>0&&(ne(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),x_(h.children,e,T,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:ST(y,h.index),routesMeta:T})};return a.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))o(h,d);else for(let p of I_(h.path))o(h,d,p)}),e}function I_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=I_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function pT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:bT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var yT=/^:[\w-]+$/,_T=3,vT=2,ET=1,TT=10,AT=-2,Ey=a=>a==="*";function ST(a,e){let i=a.split("/"),s=i.length;return i.some(Ey)&&(s+=AT),e&&(s+=vT),i.filter(o=>!Ey(o)).reduce((o,h)=>o+(yT.test(h)?_T:h===""?ET:TT),s)}function bT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function RT(a,e,i=!1){let{routesMeta:s}=a,o={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",C=Zu({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),V=p.route;if(!C&&y&&i&&!s[s.length-1].route.index&&(C=Zu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!C)return null;Object.assign(o,C.params),d.push({params:o,pathname:Ui([h,C.pathname]),pathnameBase:xT(Ui([h,C.pathnameBase])),route:V}),C.pathnameBase!=="/"&&(h=Ui([h,C.pathnameBase]))}return d}function Zu(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=wT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:C},V)=>{if(T==="*"){let k=g[V]||"";d=h.slice(0,h.length-k.length).replace(/(.)\/+$/,"$1")}const O=g[V];return C&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:a}}function wT(a,e=!1,i=!0){ri(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function CT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Vr(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function DT(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Vs(a):a;return{pathname:i?i.startsWith("/")?i:VT(i,e):e,search:IT(s),hash:MT(o)}}function VT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Pf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function M_(a){let e=NT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function O_(a,e,i,s=!1){let o;typeof a=="string"?o=Vs(a):(o={...a},ne(!o.pathname||!o.pathname.includes("?"),Pf("?","pathname","search",o)),ne(!o.pathname||!o.pathname.includes("#"),Pf("#","pathname","hash",o)),ne(!o.search||!o.search.includes("#"),Pf("#","search","hash",o)));let h=a===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let C=e.length-1;if(!s&&d.startsWith("..")){let V=d.split("/");for(;V[0]==="..";)V.shift(),C-=1;o.pathname=V.join("/")}g=C>=0?e[C]:"/"}let p=DT(o,g),y=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Ui=a=>a.join("/").replace(/\/\/+/g,"/"),xT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),IT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,MT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function OT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var U_=["POST","PUT","PATCH","DELETE"];new Set(U_);var UT=["GET",...U_];new Set(UT);var Ns=G.createContext(null);Ns.displayName="DataRouter";var mc=G.createContext(null);mc.displayName="DataRouterState";var L_=G.createContext({isTransitioning:!1});L_.displayName="ViewTransition";var LT=G.createContext(new Map);LT.displayName="Fetchers";var kT=G.createContext(null);kT.displayName="Await";var li=G.createContext(null);li.displayName="Navigation";var lo=G.createContext(null);lo.displayName="Location";var Pi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Ad=G.createContext(null);Ad.displayName="RouteError";function zT(a,{relative:e}={}){ne(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(li),{hash:o,pathname:h,search:d}=uo(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:Ui([i,h])),s.createHref({pathname:g,search:d,hash:o})}function oo(){return G.useContext(lo)!=null}function kr(){return ne(oo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(lo).location}var k_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z_(a){G.useContext(li).static||G.useLayoutEffect(a)}function Sd(){let{isDataRoute:a}=G.useContext(Pi);return a?ZT():PT()}function PT(){ne(oo(),"useNavigate() may be used only in the context of a <Router> component.");let a=G.useContext(Ns),{basename:e,navigator:i}=G.useContext(li),{matches:s}=G.useContext(Pi),{pathname:o}=kr(),h=JSON.stringify(M_(s)),d=G.useRef(!1);return z_(()=>{d.current=!0}),G.useCallback((p,y={})=>{if(ri(d.current,k_),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=O_(p,JSON.parse(h),o,y.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ui([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,h,o,a])}G.createContext(null);function uo(a,{relative:e}={}){let{matches:i}=G.useContext(Pi),{pathname:s}=kr(),o=JSON.stringify(M_(i));return G.useMemo(()=>O_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function BT(a,e){return P_(a,e)}function P_(a,e,i,s){var et;ne(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:h}=G.useContext(li),{matches:d}=G.useContext(Pi),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",T=g?g.pathnameBase:"/",C=g&&g.route;{let tt=C&&C.path||"";B_(y,!C||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let V=kr(),O;if(e){let tt=typeof e=="string"?Vs(e):e;ne(T==="/"||((et=tt.pathname)==null?void 0:et.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),O=tt}else O=V;let k=O.pathname||"/",K=k;if(T!=="/"){let tt=T.replace(/^\//,"").split("/");K="/"+k.replace(/^\//,"").split("/").slice(tt.length).join("/")}let j=!h&&i&&i.matches&&i.matches.length>0?i.matches:N_(a,{pathname:K});ri(C||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),ri(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=FT(j&&j.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:Ui([T,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?T:Ui([T,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),d,i,s);return e&&Y?G.createElement(lo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function HT(){let a=$T(),e=OT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:h},"ErrorBoundary")," or"," ",G.createElement("code",{style:h},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var jT=G.createElement(HT,null),qT=class extends G.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?G.createElement(Pi.Provider,{value:this.props.routeContext},G.createElement(Ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GT({routeContext:a,match:e,children:i}){let s=G.useContext(Ns);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Pi.Provider,{value:a},i)}function FT(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,h=i==null?void 0:i.errors;if(h!=null){let p=o.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);ne(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:T,errors:C}=i,V=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||V){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let C,V=!1,O=null,k=null;i&&(C=h&&y.route.id?h[y.route.id]:void 0,O=y.route.errorElement||jT,d&&(g<0&&T===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,k=null):g===T&&(V=!0,k=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),j=()=>{let Y;return C?Y=O:V?Y=k:y.route.Component?Y=G.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,G.createElement(GT,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:Y})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?G.createElement(qT,{location:i.location,revalidation:i.revalidation,component:O,error:C,children:j(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):j()},null)}function bd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(a){let e=G.useContext(Ns);return ne(e,bd(a)),e}function KT(a){let e=G.useContext(mc);return ne(e,bd(a)),e}function YT(a){let e=G.useContext(Pi);return ne(e,bd(a)),e}function Rd(a){let e=YT(a),i=e.matches[e.matches.length-1];return ne(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function XT(){return Rd("useRouteId")}function $T(){var s;let a=G.useContext(Ad),e=KT("useRouteError"),i=Rd("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function ZT(){let{router:a}=QT("useNavigate"),e=Rd("useNavigate"),i=G.useRef(!1);return z_(()=>{i.current=!0}),G.useCallback(async(o,h={})=>{ri(i.current,k_),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...h}))},[a,e])}var Ty={};function B_(a,e,i){!e&&!Ty[a]&&(Ty[a]=!0,ri(!1,i))}G.memo(WT);function WT({routes:a,future:e,state:i}){return P_(a,void 0,i,e)}function Zf(a){ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JT({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:h=!1}){ne(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:h,future:{}}),[d,o,h]);typeof i=="string"&&(i=Vs(i));let{pathname:p="/",search:y="",hash:T="",state:C=null,key:V="default"}=i,O=G.useMemo(()=>{let k=Vr(p,d);return k==null?null:{location:{pathname:k,search:y,hash:T,state:C,key:V},navigationType:s}},[d,p,y,T,C,V,s]);return ri(O!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(li.Provider,{value:g},G.createElement(lo.Provider,{children:e,value:O}))}function tA({children:a,location:e}){return BT(Wf(a),e)}function Wf(a,e=[]){let i=[];return G.Children.forEach(a,(s,o)=>{if(!G.isValidElement(s))return;let h=[...e,o];if(s.type===G.Fragment){i.push.apply(i,Wf(s.props.children,h));return}ne(s.type===Zf,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ne(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Wf(s.props.children,h)),i.push(d)}),i}var qu="get",Gu="application/x-www-form-urlencoded";function gc(a){return a!=null&&typeof a.tagName=="string"}function eA(a){return gc(a)&&a.tagName.toLowerCase()==="button"}function nA(a){return gc(a)&&a.tagName.toLowerCase()==="form"}function iA(a){return gc(a)&&a.tagName.toLowerCase()==="input"}function rA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function aA(a,e){return a.button===0&&(!e||e==="_self")&&!rA(a)}var Lu=null;function sA(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var lA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bf(a){return a!=null&&!lA.has(a)?(ri(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gu}"`),null):a}function oA(a,e){let i,s,o,h,d;if(nA(a)){let g=a.getAttribute("action");s=g?Vr(g,e):null,i=a.getAttribute("method")||qu,o=Bf(a.getAttribute("enctype"))||Gu,h=new FormData(a)}else if(eA(a)||iA(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Vr(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||qu,o=Bf(a.getAttribute("formenctype"))||Bf(g.getAttribute("enctype"))||Gu,h=new FormData(g,a),!sA()){let{name:y,type:T,value:C}=a;if(T==="image"){let V=y?`${y}.`:"";h.append(`${V}x`,"0"),h.append(`${V}y`,"0")}else y&&h.append(y,C)}}else{if(gc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=qu,s=null,o=Gu,d=a}return h&&o==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:h,body:d}}function wd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function uA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function hA(a,e,i){let s=await Promise.all(a.map(async o=>{let h=e.routes[o.route.id];if(h){let d=await uA(h,i);return d.links?d.links():[]}return[]}));return gA(s.flat(1).filter(cA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ay(a,e,i,s,o,h){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return h==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):h==="data"?e.filter((p,y)=>{var C;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let V=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=i[0])==null?void 0:C.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof V=="boolean")return V}return!0}):[]}function fA(a,e){return dA(a.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function dA(a){return[...new Set(a)]}function mA(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function gA(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let h=JSON.stringify(mA(o));return i.has(h)||(i.add(h),s.push({key:h,link:o})),s},[])}function pA(a){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function yA(){let a=G.useContext(Ns);return wd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function _A(){let a=G.useContext(mc);return wd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Cd=G.createContext(void 0);Cd.displayName="FrameworkContext";function H_(){let a=G.useContext(Cd);return wd(a,"You must render this element inside a <HydratedRouter> element"),a}function vA(a,e){let i=G.useContext(Cd),[s,o]=G.useState(!1),[h,d]=G.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:C}=e,V=G.useRef(null);G.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=Y=>{Y.forEach(et=>{d(et.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return V.current&&j.observe(V.current),()=>{j.disconnect()}}},[a]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let O=()=>{o(!0)},k=()=>{o(!1),d(!1)};return i?a!=="intent"?[h,V,{}]:[h,V,{onFocus:Gl(g,O),onBlur:Gl(p,k),onMouseEnter:Gl(y,O),onMouseLeave:Gl(T,k),onTouchStart:Gl(C,O)}]:[!1,V,{}]}function Gl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function EA({page:a,...e}){let{router:i}=yA(),s=G.useMemo(()=>N_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?G.createElement(AA,{page:a,matches:s,...e}):null}function TA(a){let{manifest:e,routeModules:i}=H_(),[s,o]=G.useState([]);return G.useEffect(()=>{let h=!1;return hA(a,e,i).then(d=>{h||o(d)}),()=>{h=!0}},[a,e,i]),s}function AA({page:a,matches:e,...i}){let s=kr(),{manifest:o,routeModules:h}=H_(),{loaderData:d,matches:g}=_A(),p=G.useMemo(()=>Ay(a,e,g,o,s,"data"),[a,e,g,o,s]),y=G.useMemo(()=>Ay(a,e,g,o,s,"assets"),[a,e,g,o,s]),T=G.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let O=new Set,k=!1;if(e.forEach(j=>{var et;let Y=o.routes[j.route.id];!Y||!Y.hasLoader||(!p.some(tt=>tt.route.id===j.route.id)&&j.route.id in d&&((et=h[j.route.id])!=null&&et.shouldRevalidate)||Y.hasClientLoader?k=!0:O.add(j.route.id))}),O.size===0)return[];let K=pA(a);return k&&O.size>0&&K.searchParams.set("_routes",e.filter(j=>O.has(j.route.id)).map(j=>j.route.id).join(",")),[K.pathname+K.search]},[d,s,o,p,e,a,h]),C=G.useMemo(()=>fA(y,o),[y,o]),V=TA(y);return G.createElement(G.Fragment,null,T.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...i})),C.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...i})),V.map(({key:O,link:k})=>G.createElement("link",{key:O,...k})))}function SA(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var j_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j_&&(window.__reactRouterVersion="7.1.5")}catch{}function bA({basename:a,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=fT({window:i,v5Compat:!0}));let o=s.current,[h,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(p=>{G.startTransition(()=>d(p))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(JT,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:o})}var q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wu=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:h,replace:d,state:g,target:p,to:y,preventScrollReset:T,viewTransition:C,...V},O){let{basename:k}=G.useContext(li),K=typeof y=="string"&&q_.test(y),j,Y=!1;if(typeof y=="string"&&K&&(j=y,j_))try{let S=new URL(window.location.href),R=y.startsWith("//")?new URL(S.protocol+y):new URL(y),I=Vr(R.pathname,k);R.origin===S.origin&&I!=null?y=I+R.search+R.hash:Y=!0}catch{ri(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=zT(y,{relative:o}),[tt,yt,ht]=vA(s,V),rt=DA(y,{replace:d,state:g,target:p,preventScrollReset:T,relative:o,viewTransition:C});function N(S){e&&e(S),S.defaultPrevented||rt(S)}let b=G.createElement("a",{...V,...ht,href:j||et,onClick:Y||h?e:N,ref:SA(O,yt),target:p,"data-discover":!K&&i==="render"?"true":void 0});return tt&&!K?G.createElement(G.Fragment,null,b,G.createElement(EA,{page:et})):b});Wu.displayName="Link";var RA=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:h,to:d,viewTransition:g,children:p,...y},T){let C=uo(d,{relative:y.relative}),V=kr(),O=G.useContext(mc),{navigator:k,basename:K}=G.useContext(li),j=O!=null&&MA(C)&&g===!0,Y=k.encodeLocation?k.encodeLocation(C).pathname:C.pathname,et=V.pathname,tt=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(et=et.toLowerCase(),tt=tt?tt.toLowerCase():null,Y=Y.toLowerCase()),tt&&K&&(tt=Vr(tt,K)||tt);const yt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ht=et===Y||!o&&et.startsWith(Y)&&et.charAt(yt)==="/",rt=tt!=null&&(tt===Y||!o&&tt.startsWith(Y)&&tt.charAt(Y.length)==="/"),N={isActive:ht,isPending:rt,isTransitioning:j},b=ht?e:void 0,S;typeof s=="function"?S=s(N):S=[s,ht?"active":null,rt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let R=typeof h=="function"?h(N):h;return G.createElement(Wu,{...y,"aria-current":b,className:S,ref:T,style:R,to:d,viewTransition:g},typeof p=="function"?p(N):p)});RA.displayName="NavLink";var wA=G.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:h,method:d=qu,action:g,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:C,...V},O)=>{let k=xA(),K=IA(g,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",Y=typeof g=="string"&&q_.test(g),et=tt=>{if(p&&p(tt),tt.defaultPrevented)return;tt.preventDefault();let yt=tt.nativeEvent.submitter,ht=(yt==null?void 0:yt.getAttribute("formmethod"))||d;k(yt||tt.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:h,relative:y,preventScrollReset:T,viewTransition:C})};return G.createElement("form",{ref:O,method:j,action:K,onSubmit:s?p:et,...V,"data-discover":!Y&&a==="render"?"true":void 0})});wA.displayName="Form";function CA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G_(a){let e=G.useContext(Ns);return ne(e,CA(a)),e}function DA(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:h,viewTransition:d}={}){let g=Sd(),p=kr(),y=uo(a,{relative:h});return G.useCallback(T=>{if(aA(T,e)){T.preventDefault();let C=i!==void 0?i:Wl(p)===Wl(y);g(a,{replace:C,state:s,preventScrollReset:o,relative:h,viewTransition:d})}},[p,g,y,i,s,e,a,o,h,d])}var VA=0,NA=()=>`__${String(++VA)}__`;function xA(){let{router:a}=G_("useSubmit"),{basename:e}=G.useContext(li),i=XT();return G.useCallback(async(s,o={})=>{let{action:h,method:d,encType:g,formData:p,body:y}=oA(s,e);if(o.navigate===!1){let T=o.fetcherKey||NA();await a.fetch(T,i,o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function IA(a,{relative:e}={}){let{basename:i}=G.useContext(li),s=G.useContext(Pi);ne(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),h={...uo(a||".",{relative:e})},d=kr();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),p=g.getAll("index");if(p.some(T=>T==="")){g.delete("index"),p.filter(C=>C).forEach(C=>g.append("index",C));let T=g.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Ui([i,h.pathname])),Wl(h)}function MA(a,e={}){let i=G.useContext(L_);ne(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=G_("useViewTransitionState"),o=uo(a,{relative:e.relative});if(!i.isTransitioning)return!1;let h=Vr(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Vr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Zu(o.pathname,d)!=null||Zu(o.pathname,h)!=null}new TextEncoder;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F_=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=G.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...g},p)=>G.createElement("svg",{ref:p,...UA,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:F_("lucide",o),...g},[...d.map(([y,T])=>G.createElement(y,T)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=(a,e)=>{const i=G.forwardRef(({className:s,...o},h)=>G.createElement(LA,{ref:h,iconNode:e,className:F_(`lucide-${OA(a)}`,s),...o}));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zA=zr("ChevronLeft",kA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BA=zr("ChevronRight",PA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],jA=zr("Moon",HA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],GA=zr("Pause",qA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],QA=zr("Play",FA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YA=zr("Plus",KA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$A=zr("RotateCcw",XA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],WA=zr("Sun",ZA);var Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},JA=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,T=h>>2,C=(h&3)<<4|g>>4;let V=(g&15)<<2|y>>6,O=y&63;p||(O=64,d||(V=64)),s.push(i[T],i[C],i[V],i[O])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Q_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):JA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const C=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||y==null||C==null)throw new tS;const V=h<<2|g>>4;if(s.push(V),y!==64){const O=g<<4&240|y>>2;if(s.push(O),C!==64){const k=y<<6&192|C;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(a){const e=Q_(a);return K_.encodeByteArray(e,!0)},Ju=function(a){return eS(a).replace(/\./g,"")},nS=function(a){try{return K_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=()=>iS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof Sy>"u")return;const a=Sy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},sS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&nS(a[1]);return e&&JSON.parse(e)},Dd=()=>{try{return rS()||aS()||sS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},lS=a=>{var e,i;return(i=(e=Dd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},oS=a=>{const e=lS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Y_=()=>{var a;return(a=Dd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Ju(JSON.stringify(i)),Ju(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){var a;const e=(a=Dd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class xs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=pS,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X_.prototype.create)}}class X_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?yS(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new xs(o,g,s)}}function yS(a,e){return a.replace(_S,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _S=/\{\$([^}]+)}/g;function Jf(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(by(h)&&by(d)){if(!Jf(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function by(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(a){return a&&a._delegate?a._delegate:a}class Jl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new uS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TS(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ES(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(a){return a===va?void 0:a}function TS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(kt||(kt={}));const SS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},bS=kt.INFO,RS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},wS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=RS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $_{constructor(e){this.name=e,this._logLevel=bS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const CS=(a,e)=>e.some(i=>a instanceof i);let Ry,wy;function DS(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,td=new WeakMap,W_=new WeakMap,Hf=new WeakMap,Vd=new WeakMap;function NS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(br(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z_.set(i,a)}).catch(()=>{}),Vd.set(e,a),e}function xS(a){if(td.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});td.set(a,e)}let ed={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return td.get(a);if(e==="objectStoreNames")return a.objectStoreNames||W_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return br(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function IS(a){ed=a(ed)}function MS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(jf(this),e,...i);return W_.set(s,e.sort?e.sort():[e]),br(s)}:VS().includes(a)?function(...e){return a.apply(jf(this),e),br(Z_.get(this))}:function(...e){return br(a.apply(jf(this),e))}}function OS(a){return typeof a=="function"?MS(a):(a instanceof IDBTransaction&&xS(a),CS(a,DS())?new Proxy(a,ed):a)}function br(a){if(a instanceof IDBRequest)return NS(a);if(Hf.has(a))return Hf.get(a);const e=OS(a);return e!==a&&(Hf.set(a,e),Vd.set(e,a)),e}const jf=a=>Vd.get(a);function US(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=br(d);return s&&d.addEventListener("upgradeneeded",p=>{s(br(d.result),p.oldVersion,p.newVersion,br(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],kS=["put","add","delete","clear"],qf=new Map;function Cy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=kS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LS.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return qf.set(e,h),h}IS(a=>({...a,get:(e,i,s)=>Cy(e,i)||a.get(e,i,s),has:(e,i)=>!!Cy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function PS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nd="@firebase/app",Dy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new $_("@firebase/app"),BS="@firebase/app-compat",HS="@firebase/analytics-compat",jS="@firebase/analytics",qS="@firebase/app-check-compat",GS="@firebase/app-check",FS="@firebase/auth",QS="@firebase/auth-compat",KS="@firebase/database",YS="@firebase/data-connect",XS="@firebase/database-compat",$S="@firebase/functions",ZS="@firebase/functions-compat",WS="@firebase/installations",JS="@firebase/installations-compat",tb="@firebase/messaging",eb="@firebase/messaging-compat",nb="@firebase/performance",ib="@firebase/performance-compat",rb="@firebase/remote-config",ab="@firebase/remote-config-compat",sb="@firebase/storage",lb="@firebase/storage-compat",ob="@firebase/firestore",ub="@firebase/vertexai",cb="@firebase/firestore-compat",hb="firebase",fb="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",db={[nd]:"fire-core",[BS]:"fire-core-compat",[jS]:"fire-analytics",[HS]:"fire-analytics-compat",[GS]:"fire-app-check",[qS]:"fire-app-check-compat",[FS]:"fire-auth",[QS]:"fire-auth-compat",[KS]:"fire-rtdb",[YS]:"fire-data-connect",[XS]:"fire-rtdb-compat",[$S]:"fire-fn",[ZS]:"fire-fn-compat",[WS]:"fire-iid",[JS]:"fire-iid-compat",[tb]:"fire-fcm",[eb]:"fire-fcm-compat",[nb]:"fire-perf",[ib]:"fire-perf-compat",[rb]:"fire-rc",[ab]:"fire-rc-compat",[sb]:"fire-gcs",[lb]:"fire-gcs-compat",[ob]:"fire-fst",[cb]:"fire-fst-compat",[ub]:"fire-vertex","fire-js":"fire-js",[hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,mb=new Map,rd=new Map;function Vy(a,e){try{a.container.addComponent(e)}catch(i){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function ec(a){const e=a.name;if(rd.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;rd.set(e,a);for(const i of tc.values())Vy(i,a);for(const i of mb.values())Vy(i,a);return!0}function gb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function pb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new X_("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=fb;function J_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:id,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(i||(i=Y_()),!i)throw Rr.create("no-options");const h=tc.get(o);if(h){if(Jf(i,h.options)&&Jf(s,h.config))return h;throw Rr.create("duplicate-app",{appName:o})}const d=new AS(o);for(const p of rd.values())d.addComponent(p);const g=new _b(i,s,d);return tc.set(o,g),g}function Eb(a=id){const e=tc.get(a);if(!e&&a===id&&Y_())return J_();if(!e)throw Rr.create("no-app",{appName:a});return e}function vs(a,e,i){var s;let o=(s=db[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(g.join(" "));return}ec(new Jl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebase-heartbeat-database",Ab=1,to="firebase-heartbeat-store";let Gf=null;function tv(){return Gf||(Gf=US(Tb,Ab,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(a=>{throw Rr.create("idb-open",{originalErrorMessage:a.message})})),Gf}async function Sb(a){try{const i=(await tv()).transaction(to),s=await i.objectStore(to).get(ev(a));return await i.done,s}catch(e){if(e instanceof xs)Li.warn(e.message);else{const i=Rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(i.message)}}}async function Ny(a,e){try{const s=(await tv()).transaction(to,"readwrite");await s.objectStore(to).put(e,ev(a)),await s.done}catch(i){if(i instanceof xs)Li.warn(i.message);else{const s=Rr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Li.warn(s.message)}}}function ev(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=1024,Rb=30;class wb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Db(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=xy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>Rb){const d=Vb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Li.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=xy(),{heartbeatsToSend:s,unsentEntries:o}=Cb(this._heartbeatsCache.heartbeats),h=Ju(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Li.warn(i),""}}}function xy(){return new Date().toISOString().substring(0,10)}function Cb(a,e=bb){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Iy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Iy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Db{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Iy(a){return Ju(JSON.stringify({version:2,heartbeats:a})).length}function Vb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(a){ec(new Jl("platform-logger",e=>new zS(e),"PRIVATE")),ec(new Jl("heartbeat",e=>new wb(e),"PRIVATE")),vs(nd,Dy,a),vs(nd,Dy,"esm2017"),vs("fire-js","")}Nb("");var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,nv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function S(){}S.prototype=b.prototype,N.D=b.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(R,I,L){for(var D=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)D[Zt-2]=arguments[Zt];return b.prototype[I].apply(R,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,S){S||(S=0);var R=Array(16);if(typeof b=="string")for(var I=0;16>I;++I)R[I]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(I=0;16>I;++I)R[I]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=N.g[0],S=N.g[1],I=N.g[2];var L=N.g[3],D=b+(L^S&(I^L))+R[0]+3614090360&4294967295;b=S+(D<<7&4294967295|D>>>25),D=L+(I^b&(S^I))+R[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=I+(S^L&(b^S))+R[2]+606105819&4294967295,I=L+(D<<17&4294967295|D>>>15),D=S+(b^I&(L^b))+R[3]+3250441966&4294967295,S=I+(D<<22&4294967295|D>>>10),D=b+(L^S&(I^L))+R[4]+4118548399&4294967295,b=S+(D<<7&4294967295|D>>>25),D=L+(I^b&(S^I))+R[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=I+(S^L&(b^S))+R[6]+2821735955&4294967295,I=L+(D<<17&4294967295|D>>>15),D=S+(b^I&(L^b))+R[7]+4249261313&4294967295,S=I+(D<<22&4294967295|D>>>10),D=b+(L^S&(I^L))+R[8]+1770035416&4294967295,b=S+(D<<7&4294967295|D>>>25),D=L+(I^b&(S^I))+R[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=I+(S^L&(b^S))+R[10]+4294925233&4294967295,I=L+(D<<17&4294967295|D>>>15),D=S+(b^I&(L^b))+R[11]+2304563134&4294967295,S=I+(D<<22&4294967295|D>>>10),D=b+(L^S&(I^L))+R[12]+1804603682&4294967295,b=S+(D<<7&4294967295|D>>>25),D=L+(I^b&(S^I))+R[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=I+(S^L&(b^S))+R[14]+2792965006&4294967295,I=L+(D<<17&4294967295|D>>>15),D=S+(b^I&(L^b))+R[15]+1236535329&4294967295,S=I+(D<<22&4294967295|D>>>10),D=b+(I^L&(S^I))+R[1]+4129170786&4294967295,b=S+(D<<5&4294967295|D>>>27),D=L+(S^I&(b^S))+R[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=I+(b^S&(L^b))+R[11]+643717713&4294967295,I=L+(D<<14&4294967295|D>>>18),D=S+(L^b&(I^L))+R[0]+3921069994&4294967295,S=I+(D<<20&4294967295|D>>>12),D=b+(I^L&(S^I))+R[5]+3593408605&4294967295,b=S+(D<<5&4294967295|D>>>27),D=L+(S^I&(b^S))+R[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=I+(b^S&(L^b))+R[15]+3634488961&4294967295,I=L+(D<<14&4294967295|D>>>18),D=S+(L^b&(I^L))+R[4]+3889429448&4294967295,S=I+(D<<20&4294967295|D>>>12),D=b+(I^L&(S^I))+R[9]+568446438&4294967295,b=S+(D<<5&4294967295|D>>>27),D=L+(S^I&(b^S))+R[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=I+(b^S&(L^b))+R[3]+4107603335&4294967295,I=L+(D<<14&4294967295|D>>>18),D=S+(L^b&(I^L))+R[8]+1163531501&4294967295,S=I+(D<<20&4294967295|D>>>12),D=b+(I^L&(S^I))+R[13]+2850285829&4294967295,b=S+(D<<5&4294967295|D>>>27),D=L+(S^I&(b^S))+R[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=I+(b^S&(L^b))+R[7]+1735328473&4294967295,I=L+(D<<14&4294967295|D>>>18),D=S+(L^b&(I^L))+R[12]+2368359562&4294967295,S=I+(D<<20&4294967295|D>>>12),D=b+(S^I^L)+R[5]+4294588738&4294967295,b=S+(D<<4&4294967295|D>>>28),D=L+(b^S^I)+R[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=I+(L^b^S)+R[11]+1839030562&4294967295,I=L+(D<<16&4294967295|D>>>16),D=S+(I^L^b)+R[14]+4259657740&4294967295,S=I+(D<<23&4294967295|D>>>9),D=b+(S^I^L)+R[1]+2763975236&4294967295,b=S+(D<<4&4294967295|D>>>28),D=L+(b^S^I)+R[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=I+(L^b^S)+R[7]+4139469664&4294967295,I=L+(D<<16&4294967295|D>>>16),D=S+(I^L^b)+R[10]+3200236656&4294967295,S=I+(D<<23&4294967295|D>>>9),D=b+(S^I^L)+R[13]+681279174&4294967295,b=S+(D<<4&4294967295|D>>>28),D=L+(b^S^I)+R[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=I+(L^b^S)+R[3]+3572445317&4294967295,I=L+(D<<16&4294967295|D>>>16),D=S+(I^L^b)+R[6]+76029189&4294967295,S=I+(D<<23&4294967295|D>>>9),D=b+(S^I^L)+R[9]+3654602809&4294967295,b=S+(D<<4&4294967295|D>>>28),D=L+(b^S^I)+R[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=I+(L^b^S)+R[15]+530742520&4294967295,I=L+(D<<16&4294967295|D>>>16),D=S+(I^L^b)+R[2]+3299628645&4294967295,S=I+(D<<23&4294967295|D>>>9),D=b+(I^(S|~L))+R[0]+4096336452&4294967295,b=S+(D<<6&4294967295|D>>>26),D=L+(S^(b|~I))+R[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=I+(b^(L|~S))+R[14]+2878612391&4294967295,I=L+(D<<15&4294967295|D>>>17),D=S+(L^(I|~b))+R[5]+4237533241&4294967295,S=I+(D<<21&4294967295|D>>>11),D=b+(I^(S|~L))+R[12]+1700485571&4294967295,b=S+(D<<6&4294967295|D>>>26),D=L+(S^(b|~I))+R[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=I+(b^(L|~S))+R[10]+4293915773&4294967295,I=L+(D<<15&4294967295|D>>>17),D=S+(L^(I|~b))+R[1]+2240044497&4294967295,S=I+(D<<21&4294967295|D>>>11),D=b+(I^(S|~L))+R[8]+1873313359&4294967295,b=S+(D<<6&4294967295|D>>>26),D=L+(S^(b|~I))+R[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=I+(b^(L|~S))+R[6]+2734768916&4294967295,I=L+(D<<15&4294967295|D>>>17),D=S+(L^(I|~b))+R[13]+1309151649&4294967295,S=I+(D<<21&4294967295|D>>>11),D=b+(I^(S|~L))+R[4]+4149444226&4294967295,b=S+(D<<6&4294967295|D>>>26),D=L+(S^(b|~I))+R[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=I+(b^(L|~S))+R[2]+718787259&4294967295,I=L+(D<<15&4294967295|D>>>17),D=S+(L^(I|~b))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var S=b-this.blockSize,R=this.B,I=this.h,L=0;L<b;){if(I==0)for(;L<=S;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<b;)if(R[I++]=N.charCodeAt(L++),I==this.blockSize){o(this,R),I=0;break}}else for(;L<b;)if(R[I++]=N[L++],I==this.blockSize){o(this,R),I=0;break}}this.h=I,this.o+=b},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var S=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=S&255,S/=256;for(this.u(N),N=Array(16),b=S=0;4>b;++b)for(var R=0;32>R;R+=8)N[S++]=this.g[b]>>>R&255;return N};function h(N,b){var S=g;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=b(N)}function d(N,b){this.h=b;for(var S=[],R=!0,I=N.length-1;0<=I;I--){var L=N[I]|0;R&&L==b||(S[I]=L,R=!1)}this.g=S}var g={};function p(N){return-128<=N&&128>N?h(N,function(b){return new d([b|0],0>b?-1:0)}):new d([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return j(y(-N));for(var b=[],S=1,R=0;N>=S;R++)b[R]=N/S|0,S*=4294967296;return new d(b,0)}function T(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return j(T(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(b,8)),R=C,I=0;I<N.length;I+=8){var L=Math.min(8,N.length-I),D=parseInt(N.substring(I,I+L),b);8>L?(L=y(Math.pow(b,L)),R=R.j(L).add(y(D))):(R=R.j(S),R=R.add(y(D)))}return R}var C=p(0),V=p(1),O=p(16777216);a=d.prototype,a.m=function(){if(K(this))return-j(this).m();for(var N=0,b=1,S=0;S<this.g.length;S++){var R=this.i(S);N+=(0<=R?R:4294967296+R)*b,b*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(K(this))return"-"+j(this).toString(N);for(var b=y(Math.pow(N,6)),S=this,R="";;){var I=yt(S,b).g;S=Y(S,I.j(b));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=I,k(S))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function K(N){return N.h==-1}a.l=function(N){return N=Y(this,N),K(N)?-1:k(N)?0:1};function j(N){for(var b=N.g.length,S=[],R=0;R<b;R++)S[R]=~N.g[R];return new d(S,~N.h).add(V)}a.abs=function(){return K(this)?j(this):this},a.add=function(N){for(var b=Math.max(this.g.length,N.g.length),S=[],R=0,I=0;I<=b;I++){var L=R+(this.i(I)&65535)+(N.i(I)&65535),D=(L>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);R=D>>>16,L&=65535,D&=65535,S[I]=D<<16|L}return new d(S,S[S.length-1]&-2147483648?-1:0)};function Y(N,b){return N.add(j(b))}a.j=function(N){if(k(this)||k(N))return C;if(K(this))return K(N)?j(this).j(j(N)):j(j(this).j(N));if(K(N))return j(this.j(j(N)));if(0>this.l(O)&&0>N.l(O))return y(this.m()*N.m());for(var b=this.g.length+N.g.length,S=[],R=0;R<2*b;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<N.g.length;I++){var L=this.i(R)>>>16,D=this.i(R)&65535,Zt=N.i(I)>>>16,re=N.i(I)&65535;S[2*R+2*I]+=D*re,et(S,2*R+2*I),S[2*R+2*I+1]+=L*re,et(S,2*R+2*I+1),S[2*R+2*I+1]+=D*Zt,et(S,2*R+2*I+1),S[2*R+2*I+2]+=L*Zt,et(S,2*R+2*I+2)}for(R=0;R<b;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=b;R<2*b;R++)S[R]=0;return new d(S,0)};function et(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function tt(N,b){this.g=N,this.h=b}function yt(N,b){if(k(b))throw Error("division by zero");if(k(N))return new tt(C,C);if(K(N))return b=yt(j(N),b),new tt(j(b.g),j(b.h));if(K(b))return b=yt(N,j(b)),new tt(j(b.g),b.h);if(30<N.g.length){if(K(N)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var S=V,R=b;0>=R.l(N);)S=ht(S),R=ht(R);var I=rt(S,1),L=rt(R,1);for(R=rt(R,2),S=rt(S,2);!k(R);){var D=L.add(R);0>=D.l(N)&&(I=I.add(S),L=D),R=rt(R,1),S=rt(S,1)}return b=Y(N,I.j(b)),new tt(I,b)}for(I=C;0<=N.l(b);){for(S=Math.max(1,Math.floor(N.m()/b.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=y(S),D=L.j(b);K(D)||0<D.l(N);)S-=R,L=y(S),D=L.j(b);k(L)&&(L=V),I=I.add(L),N=Y(N,D)}return new tt(I,N)}a.A=function(N){return yt(this,N).h},a.and=function(N){for(var b=Math.max(this.g.length,N.g.length),S=[],R=0;R<b;R++)S[R]=this.i(R)&N.i(R);return new d(S,this.h&N.h)},a.or=function(N){for(var b=Math.max(this.g.length,N.g.length),S=[],R=0;R<b;R++)S[R]=this.i(R)|N.i(R);return new d(S,this.h|N.h)},a.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),S=[],R=0;R<b;R++)S[R]=this.i(R)^N.i(R);return new d(S,this.h^N.h)};function ht(N){for(var b=N.g.length+1,S=[],R=0;R<b;R++)S[R]=N.i(R)<<1|N.i(R-1)>>>31;return new d(S,N.h)}function rt(N,b){var S=b>>5;b%=32;for(var R=N.g.length-S,I=[],L=0;L<R;L++)I[L]=0<b?N.i(L+S)>>>b|N.i(L+S+1)<<32-b:N.i(L+S);return new d(I,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,wr=d}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iv,Fl,rv,Fu,ad,av,sv,lv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function C(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function V(u,m,_){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:C,V.apply(null,arguments)}function O(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function k(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,q){for(var nt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)nt[Mt-2]=arguments[Mt];return m.prototype[P].apply(A,nt)}}function K(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=u.length||0,q=A.length||0;u.length=P+q;for(let nt=0;nt<q;nt++)u[P+nt]=A[nt]}else u.push(A)}}class Y{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){return/^[\s\xa0]*$/.test(u)}function tt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function yt(u){return yt[" "](u),u}yt[" "]=function(){};var ht=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function rt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function N(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,m){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let q=0;q<S.length;q++)_=S[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function I(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function L(u){g.setTimeout(()=>{throw u},0)}function D(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Zt{constructor(){this.h=this.g=null}add(m,_){const A=re.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Y(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,dt=!1,zt=new Zt,x=()=>{const u=g.Promise.resolve(void 0);_t=()=>{u.then(W)}};var W=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){L(_)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function wt(u,m){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ht){t:{try{yt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}k(wt,at);var bt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ae(u,m,_,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=P,this.key=++Pt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,_,A,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=mn(u,m,A,P);return-1<nt?(m=u[nt],_||(m.fa=!1)):(m=new ae(m,this.src,q,!!A,P),m.fa=_,u.push(m)),m};function oi(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(A,P,1),q&&(Ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function mn(u,m,_,A){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return P}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),Hi={};function ui(u,m,_,A,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ui(u,m[q],_,A,P);return null}return _=go(_),u&&u[de]?u.K(m,_,y(A)?!!A.capture:!1,P):Ls(u,m,_,!1,A,P)}function Ls(u,m,_,A,P,q){if(!m)throw Error("Invalid event type");var nt=y(P)?!!P.capture:!!P,Mt=ks(u);if(Mt||(u[Bi]=Mt=new Ye(u)),_=Mt.add(m,_,A,nt,q),_.proxy)return _;if(A=Ra(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)lt||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Ca(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ra(){function u(_){return m.call(u.src,u.listener,_)}const m=Oc;return u}function wa(u,m,_,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)wa(u,m[q],_,A,P);else A=y(A)?!!A.capture:!!A,_=go(_),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=mn(q,_,A,P),-1<_&&(Ft(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ks(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mn(m,_,A,P)),(_=-1<u?m[u]:null)&&Hr(_))}function Hr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])oi(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Ca(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=ks(m))?(oi(_,u),_.h==0&&(_.src=null,m[Bi]=null)):Ft(u)}}}function Ca(u){return u in Hi?Hi[u]:Hi[u]="on"+u}function Oc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Hr(u),u=_.call(A,m)}return u}function ks(u){return u=u[Bi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function _e(){ct.call(this),this.i=new Ye(this),this.M=this,this.F=null}k(_e,ct),_e.prototype[de]=!0,_e.prototype.removeEventListener=function(u,m,_,A){wa(this,u,m,_,A)};function Ce(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new at(m,u);else if(m instanceof at)m.target=m.target||u;else{var P=m;m=new at(A,u),R(m,P)}if(P=!0,_)for(var q=_.length-1;0<=q;q--){var nt=m.g=_[q];P=ci(nt,A,!0,m)&&P}if(nt=m.g=u,P=ci(nt,A,!0,m)&&P,P=ci(nt,A,!1,m)&&P,_)for(q=0;q<_.length;q++)nt=m.g=_[q],P=ci(nt,A,!1,m)&&P}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Ft(_[A]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},_e.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function ci(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==_){var Mt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&oi(u.i,nt),P=Mt.call(Ee,A)!==!1&&P}}return P&&!A.defaultPrevented}function po(u,m,_){if(typeof u=="function")_&&(u=V(u,_));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function zs(u){u.g=po(()=>{u.g=null,u.i&&(u.i=!1,zs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Uc extends ct{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(u){ct.call(this),this.h=u,this.g={}}k(jr,ct);var ji=[];function je(u){rt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Hr(m)},u),u.g={}}jr.prototype.N=function(){jr.aa.N.call(this),je(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ps=g.JSON.stringify,zn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Bs(){}Bs.prototype.h=null;function yo(u){return u.h||(u.h=u.i())}function _o(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){at.call(this,"d")}k(qi,at);function In(){at.call(this,"c")}k(In,at);var gn={},Gi=null;function Da(){return Gi=Gi||new _e}gn.La="serverreachability";function Hs(u){at.call(this,gn.La,u)}k(Hs,at);function Fi(u){const m=Da();Ce(m,new Hs(m))}gn.STAT_EVENT="statevent";function Va(u,m){at.call(this,gn.STAT_EVENT,u),this.stat=m}k(Va,at);function ce(u){const m=Da();Ce(m,new Va(m,u))}gn.Ma="timingevent";function vo(u,m){at.call(this,gn.Ma,u),this.size=m}k(vo,at);function Qi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function Eo(u,m,_,A,P,q){u.info(function(){if(u.g)if(q)for(var nt="",Mt=q.split("&"),Ee=0;Ee<Mt.length;Ee++){var Ot=Mt[Ee].split("=");if(1<Ot.length){var Ne=Ot[0];Ot=Ot[1];var Te=Ne.split("_");nt=2<=Te.length&&Te[1]=="type"?nt+(Ne+"="+Ot+"&"):nt+(Ne+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+_+`
`+nt})}function To(u,m,_,A,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+_+`
`+q+" "+nt})}function Yi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,_)+(A?" "+A:"")})}function Bn(u,m){u.info(function(){return"TIMEOUT: "+m})}Ki.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<P.length;nt++)P[nt]=""}}}}return Ps(_)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qr;function Na(){}k(Na,Bs),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},qr=new Na;function Hn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new js}function js(){this.i=null,this.g="",this.h=!1}var Xi={},Gr={};function Mn(u,m,_){u.L=1,u.v=Kr(se(m)),u.m=_,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),Jt(u),u.A=se(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),gi(_.i,"t",A),u.C=0,_=u.j.J,u.h=new js,u.g=Uo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Uc(V(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(ji[0]=P.toString()),P=ji);for(var q=0;q<P.length;q++){var nt=ui(_,P[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),Eo(u.i,u.u,u.A,u.l,u.R,u.m)}Hn.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=En(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Co(this.g)))){this.J||Te!=4||m==7||(m==8||0>=vi?Fi(3):Fi(2)),xa(this);var _=this.g.Z();this.X=_;e:if($i(this)){var A=Co(this.g);u="";var P=A.length,q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),sn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==P-1)});A.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,To(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Mt)){var Ot=Mt;break e}}Ot=null}if(_=Ot)Yi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,ce(12),en(this),sn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<nt.length;)if(Ue=Zi(this,nt),Ue==Gr){Te==4&&(this.s=4,ce(14),_=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Xi){this.s=4,ce(15),Yi(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Yi(this.i,this.l,Ue,null),ln(this,Ue);if($i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||nt.length!=0||this.h.h||(this.s=1,ce(16),_=!1),this.o=this.o&&_,!_)Yi(this.i,this.l,nt,"[Invalid Chunked Response]"),en(this),sn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ta(Ne),Ne.M=!0,ce(11))}}else Yi(this.i,this.l,nt,null),ln(this,nt);Te==4&&en(this),this.o&&!this.J&&(Te==4?Io(this.j,this):(this.o=!1,Jt(this)))}else Hc(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),en(this),sn(this)}}}catch{}finally{}};function $i(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zi(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Gr:(_=Number(m.substring(_,A)),isNaN(_)?Xi:(A+=1,A+_>m.length?Gr:(m=m.slice(A,A+_),u.C=A+_,m)))}Hn.prototype.cancel=function(){this.J=!0,en(this)};function Jt(u){u.S=Date.now()+u.I,qs(u,u.I)}function qs(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qi(V(u.ba,u),m)}function xa(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bn(this.i,this.A),this.L!=2&&(Fi(),ce(17)),en(this),this.s=2,sn(this)):qs(this,this.S-u)};function sn(u){u.j.G==0||u.J||Io(u.j,u)}function en(u){xa(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,je(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ln(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Wi(_.h,u))){if(!u.K&&Wi(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ha(_),Pa(_);else break t;tl(_),ce(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=Qi(V(_.Za,_),6e3));if(1>=Ao(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _i(_,11)}else if((u.K||_.g==u)&&Ha(_),!et(m))for(P=_.Da.g.parse(m),m=0;m<P.length;m++){let Ot=P[m];if(_.T=Ot[0],Ot=Ot[1],_.G==2)if(Ot[0]=="c"){_.K=Ot[1],_.ia=Ot[2];const Ne=Ot[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Te=Ot[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const vi=Ot[5];vi!=null&&typeof vi=="number"&&0<vi&&(A=1.5*vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Yn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var q=A.h;q.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ji(q,q.h),q.h=null))}if(A.D){const nl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(A.ya=nl,Bt(A.I,A.D,nl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=u;if(A.qa=Oo(A,A.J?A.ia:null,A.W),nt.K){pn(A.h,nt);var Mt=nt,Ee=A.L;Ee&&(Mt.I=Ee),Mt.B&&(xa(Mt),Jt(Mt)),A.g=nt}else No(A);0<_.i.length&&Ba(_)}else Ot[0]!="stop"&&Ot[0]!="close"||_i(_,7);else _.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?_i(_,7):Ws(_):Ot[0]!="noop"&&_.l&&_.l.ta(Ot),_.v=0)}}Fi(4)}catch{}}var Lc=class{constructor(u,m){this.g=u,this.map=m}};function Gs(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ao(u){return u.h?1:u.g?u.g.size:0}function Wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ji(u,m){u.g?u.g.add(m):u.h=m}function pn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Gs.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return K(u.i)}function So(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function kc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Fr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=kc(u),A=So(u),P=A.length,q=0;q<P;q++)m.call(void 0,A[q],_&&_[q],u)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var q=u[_].substring(0,A);P=u[_].substring(A+1)}else q=u[_];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function di(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof di){this.h=u.h,tr(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var m=u.i,_=new jn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ma(this,_),this.m=u.m}else u&&(m=String(u).match(Qs))?(this.h=!1,tr(this,m[1]||"",!0),this.o=er(m[2]||""),this.g=er(m[3]||"",!0),Qr(this,m[4]),this.l=er(m[5]||"",!0),Ma(this,m[6]||"",!0),this.m=er(m[7]||"")):(this.h=!1,this.i=new jn(null,this.h))}di.prototype.toString=function(){var u=[],m=this.j;m&&u.push(yn(m,Ks,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yn(m,Ks,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(yn(_,_.charAt(0)=="/"?Ys:bo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",yn(_,Bc)),u.join("")};function se(u){return new di(u)}function tr(u,m,_){u.j=_?er(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ma(u,m,_){m instanceof jn?(u.i=m,Xs(u.i,u.h)):(_||(m=yn(m,Pc)),u.i=new jn(m,u.h))}function Bt(u,m,_){u.i.set(m,_)}function Kr(u){return Bt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function er(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,zc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,bo=/[#\?:]/g,Ys=/[#\?]/g,Pc=/[#\?@]/g,Bc=/#/g;function jn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Ia(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=jn.prototype,a.add=function(u,m){_n(this),this.i=null,u=pi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Oa(u,m){_n(u),m=pi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return _n(u),m=pi(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(m,P,A,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const P=u[A];for(let q=0;q<P.length;q++)_.push(m[A])}return _},a.V=function(u){_n(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(pi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return _n(this),this.i=null,u=pi(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function gi(u,m,_){Oa(u,m),0<_.length&&(u.i=null,u.g.set(pi(u,m),K(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const q=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var P=q;nt[A]!==""&&(P+="="+encodeURIComponent(String(nt[A]))),u.push(P)}}return this.i=u.join("&")};function pi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xs(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(Oa(this,A),gi(this,P,_))},u)),u.j=m}function Ro(u,m){const _=new Ki;if(g.Image){const A=new Image;A.onload=O(vn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=O(vn,_,"TestLoadImage: error",!1,m,A),A.onabort=O(vn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=O(vn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Yr(u,m){const _=new Ki,A=new AbortController,P=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?vn(_,"TestPingServer: ok",!0,m):vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),vn(_,"TestPingServer: error",!1,m)})}function vn(u,m,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Xr(){this.g=new Xe}function qn(u,m,_){const A=_||"";try{Fr(u,function(P,q){let nt=P;y(P)&&(nt=Ps(P)),m.push(A+q+"="+encodeURIComponent(nt))})}catch(P){throw m.push(A+"type="+encodeURIComponent("_badmap")),P}}function nr(u){this.l=u.Ub||null,this.j=u.eb||!1}k(nr,Bs),nr.prototype.g=function(){return new yi(this.l,this.j)},nr.prototype.i=function(u){return function(){return u}}({});function yi(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(yi,_e),a=yi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&$s(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zs(u){let m="";return rt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ve(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Zs(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Bt(u,m,_))}function qt(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qt,_e);var Ua=/^https?$/i,$r=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qr.g(),this.v=this.o?yo(this.o):yo(qr),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){wo(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call($r,m,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){wo(this,q)}};function wo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,La(u),Qn(u)}function La(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},a.bb=function(){ka(this)};function ka(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)po(u.Ea,0,u);else if(Ce(u,"readystatechange"),En(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=nt===0){var P=String(u.D).match(Qs)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),A=!Ua.test(P?P.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var q=2<En(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",La(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Zr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function Zr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zn(m)}};function Co(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(et(u[A]))continue;var _=I(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[P]||[];m[P]=q,q.push(_)}N(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function za(u){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,u),this.cb=Wr("retryDelaySeedMs",1e4,u),this.Wa=Wr("forwardChannelMaxRetries",2,u),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(u&&u.concurrentRequestLimit),this.Da=new Xr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=za.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,A){ce(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Oo(this,null,this.W),Ba(this)};function Ws(u){if(Do(u),u.G==3){var m=u.U++,_=se(u.I);if(Bt(_,"SID",u.K),Bt(_,"RID",m),Bt(_,"TYPE","terminate"),Jr(u,_),m=new Hn(u,u.j,m),m.L=2,m.v=Kr(se(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Uo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jt(m)}Mo(u)}function Pa(u){u.g&&(ta(u),u.g.cancel(),u.g=null)}function Do(u){Pa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ha(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ba(u){if(!Fs(u.h)&&!u.s){u.s=!0;var m=u.Ga;_t||x(),dt||(_t(),dt=!0),zt.add(m,u),u.B=0}}function jc(u,m){return Ao(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qi(V(u.Ga,u,m),el(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Hn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Vo(this,P,m),_=se(this.I),Bt(_,"RID",u),Bt(_,"CVER",22),this.D&&Bt(_,"X-HTTP-Session-Id",this.D),Jr(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(Zs(q)))+"&"+m:this.m&&Ve(_,this.m,q)),Ji(this.h,P),this.Ua&&Bt(_,"TYPE","init"),this.P?(Bt(_,"$req",m),Bt(_,"SID","null"),P.T=!0,Mn(P,_,null)):Mn(P,_,m),this.G=2}}else this.G==3&&(u?Js(this,u):this.i.length==0||Fs(this.h)||Js(this))};function Js(u,m){var _;m?_=m.l:_=u.U++;const A=se(u.I);Bt(A,"SID",u.K),Bt(A,"RID",_),Bt(A,"AID",u.T),Jr(u,A),u.m&&u.o&&Ve(A,u.m,u.o),_=new Hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Vo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ji(u.h,_),Mn(_,A,m)}function Jr(u,m){u.H&&rt(u.H,function(_,A){Bt(m,A,_)}),u.l&&Fr({},function(_,A){Bt(m,A,_)})}function Vo(u,m,_){_=Math.min(u.i.length,_);var A=u.l?V(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const nt=["count="+_];q==-1?0<_?(q=P[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let Ot=P[Ee].g;const Ne=P[Ee].map;if(Ot-=q,0>Ot)q=Math.max(0,P[Ee].g-100),Mt=!1;else try{qn(Ne,nt,"req"+Ot+"_")}catch{A&&A(Ne)}}if(Mt){A=nt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function No(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;_t||x(),dt||(_t(),dt=!0),zt.add(m,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qi(V(u.Fa,u),el(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qi(V(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Pa(this),xo(this))};function ta(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=se(u.qa);Bt(m,"RID","rpc"),Bt(m,"SID",u.K),Bt(m,"AID",u.T),Bt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Bt(m,"TO",u.ja),Bt(m,"TYPE","xmlhttp"),Jr(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Kr(se(m)),_.m=null,_.P=!0,fi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Pa(this),tl(this),ce(19))};function Ha(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Io(u,m){var _=null;if(u.g==m){Ha(u),ta(u),u.g=null;var A=2}else if(Wi(u.h,m))_=m.D,pn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;A=Da(),Ce(A,new vo(A,_)),Ba(u)}else No(u);else if(P=m.s,P==3||P==0&&0<m.X||!(A==1&&jc(u,m)||A==2&&tl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),P){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function el(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var _=V(u.fb,u),A=u.Xa;const P=!A;A=new di(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||tr(A,"https"),Kr(A),P?Ro(A.toString(),_):Yr(A.toString(),_)}else ce(2);u.G=0,u.l&&u.l.sa(m),Mo(u),Do(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Mo(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Oo(u,m,_){var A=_ instanceof di?se(_):new di(_);if(A.g!="")m&&(A.g=m+"."+A.g),Qr(A,A.s);else{var P=g.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new di(null);A&&tr(q,A),m&&(q.g=m),P&&Qr(q,P),_&&(q.l=_),A=q}return _=u.D,m=u.ya,_&&m&&Bt(A,_,m),Bt(A,"VER",u.la),Jr(u,A),A}function Uo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new nr({eb:_})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}a=Lo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ja(){}ja.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){_e.call(this),this.g=new za(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!et(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!et(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}k(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ws(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ps(u),u=_);m.i.push(new Lc(m.Ya++,u)),m.G==3&&Ba(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,Ze.aa.N.call(this)};function ko(u){qi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(ko,qi);function zo(){In.call(this),this.status=1}k(zo,In);function Kn(u){this.g=u}k(Kn,Lo),Kn.prototype.ua=function(){Ce(this.g,"a")},Kn.prototype.ta=function(u){Ce(this.g,new ko(u))},Kn.prototype.sa=function(u){Ce(this.g,new zo)},Kn.prototype.ra=function(){Ce(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,lv=function(){return new ja},sv=function(){return Da()},av=gn,ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Fu=ve,hi.COMPLETE="complete",rv=hi,_o.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Fl=_o,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,iv=qt}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const Oy="@firebase/firestore",Uy="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new $_("@firebase/firestore");function gs(){return Ta.logLevel}function ot(a,...e){if(Ta.logLevel<=kt.DEBUG){const i=e.map(Nd);Ta.debug(`Firestore (${Is}): ${a}`,...i)}}function ki(a,...e){if(Ta.logLevel<=kt.ERROR){const i=e.map(Nd);Ta.error(`Firestore (${Is}): ${a}`,...i)}}function Ts(a,...e){if(Ta.logLevel<=kt.WARN){const i=e.map(Nd);Ta.warn(`Firestore (${Is}): ${a}`,...i)}}function Nd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a="Unexpected state"){const e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+a;throw ki(e),new Error(e)}function Gt(a,e){a||Et()}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends xs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class Ib{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Mb{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Cr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Cr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new ov(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class Ob{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ub{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new Ob(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ly{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lb{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ly(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new Ly(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function It(a,e){return a<e?-1:a>e?1:0}function As(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,zy=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*zy);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ky)throw new gt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zy}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Re(0,0))}static max(){return new Tt(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(),s===void 0?s=e.length-i:s>e.length-i&&Et(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}}class Wt extends ti{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new gt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const zb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return zb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new Be([Py])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new gt(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new gt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new gt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Wt.fromString(e))}static fromName(e){return new pt(Wt.fromString(e).popFirst(5))}static empty(){return new pt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function Pb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new xr(o,pt.empty(),e)}function Bb(a){return new xr(a.readTime,a.key,eo)}class xr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new xr(Tt.min(),pt.empty(),eo)}static max(){return new xr(Tt.max(),pt.empty(),eo)}}function Hb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:It(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==jb)throw a;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},p=>s(p))}),d=!0,h===o&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(o=>o?$.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new $((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++g,g===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new $((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function Gb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}pc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function yc(a){return a==null}function nc(a){return a===0&&1/a==-1/0}function Fb(a){return typeof a=="number"&&Number.isInteger(a)&&!nc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="";function Qb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=By(e)),e=Kb(a.get(i),e);return By(e)}function Kb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case cv:i+="";break;default:i+=h}}return i}function By(a){return a+cv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Pr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function hv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,i,s,o,h){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new dn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new fv("Invalid base64 string: "+h):h}}(e);return new He(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const Yb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=Yb.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Mr(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="server_timestamp",mv="__type__",gv="__previous_value__",pv="__local_write_time__";function Id(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[mv])===null||i===void 0?void 0:i.stringValue)===dv}function _c(a){const e=a.mapValue.fields[gv];return Id(e)?_c(e):e}function no(a){const e=Ir(a.mapValue.fields[pv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,i,s,o,h,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const ic="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||ic}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===ic}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="__type__",$b="__max__",Pu={mapValue:{}},_v="__vector__",rc="value";function Or(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Id(a)?4:Wb(a)?9007199254740991:Zb(a)?10:11:Et()}function ai(a,e){if(a===e)return!0;const i=Or(a);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return no(a).isEqual(no(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ir(o.timestampValue),g=Ir(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Mr(o.bytesValue).isEqual(Mr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?nc(d)===nc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return As(a.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Hy(d)!==Hy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ai(d[p],g[p])))return!1;return!0}(a,e);default:return Et()}}function ro(a,e){return(a.values||[]).find(i=>ai(i,e))!==void 0}function Ss(a,e){if(a===e)return 0;const i=Or(a),s=Or(e);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),p=fe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return qy(a.timestampValue,e.timestampValue);case 4:return qy(no(a),no(e));case 5:return It(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Mr(h),p=Mr(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=It(g[y],p[y]);if(T!==0)return T}return It(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=It(fe(h.latitude),fe(d.latitude));return g!==0?g:It(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Gy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,y,T;const C=h.fields||{},V=d.fields||{},O=(g=C[rc])===null||g===void 0?void 0:g.arrayValue,k=(p=V[rc])===null||p===void 0?void 0:p.arrayValue,K=It(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((T=k==null?void 0:k.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:Gy(O,k)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Pu.mapValue&&d===Pu.mapValue)return 0;if(h===Pu.mapValue)return 1;if(d===Pu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let C=0;C<p.length&&C<T.length;++C){const V=It(p[C],T[C]);if(V!==0)return V;const O=Ss(g[p[C]],y[T[C]]);if(O!==0)return O}return It(p.length,T.length)}(a.mapValue,e.mapValue);default:throw Et()}}function qy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return It(a,e);const i=Ir(a),s=Ir(e),o=It(i.seconds,s.seconds);return o!==0?o:It(i.nanos,s.nanos)}function Gy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Ss(i[o],s[o]);if(h)return h}return It(i.length,s.length)}function bs(a){return sd(a)}function sd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Ir(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Mr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return pt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=sd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${sd(i.fields[d])}`;return o+"}"}(a.mapValue):Et()}function Qu(a){switch(Or(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(a);return e?16+Qu(e):16;case 5:return 2*a.stringValue.length;case 6:return Mr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Qu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Pr(s.fields,(h,d)=>{o+=h.length+Qu(d)}),o}(a.mapValue);default:throw Et()}}function ld(a){return!!a&&"integerValue"in a}function Md(a){return!!a&&"arrayValue"in a}function Fy(a){return!!a&&"nullValue"in a}function Qy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ku(a){return!!a&&"mapValue"in a}function Zb(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[yv])===null||i===void 0?void 0:i.stringValue)===_v}function Yl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Pr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Yl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function Wb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===$b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ku(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Yl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Ku(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Pr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new an(Yl(this.value))}}function vv(a){const e=[];return Pr(a.fields,(i,s)=>{const o=new Be([i]);if(Ku(s)){const h=vv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Tt.min(),Tt.min(),Tt.min(),an.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Tt.min(),Tt.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Tt.min(),Tt.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.position=e,this.inclusive=i}}function Ky(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Ss(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ai(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Jb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{}class be extends Ev{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new e1(e,i,s):i==="array-contains"?new r1(e,s):i==="in"?new a1(e,s):i==="not-in"?new s1(e,s):i==="array-contains-any"?new l1(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new n1(e,s):new i1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ss(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends Ev{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new si(e,i)}matches(e){return Tv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Tv(a){return a.op==="and"}function Av(a){return t1(a)&&Tv(a)}function t1(a){for(const e of a.filters)if(e instanceof si)return!1;return!0}function od(a){if(a instanceof be)return a.field.canonicalString()+a.op.toString()+bs(a.value);if(Av(a))return a.filters.map(e=>od(e)).join(",");{const e=a.filters.map(i=>od(i)).join(",");return`${a.op}(${e})`}}function Sv(a,e){return a instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)}(a,e):a instanceof si?function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Sv(d,o.filters[g]),!0):!1}(a,e):void Et()}function bv(a){return a instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`}(a):a instanceof si?function(i){return i.op.toString()+" {"+i.getFilters().map(bv).join(" ,")+"}"}(a):"Filter"}class e1 extends be{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class n1 extends be{constructor(e,i){super(e,"in",i),this.keys=Rv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class i1 extends be{constructor(e,i){super(e,"not-in",i),this.keys=Rv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Rv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class r1 extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Md(i)&&ro(i.arrayValue,this.value)}}class a1 extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class s1 extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!ro(this.value.arrayValue,i)}}class l1 extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Md(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ro(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function Xy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new o1(a,e,i,s,o,h,d)}function Od(a){const e=St(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>od(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),yc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>bs(s)).join(",")),e.le=i}return e.le}function Ud(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Jb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Sv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Yy(a.startAt,e.startAt)&&Yy(a.endAt,e.endAt)}function ud(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function u1(a,e,i,s,o,h,d,g){return new vc(a,e,i,s,o,h,d,g)}function wv(a){return new vc(a)}function $y(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function c1(a){return a.collectionGroup!==null}function Xl(a){const e=St(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new sc(h,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new sc(Be.keyField(),s))}return e.he}function ei(a){const e=St(a);return e.Pe||(e.Pe=h1(e,Xl(a))),e.Pe}function h1(a,e){if(a.limitType==="F")return Xy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new sc(o.field,h)});const i=a.endAt?new ac(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ac(a.startAt.position,a.startAt.inclusive):null;return Xy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function cd(a,e,i){return new vc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Ec(a,e){return Ud(ei(a),ei(e))&&a.limitType===e.limitType}function Cv(a){return`${Od(ei(a))}|lt:${a.limitType}`}function ps(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>bv(o)).join(", ")}]`),yc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>bs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>bs(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Tc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):pt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Xl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=Ky(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Xl(s),o)||s.endAt&&!function(d,g,p){const y=Ky(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Xl(s),o))}(a,e)}function f1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Dv(a){return(e,i)=>{let s=!1;for(const o of Xl(a)){const h=d1(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function d1(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?Ss(p,y):Et()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return hv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new ie(pt.comparator);function zi(){return m1}const Vv=new ie(pt.comparator);function Ql(...a){let e=Vv;for(const i of a)e=e.insert(i.key,i);return e}function Nv(a){let e=Vv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ea(){return $l()}function xv(){return $l()}function $l(){return new Sa(a=>a.toString(),(a,e)=>a.isEqual(e))}const g1=new ie(pt.comparator),p1=new we(pt.comparator);function Nt(...a){let e=p1;for(const i of a)e=e.add(i);return e}const y1=new we(It);function _1(){return y1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function Iv(a){return{integerValue:""+a}}function v1(a,e){return Fb(e)?Iv(e):Ld(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function E1(a,e,i){return a instanceof lc?function(o,h){const d={fields:{[mv]:{stringValue:dv},[pv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Id(h)&&(h=_c(h)),h&&(d.fields[gv]=h),{mapValue:d}}(i,e):a instanceof ao?Ov(a,e):a instanceof so?Uv(a,e):function(o,h){const d=Mv(o,h),g=Zy(d)+Zy(o.Ie);return ld(d)&&ld(o.Ie)?Iv(g):Ld(o.serializer,g)}(a,e)}function T1(a,e,i){return a instanceof ao?Ov(a,e):a instanceof so?Uv(a,e):i}function Mv(a,e){return a instanceof oc?function(s){return ld(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class lc extends Ac{}class ao extends Ac{constructor(e){super(),this.elements=e}}function Ov(a,e){const i=Lv(e);for(const s of a.elements)i.some(o=>ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class so extends Ac{constructor(e){super(),this.elements=e}}function Uv(a,e){let i=Lv(e);for(const s of a.elements)i=i.filter(o=>!ai(o,s));return{arrayValue:{values:i}}}class oc extends Ac{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Zy(a){return fe(a.integerValue||a.doubleValue)}function Lv(a){return Md(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function A1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof ao&&o instanceof ao||s instanceof so&&o instanceof so?As(s.elements,o.elements,ai):s instanceof oc&&o instanceof oc?ai(s.Ie,o.Ie):s instanceof lc&&o instanceof lc}(a.transform,e.transform)}class S1{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Sc{}function kv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Pv(a.key,ni.none()):new co(a.key,a.data,ni.none());{const i=a.data,s=an.empty();let o=new we(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Br(a.key,s,new dn(o.toArray()),ni.none())}}function b1(a,e,i){a instanceof co?function(o,h,d){const g=o.value.clone(),p=Jy(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Br?function(o,h,d){if(!Yu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Jy(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(zv(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Zl(a,e,i,s){return a instanceof co?function(h,d,g,p){if(!Yu(h.precondition,d))return g;const y=h.value.clone(),T=t_(h.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof Br?function(h,d,g,p){if(!Yu(h.precondition,d))return g;const y=t_(h.fieldTransforms,p,d),T=d.data;return T.setAll(zv(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(a,e,i,s):function(h,d,g){return Yu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function R1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Mv(s.transform,o||null);h!=null&&(i===null&&(i=an.empty()),i.set(s.field,h))}return i||null}function Wy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&As(s,o,(h,d)=>A1(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class co extends Sc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Br extends Sc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function zv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Jy(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,T1(d,g,i[o]))}return s}function t_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,E1(h,d,e))}return s}class Pv extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w1 extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&b1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=xv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=kv(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,s)=>Wy(i,s))&&As(this.baseMutations,e.baseMutations,(i,s)=>Wy(i,s))}}class kd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return g1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new kd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Lt;function N1(a){switch(a){case J.OK:return Et();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et()}}function Bv(a){if(a===void 0)return ki("GRPC error has no .code"),J.UNKNOWN;switch(a){case ye.OK:return J.OK;case ye.CANCELLED:return J.CANCELLED;case ye.UNKNOWN:return J.UNKNOWN;case ye.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ye.INTERNAL:return J.INTERNAL;case ye.UNAVAILABLE:return J.UNAVAILABLE;case ye.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ye.NOT_FOUND:return J.NOT_FOUND;case ye.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ye.ABORTED:return J.ABORTED;case ye.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ye.DATA_LOSS:return J.DATA_LOSS;default:return Et()}}(Lt=ye||(ye={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new wr([4294967295,4294967295],0);function e_(a){const e=x1().encode(a),i=new nv;return i.update(e),new Uint8Array(i.digest())}function n_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new wr([i,s],0),new wr([o,h],0)]}class zd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=wr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(wr.fromNumber(s)));return o.compare(I1)===1&&(o=new wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=e_(e),[s,o]=n_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new zd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=e_(e),[s,o]=n_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new bc(Tt.min(),o,new ie(It),zi(),Nt())}}class ho{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ho(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class Hv{constructor(e,i){this.targetId=e,this.ge=i}}class jv{constructor(e,i,s=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class i_{constructor(){this.pe=0,this.ye=r_(),this.we=He.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new ho(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=r_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class M1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=zi(),this.$e=Bu(),this.Ke=Bu(),this.Ue=new ie(It)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(ud(h))if(s===0){const d=new pt(h.path);this.ze(i,d,Ke.newNoDocument(d,Tt.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Mr(s).toUint8Array()}catch(p){if(p instanceof fv)return Ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new zd(d,o,h)}catch(p){return Ts(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&ud(g.target)){const p=new pt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Nt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new bc(e,i,this.Ue,this.Qe,s);return this.Qe=zi(),this.$e=Bu(),this.Ke=Bu(),this.Ue=new ie(It),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new i_,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new we(It),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(It),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new i_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Bu(){return new ie(pt.comparator)}function r_(){return new ie(pt.comparator)}const O1={asc:"ASCENDING",desc:"DESCENDING"},U1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L1={and:"AND",or:"OR"};class k1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hd(a,e){return a.useProto3Json||yc(e)?e:{value:e}}function uc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function z1(a,e){return uc(a,e.toTimestamp())}function ii(a){return Gt(!!a),Tt.fromTimestamp(function(i){const s=Ir(i);return new Re(s.seconds,s.nanos)}(a))}function Pd(a,e){return fd(a,e).canonicalString()}function fd(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Gv(a){const e=Wt.fromString(a);return Gt(Xv(e)),e}function dd(a,e){return Pd(a.databaseId,e.path)}function Ff(a,e){const i=Gv(e);if(i.get(1)!==a.databaseId.projectId)throw new gt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new gt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(Qv(i))}function Fv(a,e){return Pd(a.databaseId,e)}function P1(a){const e=Gv(a);return e.length===4?Wt.emptyPath():Qv(e)}function md(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Qv(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function a_(a,e,i){return{name:dd(a,e),fields:i.value.mapValue.fields}}function B1(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string"),He.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),He.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const T=y.code===void 0?J.UNKNOWN:Bv(y.code);return new gt(T,y.message||"")}(d);i=new jv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ff(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):Tt.min(),g=new an({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,h,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new Xu(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ff(a,s.document),h=s.readTime?ii(s.readTime):Tt.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ff(a,s.document),h=s.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return Et();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new V1(o,h),g=s.targetId;i=new Hv(g,d)}}return i}function H1(a,e){let i;if(e instanceof co)i={update:a_(a,e.key,e.value)};else if(e instanceof Pv)i={delete:dd(a,e.key)};else if(e instanceof Br)i={update:a_(a,e.key,e.data),updateMask:$1(e.fieldMask)};else{if(!(e instanceof w1))return Et();i={verify:dd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Et()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:z1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et()}(a,e.precondition)),i}function j1(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(Tt.min())&&(d=ii(h)),new S1(d,o.transformResults||[])}(i,e))):[]}function q1(a,e){return{documents:[Fv(a,e.path)]}}function G1(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Fv(a,o);const h=function(y){if(y.length!==0)return Yv(si.create(y,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(y){if(y.length!==0)return y.map(T=>function(V){return{field:ys(V.field),direction:K1(V.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function F1(a){let e=P1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(C){const V=Kv(C);return V instanceof si&&Av(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(V=>function(k){return new sc(_s(k.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(C){let V;return V=typeof C=="object"?C.value:C,yc(V)?null:V}(i.limit));let p=null;i.startAt&&(p=function(C){const V=!!C.before,O=C.values||[];return new ac(O,V)}(i.startAt));let y=null;return i.endAt&&(y=function(C){const V=!C.before,O=C.values||[];return new ac(O,V)}(i.endAt)),u1(e,o,d,h,g,"F",p,y)}function Q1(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Kv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_s(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_s(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(a):a.fieldFilter!==void 0?function(i){return be.create(_s(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return si.create(i.compositeFilter.filters.map(s=>Kv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(a):Et()}function K1(a){return O1[a]}function Y1(a){return U1[a]}function X1(a){return L1[a]}function ys(a){return{fieldPath:a.canonicalString()}}function _s(a){return Be.fromServerFormat(a.fieldPath)}function Yv(a){return a instanceof be?function(i){if(i.op==="=="){if(Qy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(Fy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Qy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(Fy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:Y1(i.op),value:i.value}}}(a):a instanceof si?function(i){const s=i.getFilters().map(o=>Yv(o));return s.length===1?s[0]:{compositeFilter:{op:X1(i.op),filters:s}}}(a):Et()}function $1(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Xv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),g=He.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.Tt=e}}function W1(a){const e=F1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.Tn=new tR}addToCollectionParentIndex(e,i){return this.Tn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(xr.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class tR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn($v,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Rs(0)}static Un(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LruGarbageCollector",eR=1048576;function o_([a,e],[i,s]){const o=It(a,i);return o===0?It(e,s):o}class nR{constructor(e){this.Hn=e,this.buffer=new we(o_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();o_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ot(l_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?ot(l_,"Ignoring IndexedDB error during garbage collection: ",i):await Ms(i)}await this.er(3e5)})}}class rR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(pc.ae);const s=new nR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(s_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,g=Date.now(),this.removeTargets(e,s,i))).next(C=>(h=C,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(y=Date.now(),gs()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C})))}}function aR(a,e){return new rR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.changes=new Sa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Zl(s.mutation,o,dn.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=Ea();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Ql();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Ea();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=zi();const d=$l(),g=function(){return $l()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Br)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Zl(T.mutation,y,T.mutation.getFieldMask(),Re.now())):d.set(y.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var C;return g.set(y,new lR(T,(C=d.get(y))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new ie((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||dn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const C=(o.get(g.batchId)||Nt()).add(p);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,C=xv();T.forEach(V=>{if(!h.has(V)){const O=kv(i.get(V),s.get(V));O!==null&&C.set(V,O),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,C))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):c1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):$.resolve(Ea());let g=eo,p=h;return d.next(y=>$.forEach(y,(T,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next(V=>{p=p.insert(T,V)}))).next(()=>this.populateOverlays(e,y,h)).next(()=>this.computeViews(e,p,y,Nt())).next(T=>({batchId:g,changes:Nv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next(g=>$.forEach(g,p=>{const y=function(C,V){return new vc(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((C,V)=>{d=d.insert(C,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let g=Ql();return d.forEach((p,y)=>{const T=h.get(p);T!==void 0&&Zl(T.mutation,y,dn.empty(),Re.now()),Tc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return $.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:W1(o.bundledQuery),readTime:ii(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.overlays=new ie(pt.comparator),this.Rr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ea();return $.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=Ea(),h=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ie((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=h.get(y.largestBatchId);T===null&&(T=Ea(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Ea(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return $.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new D1(i,s));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.Vr=new we(Oe.mr),this.gr=new we(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new pt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new pt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=Nt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return pt.comparator(e.key,i.key)||It(e.Cr,i.Cr)}static pr(e,i){return It(e.Cr,i.Cr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Oe.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new C1(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?xd:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(It);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;pt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new pt(h),0);let g=new we(It);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),$.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Mr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.kr=e,this.docs=function(){return new ie(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=zi();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Hb(Bb(T),s)<=0||(o.has(T.key)||Tc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,s,o){Et()}qr(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new mR(this)}getSize(e){return $.resolve(this.size)}}class mR extends sR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.persistence=e,this.Qr=new Sa(i=>Od(i),Ud),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Bd,this.targetCount=0,this.Ur=Rs.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),$.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.zn(i),$.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(h).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new pc(0),this.zr=!1,this.zr=!0,this.jr=new hR,this.referenceDelegate=e(this),this.Hr=new gR(this),this.indexManager=new J1,this.remoteDocumentCache=function(o){return new dR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Z1(i),this.Yr=new uR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new fR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new pR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class pR extends qb{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.ti=new Bd,this.ni=null}static ri(e){return new Hd(e)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),$.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return $.or([()=>$.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class cc{constructor(e,i){this.persistence=e,this.oi=new Sa(s=>Qb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aR(this,i)}static ri(e,i){return new cc(e,i)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return $.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?$.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),$.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}ar(e,i,s){return $.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new jd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dS()?8:Gb(hS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new yR;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(gs()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(gs()<=kt.DEBUG&&ot("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(gs()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):$.resolve())}rs(e,i){if($y(i))return $.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=cd(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,cd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return $y(i)||o.isEqual(Tt.min())?$.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?$.resolve(null):(gs()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.hs(e,d,i,Pb(o,eo)).next(g=>g))})}cs(e,i){let s=new we(Dv(e));return i.forEach((o,h)=>{Tc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return gs()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ns.getDocumentsMatchingQuery(e,i,xr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="LocalStore",vR=3e8;class ER{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ie(It),this.Is=new Sa(h=>Od(h),Ud),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function TR(a,e,i,s){return new ER(a,e,i,s)}async function Wv(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=Nt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of h){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function AR(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const C=y.batch,V=C.keys();let O=$.resolve();return V.forEach(k=>{O=O.next(()=>T.getEntry(p,k)).next(K=>{const j=y.docVersions.get(k);Gt(j!==null),K.version.compareTo(j)<0&&(C.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),O.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Jv(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function SR(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((T,C)=>{const V=o.get(C);if(!V)return;g.push(i.Hr.removeMatchingKeys(h,T.removedDocuments,C).next(()=>i.Hr.addMatchingKeys(h,T.addedDocuments,C)));let O=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?O=O.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(C,O),function(K,j,Y){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=vR?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(V,O,T)&&g.push(i.Hr.updateTargetData(h,O))});let p=zi(),y=Nt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(bR(h,d,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Tt.min())){const T=i.Hr.getLastRemoteSnapshotVersion(h).next(C=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return $.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,y)).next(()=>p)}).then(h=>(i.Ts=o,h))}function bR(a,e,i){let s=Nt(),o=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=zi();return i.forEach((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ot(qd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function RR(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=xd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wR(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,$.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Sr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function gd(a,e,i){const s=St(a),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;ot(qd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function u_(a,e,i){const s=St(a);let o=Tt.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const C=St(p),V=C.Is.get(T);return V!==void 0?$.resolve(C.Ts.get(V)):C.Hr.getTargetData(y,T)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Nt())).next(g=>(CR(s,f1(e),g),{documents:g,gs:h})))}function CR(a,e,i){let s=a.Es.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class c_{constructor(){this.activeTargetIds=_1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DR{constructor(){this.ho=new c_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new c_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="ConnectivityMonitor";class f_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(h_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ot(h_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function pd(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="RestConnection",NR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===ic?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=pd(),g=this.bo(e,i.toUriEncodedString());ot(Qf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,h),this.vo(e,g,p,s).then(y=>(ot(Qf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ts(Qf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=NR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class MR extends xR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=pd();return new Promise((d,g)=>{const p=new iv;p.setWithCredentials(!0),p.listenOnce(rv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Fu.NO_ERROR:const T=p.getResponseJson();ot(Fe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case Fu.TIMEOUT:ot(Fe,`RPC '${e}' ${h} timed out`),g(new gt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const C=p.getStatus();if(ot(Fe,`RPC '${e}' ${h} failed with status:`,C,"response text:",p.getResponseText()),C>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const O=V==null?void 0:V.error;if(O&&O.status&&O.message){const k=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Y)>=0?Y:J.UNKNOWN}(O.status);g(new gt(k,O.message))}else g(new gt(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new gt(J.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ot(Fe,`RPC '${e}' ${h} completed.`)}});const y=JSON.stringify(o);ot(Fe,`RPC '${e}' ${h} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=pd(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=lv(),g=sv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=h.join("");ot(Fe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const C=d.createWebChannel(T,p);let V=!1,O=!1;const k=new IR({Fo:j=>{O?ot(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(V||(ot(Fe,`Opening RPC '${e}' stream ${o} transport.`),C.open(),V=!0),ot(Fe,`RPC '${e}' stream ${o} sending:`,j),C.send(j))},Mo:()=>C.close()}),K=(j,Y,et)=>{j.listen(Y,tt=>{try{et(tt)}catch(yt){setTimeout(()=>{throw yt},0)}})};return K(C,Fl.EventType.OPEN,()=>{O||(ot(Fe,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),K(C,Fl.EventType.CLOSE,()=>{O||(O=!0,ot(Fe,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),K(C,Fl.EventType.ERROR,j=>{O||(O=!0,Ts(Fe,`RPC '${e}' stream ${o} transport errored:`,j),k.Ko(new gt(J.UNAVAILABLE,"The operation could not be completed")))}),K(C,Fl.EventType.MESSAGE,j=>{var Y;if(!O){const et=j.data[0];Gt(!!et);const tt=et,yt=(tt==null?void 0:tt.error)||((Y=tt[0])===null||Y===void 0?void 0:Y.error);if(yt){ot(Fe,`RPC '${e}' stream ${o} received error:`,yt);const ht=yt.status;let rt=function(S){const R=ye[S];if(R!==void 0)return Bv(R)}(ht),N=yt.message;rt===void 0&&(rt=J.INTERNAL,N="Unknown error status: "+ht+" with message "+yt.message),O=!0,k.Ko(new gt(rt,N)),C.close()}else ot(Fe,`RPC '${e}' stream ${o} received:`,et),k.Uo(et)}}),K(g,av.STAT_EVENT,j=>{j.stat===ad.PROXY?ot(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===ad.NOPROXY&&ot(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(a){return new k1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="PersistentStream";class e0{constructor(e,i,s,o,h,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new t0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new gt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ot(d_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ot(d_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OR extends e0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=B1(this.serializer,e),s=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ii(d.readTime):Tt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=md(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=ud(p)?{documents:q1(h,p)}:{query:G1(h,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qv(h,d.resumeToken);const y=hd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=uc(h,d.snapshotVersion.toTimestamp());const y=hd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=Q1(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=md(this.serializer),i.removeTarget=e,this.I_(i)}}class UR extends e0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=j1(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=md(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>H1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class kR extends LR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new gt(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,fd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new gt(J.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,fd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(J.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ki(i),this.N_=!1):ot("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class PR{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{ba(this)&&(ot(Aa,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.W_.add(4),await fo(y),y.j_.set("Unknown"),y.W_.delete(4),await wc(y)}(this))})}),this.j_=new zR(s,o)}}async function wc(a){if(ba(a))for(const e of a.G_)await e(!0)}async function fo(a){for(const e of a.G_)await e(!1)}function n0(a,e){const i=St(a);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),Kd(i)?Qd(i):Us(i).c_()&&Fd(i,e))}function Gd(a,e){const i=St(a),s=Us(i);i.U_.delete(e),s.c_()&&i0(i,e),i.U_.size===0&&(s.c_()?s.P_():ba(i)&&i.j_.set("Unknown"))}function Fd(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Us(a).y_(e)}function i0(a,e){a.H_.Ne(e),Us(a).w_(e)}function Qd(a){a.H_=new M1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.U_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Us(a).start(),a.j_.B_()}function Kd(a){return ba(a)&&!Us(a).u_()&&a.U_.size>0}function ba(a){return St(a).W_.size===0}function r0(a){a.H_=void 0}async function BR(a){a.j_.set("Online")}async function HR(a){a.U_.forEach((e,i)=>{Fd(a,e)})}async function jR(a,e){r0(a),Kd(a)?(a.j_.q_(e),Qd(a)):a.j_.set("Unknown")}async function qR(a,e,i){if(a.j_.set("Online"),e instanceof jv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.U_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.U_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(s){ot(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hc(a,s)}else if(e instanceof Xu?a.H_.We(e):e instanceof Hv?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Tt.min()))try{const s=await Jv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.U_.get(y);T&&h.U_.set(y,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const T=h.U_.get(p);if(!T)return;h.U_.set(p,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),i0(h,p);const C=new Sr(T.target,p,y,T.sequenceNumber);Fd(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ot(Aa,"Failed to raise snapshot:",s),await hc(a,s)}}async function hc(a,e,i){if(!Os(e))throw e;a.W_.add(1),await fo(a),a.j_.set("Offline"),i||(i=()=>Jv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ot(Aa,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await wc(a)})}function a0(a,e){return e().catch(i=>hc(a,i,e))}async function Cc(a){const e=St(a),i=Ur(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:xd;for(;GR(e);)try{const o=await RR(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,FR(e,o)}catch(o){await hc(e,o)}s0(e)&&l0(e)}function GR(a){return ba(a)&&a.K_.length<10}function FR(a,e){a.K_.push(e);const i=Ur(a);i.c_()&&i.S_&&i.b_(e.mutations)}function s0(a){return ba(a)&&!Ur(a).u_()&&a.K_.length>0}function l0(a){Ur(a).start()}async function QR(a){Ur(a).C_()}async function KR(a){const e=Ur(a);for(const i of a.K_)e.b_(i.mutations)}async function YR(a,e,i){const s=a.K_.shift(),o=kd.from(s,e,i);await a0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Cc(a)}async function XR(a,e){e&&Ur(a).S_&&await async function(s,o){if(function(d){return N1(d)&&d!==J.ABORTED}(o.code)){const h=s.K_.shift();Ur(s).h_(),await a0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Cc(s)}}(a,e),s0(a)&&l0(a)}async function m_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ot(Aa,"RemoteStore received new credentials");const s=ba(i);i.W_.add(3),await fo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await wc(i)}async function $R(a,e){const i=St(a);e?(i.W_.delete(2),await wc(i)):e||(i.W_.add(2),await fo(i),i.j_.set("Unknown"))}function Us(a){return a.J_||(a.J_=function(i,s,o){const h=St(i);return h.M_(),new OR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:BR.bind(null,a),No:HR.bind(null,a),Lo:jR.bind(null,a),p_:qR.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),Kd(a)?Qd(a):a.j_.set("Unknown")):(await a.J_.stop(),r0(a))})),a.J_}function Ur(a){return a.Y_||(a.Y_=function(i,s,o){const h=St(i);return h.M_(),new UR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:QR.bind(null,a),Lo:XR.bind(null,a),D_:KR.bind(null,a),v_:YR.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await Cc(a)):(await a.Y_.stop(),a.K_.length>0&&(ot(Aa,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Yd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(a,e){if(ki("AsyncQueue",`${e}: ${a}`),Os(a))return new gt(J.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Es;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.Z_=new ie(pt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Et():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class ws{constructor(e,i,s,o,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ws(e,i,Es.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WR{constructor(){this.queries=p_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=p_(),h.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new gt(J.ABORTED,"Firestore shutting down"))}}function p_(){return new Sa(a=>Cv(a),Ec)}async function JR(a,e){const i=St(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new ZR,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Xd(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&$d(i)}async function tw(a,e){const i=St(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ew(a,e){const i=St(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&$d(i)}function nw(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function $d(a){a.ia.forEach(e=>{e.next()})}var yd,y_;(y_=yd||(yd={}))._a="default",y_.Cache="cache";class iw{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class rw{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=Dv(e),this.wa=new Es(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new g_,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,C)=>{const V=o.get(T),O=Tc(this.query,C)?C:null,k=!!V&&this.mutatedKeys.has(V.key),K=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;V&&O?V.data.isEqual(O.data)?k!==K&&(s.track({type:3,doc:O}),j=!0):this.va(V,O)||(s.track({type:2,doc:O}),j=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(g=!0)):!V&&O?(s.track({type:0,doc:O}),j=!0):V&&!O&&(s.track({type:1,doc:V}),j=!0,(p||y)&&(g=!0)),j&&(O?(d=d.add(O),h=K?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,C)=>function(O,k){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return K(O)-K(k)}(T.type,C.type)||this.ya(T.doc,C.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new ws(this.query,e.wa,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new g_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new u0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new o0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ws.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zd="SyncEngine";class aw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class sw{constructor(e){this.key=e,this.Ba=!1}}class lw{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Sa(g=>Cv(g),Ec),this.qa=new Map,this.Qa=new Set,this.$a=new ie(pt.comparator),this.Ka=new Map,this.Ua=new Bd,this.Wa={},this.Ga=new Map,this.za=Rs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ow(a,e,i=!0){const s=g0(a);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await c0(s,e,i,!0),o}async function uw(a,e){const i=g0(a);await c0(i,e,!0,!1)}async function c0(a,e,i,s){const o=await wR(a.localStore,ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await cw(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&n0(a.remoteStore,o),g}async function cw(a,e,i,s,o){a.Ha=(C,V,O)=>async function(K,j,Y,et){let tt=j.view.ba(Y);tt.ls&&(tt=await u_(K.localStore,j.query,!1).then(({documents:N})=>j.view.ba(N,tt)));const yt=et&&et.targetChanges.get(j.targetId),ht=et&&et.targetMismatches.get(j.targetId)!=null,rt=j.view.applyChanges(tt,K.isPrimaryClient,yt,ht);return v_(K,j.targetId,rt.Ma),rt.snapshot}(a,C,V,O);const h=await u_(a.localStore,e,!0),d=new rw(e,h.gs),g=d.ba(h.documents),p=ho.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);v_(a,i,y.Ma);const T=new aw(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function hw(a,e,i){const s=St(a),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!Ec(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Gd(s.remoteStore,o.targetId),_d(s,o.targetId)}).catch(Ms)):(_d(s,o.targetId),await gd(s.localStore,o.targetId,!0))}async function fw(a,e){const i=St(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Gd(i.remoteStore,s.targetId))}async function dw(a,e,i){const s=Ew(a);try{const o=await function(d,g){const p=St(d),y=Re.now(),T=g.reduce((O,k)=>O.add(k.key),Nt());let C,V;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=zi(),K=Nt();return p.ds.getEntries(O,T).next(j=>{k=j,k.forEach((Y,et)=>{et.isValidDocument()||(K=K.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,k)).next(j=>{C=j;const Y=[];for(const et of g){const tt=R1(et,C.get(et.key).overlayedDocument);tt!=null&&Y.push(new Br(et.key,tt,vv(tt.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,Y,g)}).next(j=>{V=j;const Y=j.applyToLocalDocumentSet(C,K);return p.documentOverlayCache.saveOverlays(O,j.batchId,Y)})}).then(()=>({batchId:V.batchId,changes:Nv(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ie(It)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await mo(s,o.changes),await Cc(s.remoteStore)}catch(o){const h=Xd(o,"Failed to persist write");i.reject(h)}}async function h0(a,e){const i=St(a);try{const s=await SR(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ka.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await mo(i,s,e)}catch(s){await Ms(s)}}function __(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let y=!1;p.queries.forEach((T,C)=>{for(const V of C.ta)V.sa(g)&&(y=!0)}),y&&$d(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mw(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),h=o&&o.key;if(h){let d=new ie(pt.comparator);d=d.insert(h,Ke.newNoDocument(h,Tt.min()));const g=Nt().add(h),p=new bc(Tt.min(),new Map,new ie(It),d,g);await h0(s,p),s.$a=s.$a.remove(h),s.Ka.delete(e),Wd(s)}else await gd(s.localStore,e,!1).then(()=>_d(s,e,i)).catch(Ms)}async function gw(a,e){const i=St(a),s=e.batch.batchId;try{const o=await AR(i.localStore,e);d0(i,s,null),f0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mo(i,o)}catch(o){await Ms(o)}}async function pw(a,e,i){const s=St(a);try{const o=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(C=>(Gt(C!==null),T=C.keys(),p.mutationQueue.removeMutationBatch(y,C))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);d0(s,e,i),f0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mo(s,o)}catch(o){await Ms(o)}}function f0(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function d0(a,e,i){const s=St(a);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function _d(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ua.br(e).forEach(s=>{a.Ua.containsKey(s)||m0(a,s)})}function m0(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Gd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ka.delete(i),Wd(a))}function v_(a,e,i){for(const s of i)s instanceof o0?(a.Ua.addReference(s.key,e),yw(a,s)):s instanceof u0?(ot(Zd,"Document no longer in limbo: "+s.key),a.Ua.removeReference(s.key,e),a.Ua.containsKey(s.key)||m0(a,s.key)):Et()}function yw(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ot(Zd,"New document in limbo: "+i),a.Qa.add(s),Wd(a))}function Wd(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new pt(Wt.fromString(e)),s=a.za.next();a.Ka.set(s,new sw(i)),a.$a=a.$a.insert(i,s),n0(a.remoteStore,new Sr(ei(wv(i.path)),s,"TargetPurposeLimboResolution",pc.ae))}}async function mo(a,e,i){const s=St(a),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const C=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(y){o.push(y);const C=jd.Yi(p.targetId,y);h.push(C)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>$.forEach(y,V=>$.forEach(V.Hi,O=>T.persistence.referenceDelegate.addReference(C,V.targetId,O)).next(()=>$.forEach(V.Ji,O=>T.persistence.referenceDelegate.removeReference(C,V.targetId,O)))))}catch(C){if(!Os(C))throw C;ot(qd,"Failed to update sequence numbers: "+C)}for(const C of y){const V=C.targetId;if(!C.fromCache){const O=T.Ts.get(V),k=O.snapshotVersion,K=O.withLastLimboFreeSnapshotVersion(k);T.Ts=T.Ts.insert(V,K)}}}(s.localStore,h))}async function _w(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ot(Zd,"User change. New user:",e.toKey());const s=await Wv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(p=>{p.reject(new gt(J.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mo(i,s.Rs)}}function vw(a,e){const i=St(a),s=i.Ka.get(e);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function g0(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mw.bind(null,e),e.La.p_=ew.bind(null,e.eventManager),e.La.Ja=nw.bind(null,e.eventManager),e}function Ew(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pw.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return TR(this.persistence,new _R,e.initialUser,this.serializer)}Xa(e){return new Zv(Hd.ri,this.serializer)}Za(e){return new DR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class Tw extends fc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof cc);const s=this.persistence.referenceDelegate.garbageCollector;return new iR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Zv(s=>cc.ri(s,i),this.serializer)}}class vd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>__(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_w.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WR}()}createDatastore(e){const i=Rc(e.databaseInfo.databaseId),s=function(h){return new MR(h)}(e.databaseInfo);return function(h,d,g,p){return new kR(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new PR(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>__(this.syncEngine,i,0),function(){return f_.D()?new f_:new VR}())}createSyncEngine(e,i){return function(o,h,d,g,p,y,T){const C=new lw(o,h,d,g,p,y);return T&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);ot(Aa,"RemoteStore shutting down."),h.W_.add(5),await fo(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class Sw{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ot(Lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(Lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Xd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Yf(a,e){a.asyncQueue.verifyOperationInProgress(),ot(Lr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Wv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function E_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await bw(a);ot(Lr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>m_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>m_(e.remoteStore,o)),a._onlineComponents=e}async function bw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(Lr,"Using user provided OfflineComponentProvider");try{await Yf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Yf(a,new fc)}}else ot(Lr,"Using default OfflineComponentProvider"),await Yf(a,new Tw(void 0));return a._offlineComponents}async function p0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(Lr,"Using user provided OnlineComponentProvider"),await E_(a,a._uninitializedComponentsProvider._online)):(ot(Lr,"Using default OnlineComponentProvider"),await E_(a,new vd))),a._onlineComponents}function Rw(a){return p0(a).then(e=>e.syncEngine)}async function ww(a){const e=await p0(a),i=e.eventManager;return i.onListen=ow.bind(null,e.syncEngine),i.onUnlisten=hw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=uw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fw.bind(null,e.syncEngine),i}function Cw(a,e,i={}){const s=new Cr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,y){const T=new Aw({next:V=>{T.su(),d.enqueueAndForget(()=>tw(h,C)),V.fromCache&&p.source==="server"?y.reject(new gt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(V)},error:V=>y.reject(V)}),C=new iw(g,T,{includeMetadataChanges:!0,Ta:!0});return JR(h,C)}(await ww(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(a,e,i){if(!i)throw new gt(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Dw(a,e,i,s){if(e===!0&&s===!0)throw new gt(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function A_(a){if(!pt.isDocumentKey(a))throw new gt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function S_(a){if(pt.isDocumentKey(a))throw new gt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Jd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et()}function Cs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new gt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jd(a);throw new gt(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="firestore.googleapis.com",b_=!0;class R_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new gt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v0,this.ssl=b_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:b_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eR)throw new gt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new gt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new gt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new gt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new xb;switch(s.type){case"firstParty":return new Ub(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=T_.get(i);s&&(ot("ComponentProvider","Removing Datastore"),T_.delete(i),s.terminate())}(this),Promise.resolve()}}function Vw(a,e,i,s={}){var o;const h=(a=Cs(a,Dc))._getSettings(),d=`${e}:${i}`;if(h.host!==v0&&h.host!==d&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),s.mockUserToken){let g,p;if(typeof s.mockUserToken=="string")g=s.mockUserToken,p=Qe.MOCK_USER;else{g=cS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new gt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}a._authCredentials=new Ib(new ov(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vc(this.firestore,e,this._query)}}class xn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Dr extends Vc{constructor(e,i,s){super(e,i,wv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new pt(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function w_(a,e,...i){if(a=Nr(a),_0("collection","path",e),a instanceof Dc){const s=Wt.fromString(e,...i);return S_(s),new Dr(a,null,s)}{if(!(a instanceof xn||a instanceof Dr))throw new gt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return S_(s),new Dr(a.firestore,null,s)}}function E0(a,e,...i){if(a=Nr(a),arguments.length===1&&(e=uv.newId()),_0("doc","path",e),a instanceof Dc){const s=Wt.fromString(e,...i);return A_(s),new xn(a,null,new pt(s))}{if(!(a instanceof xn||a instanceof Dr))throw new gt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return A_(s),new xn(a.firestore,a instanceof Dr?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="AsyncQueue";class D_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new t0(this,"async_queue_retry"),this.Su=()=>{const s=Kf();s&&ot(C_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Cr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Os(e))throw e;ot(C_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw ki("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Yd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Nc extends Dc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new D_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D_(e),this._firestoreClient=void 0,await e}}}function Nw(a,e){const i=typeof a=="object"?a:Eb(),s=typeof a=="string"?a:ic,o=gb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=oS("firestore");h&&Vw(o,...h)}return o}function T0(a){if(a._terminated)throw new gt(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||xw(a),a._firestoreClient}function xw(a){var e,i,s;const o=a._freezeSettings(),h=function(g,p,y,T){return new Xb(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,y0(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new Sw(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(He.fromBase64String(e))}catch(i){throw new gt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ds(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new gt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=/^__.*__$/;class Mw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,i,this.fieldTransforms):new co(e,this.data,i,this.fieldTransforms)}}class A0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function S0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class im{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(S0(this.Lu)&&Iw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ow{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Rc(e)}ju(e,i,s,o=!1){return new im({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b0(a){const e=a._freezeSettings(),i=Rc(a._databaseId);return new Ow(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Uw(a,e,i,s,o,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,o);rm("Data must be an object, but it was:",d,s);const g=R0(s,d);let p,y;if(h.merge)p=new dn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const C of h.mergeFields){const V=Ed(e,C,i);if(!d.contains(V))throw new gt(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);C0(T,V)||T.push(V)}p=new dn(T),y=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,y=d.fieldTransforms;return new Mw(new an(g),p,y)}class Ic extends tm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}function Lw(a,e,i,s){const o=a.ju(1,e,i);rm("Data must be an object, but it was:",o,s);const h=[],d=an.empty();Pr(s,(p,y)=>{const T=am(e,p,i);y=Nr(y);const C=o.Ku(T);if(y instanceof Ic)h.push(T);else{const V=Mc(y,C);V!=null&&(h.push(T),d.set(T,V))}});const g=new dn(h);return new A0(d,g,o.fieldTransforms)}function kw(a,e,i,s,o,h){const d=a.ju(1,e,i),g=[Ed(e,s,i)],p=[o];if(h.length%2!=0)throw new gt(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)g.push(Ed(e,h[V])),p.push(h[V+1]);const y=[],T=an.empty();for(let V=g.length-1;V>=0;--V)if(!C0(y,g[V])){const O=g[V];let k=p[V];k=Nr(k);const K=d.Ku(O);if(k instanceof Ic)y.push(O);else{const j=Mc(k,K);j!=null&&(y.push(O),T.set(O,j))}}const C=new dn(y);return new A0(T,C,d.fieldTransforms)}function Mc(a,e){if(w0(a=Nr(a)))return rm("Unsupported field value:",e,a),R0(a,e);if(a instanceof tm)return function(s,o){if(!S0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let p=Mc(g,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=Nr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return v1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Re.fromDate(s);return{timestampValue:uc(o.serializer,h)}}if(s instanceof Re){const h=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uc(o.serializer,h)}}if(s instanceof em)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ds)return{bytesValue:qv(o.serializer,s._byteString)};if(s instanceof xn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Pd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof nm)return function(d,g){return{mapValue:{fields:{[yv]:{stringValue:_v},[rc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Ld(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Jd(s)}`)}(a,e)}function R0(a,e){const i={};return hv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pr(a,(s,o)=>{const h=Mc(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function w0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Re||a instanceof em||a instanceof Ds||a instanceof xn||a instanceof tm||a instanceof nm)}function rm(a,e,i){if(!w0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Jd(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function Ed(a,e,i){if((e=Nr(e))instanceof xc)return e._internalPath;if(typeof e=="string")return am(a,e);throw dc("Field path arguments must be of type string or ",a,!1,void 0,i)}const zw=new RegExp("[~\\*/\\[\\]]");function am(a,e,i){if(e.search(zw)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new xc(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function dc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new gt(J.INVALID_ARGUMENT,g+a+p)}function C0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(V0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Pw extends D0{data(){return super.data()}}function V0(a,e){return typeof e=="string"?am(a,e):e instanceof xc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new gt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hw{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Pr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[rc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new nm(h)}convertGeoPoint(e){return new em(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=_c(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=Ir(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Gt(Xv(s));const o=new io(s.get(1),s.get(3)),h=new pt(s.popFirst(5));return o.isEqual(i)||ki(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qw extends D0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(V0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class $u extends qw{data(e={}){return super.data(e)}}class Gw{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ju(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new $u(this._firestore,this._userDataWriter,s.key,s,new ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new $u(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ju(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new $u(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ju(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:Fw(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Fw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class Qw extends Hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,i)}}function Kw(a){a=Cs(a,Vc);const e=Cs(a.firestore,Nc),i=T0(e),s=new Qw(e);return Bw(a._query),Cw(i,a._query).then(o=>new Gw(e,s,a,o))}function V_(a,e,i,...s){a=Cs(a,xn);const o=Cs(a.firestore,Nc),h=b0(o);let d;return d=typeof(e=Nr(e))=="string"||e instanceof xc?kw(h,"updateDoc",a._key,e,i,s):Lw(h,"updateDoc",a._key,e),N0(o,[d.toMutation(a._key,ni.exists(!0))])}function Yw(a,e){const i=Cs(a.firestore,Nc),s=E0(a),o=jw(a.converter,e);return N0(i,[Uw(b0(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then(()=>s)}function N0(a,e){return function(s,o){const h=new Cr;return s.asyncQueue.enqueueAndForget(async()=>dw(await Rw(s),o,h)),h.promise}(T0(a),e)}(function(e,i=!0){(function(o){Is=o})(vb),ec(new Jl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Nc(new Mb(s.getProvider("auth-internal")),new Lb(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new gt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(y.options.projectId,T)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),vs(Oy,Uy,e),vs(Oy,Uy,"esm2017")})();var Xw="firebase",$w="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(Xw,$w,"app");const Zw={apiKey:"AIzaSyCm20xcM89i6kGpqIKGn2nllgwUbmKqGmw",authDomain:"habittracker-a2060.firebaseapp.com",projectId:"habittracker-a2060",storageBucket:"habittracker-a2060.firebasestorage.app",messagingSenderId:"69908278913",appId:"1:69908278913:web:9ebdff9cd4e3eac780e780",measurementId:"G-Y09PWQ67FC"},Ww=J_(Zw),Xf=Nw(Ww),Jw=()=>{const a=Sd(),[e,i]=G.useState([]),[s,o]=G.useState(new Date),[h,d]=G.useState(!1),[g,p]=G.useState(""),[y,T]=G.useState("5"),[C,V]=G.useState(!0);G.useEffect(()=>{(async()=>{try{const N=w_(Xf,"habits"),S=(await Kw(N)).docs.map(R=>({id:R.id,...R.data(),entries:R.data().entries||{}}));i(S),V(!1)}catch(N){console.error("Error fetching habits:",N),V(!1)}})()},[]);const O=rt=>{const N=new Date(rt),b=N.getDate()-N.getDay()+1;return Array.from({length:7},(S,R)=>{const I=new Date(N);return I.setDate(b+R),I})},k=rt=>rt.toISOString().split("T")[0],K=rt=>rt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),j=rt=>rt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Y=rt=>{const N=new Date;return N.setHours(23,59,59,999),rt>N},et=O(s),tt=rt=>{const N=Object.keys(rt).sort(),b=N.length;if(b===0)return{total:0,totalDays:1,currentStreak:0,longestStreak:0};const S=new Date(Math.min(...N.map(x=>new Date(x)))),R=new Date,I=Math.floor((R-S)/(1e3*60*60*24))+1;let L=0,D=0,Zt=0;const re=k(R),it=new Date;it.setDate(it.getDate()-1);const _t=k(it),dt=N.includes(re),zt=N.includes(_t);for(let x=0;x<N.length;x++){const W=new Date(N[x]),ct=x<N.length-1?new Date(N[x+1]):null;Zt++,ct?Math.floor((ct-W)/864e5)>1&&(D=Math.max(D,Zt),Zt=0):D=Math.max(D,Zt)}if(dt){L=1;let x=new Date(R);for(;;){x.setDate(x.getDate()-1);const W=k(x);if(N.includes(W))L++;else break}}else if(zt){L=1;let x=new Date(it);for(;;){x.setDate(x.getDate()-1);const W=k(x);if(N.includes(W))L++;else break}}return{total:b,totalDays:I,currentStreak:L,longestStreak:D}},yt=async(rt,N)=>{if(!Y(N))try{const b=E0(Xf,"habits",rt),S=e.find(L=>L.id===rt),R=k(N),I={...S.entries};if(I[R])delete I[R];else{I[R]=!0;const L=new Date,D=new Date(N);if(k(L)===k(D)){await V_(b,{entries:I}),a(`/timer?minutes=${S.minutes||5}`);return}}await V_(b,{entries:I}),i(L=>L.map(D=>D.id===rt?{...D,entries:I}:D))}catch(b){console.error("Error updating habit:",b)}},ht=async()=>{if(g.trim())try{const rt=w_(Xf,"habits"),N={name:g.trim(),minutes:parseInt(y)||5,entries:{},createdAt:new Date().toISOString()},S={id:(await Yw(rt,N)).id,...N};i(R=>[...R,S]),p(""),T("5"),d(!1)}catch(rt){console.error("Error adding habit:",rt)}};return C?st.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):st.jsxs("div",{className:"max-w-2xl mx-auto p-4 dark:bg-gray-900 dark:text-white",children:[st.jsxs("div",{className:"flex justify-between items-center mb-6",children:[st.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{const rt=new Date(s);rt.setDate(s.getDate()-7),o(rt)},children:st.jsx(zA,{className:"w-6 h-6","dark:text-white":!0})}),st.jsxs("h2",{className:"text-lg font-semibold","dark:text-white":!0,children:[K(et[0])," - ",j(et[6])]}),st.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{const rt=new Date(s);rt.setDate(s.getDate()+7),o(rt)},children:st.jsx(BA,{className:"w-6 h-6 dark:text-white"})})]}),st.jsx("div",{className:"space-y-4",children:e.map(rt=>{const N=tt(rt.entries);return st.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[st.jsxs("div",{className:"flex justify-between items-start mb-2",children:[st.jsx("h3",{className:"font-medium dark:text-white",children:rt.name}),st.jsxs("div",{className:"text-sm text-gray-500 text-right dark:text-gray-300",children:[st.jsxs("span",{className:"mr-4",children:["Total: ",N.total,"/",N.totalDays]}),st.jsxs("span",{children:["Current: ",N.currentStreak," "]}),st.jsxs("span",{children:["Record: ",N.longestStreak]})]})]}),st.jsx("div",{className:"grid grid-cols-7 gap-2",children:et.map(b=>{const S=k(b),R=rt.entries[S],I=Y(b),L=k(new Date)===S;return st.jsxs("div",{className:"flex flex-col items-center",children:[st.jsx("div",{className:"text-sm text-gray-500 mb-1 dark:text-gray-300",children:b.toLocaleDateString("en-US",{weekday:"short"})}),st.jsx("button",{onClick:()=>yt(rt.id,b),disabled:I,className:`
            p-2 rounded-full w-10 h-10 flex items-center justify-center relative
            ${R?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700"}
            ${I?"opacity-50 cursor-not-allowed":"hover:opacity-80"}
            ${L?"ring-2 ring-blue-300":""}
          `,children:b.getDate()})]},S)})})]},rt.id)})}),h?st.jsx("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:st.jsxs("div",{className:"space-y-4",children:[st.jsx("input",{type:"text",value:g,onChange:rt=>p(rt.target.value),placeholder:"New habit name",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600"}),st.jsxs("div",{className:"flex items-center space-x-2",children:[st.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300 ",children:"Minutes of practice:"}),st.jsx("input",{type:"number",value:y,onChange:rt=>T(rt.target.value),min:"1",max:"60",className:"w-20 p-2 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),st.jsxs("div",{className:"flex justify-end space-x-2",children:[st.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),st.jsx("button",{onClick:ht,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600",children:"Add"})]})]})}):st.jsxs("button",{onClick:()=>d(!0),className:"mt-4 w-full p-4 flex items-center justify-center space-x-2 bg-white rounded-lg shadow hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700",children:[st.jsx(YA,{className:"w-5 h-5 dark:text-white"}),st.jsx("span",{children:"Add New Habit"})]})]})},t2=()=>{const a=Sd(),e=kr(),i=new URLSearchParams(e.search),s=parseInt(i.get("minutes"))||25,[o,h]=G.useState(s*60),[d,g]=G.useState(o),[p,y]=G.useState(!1),[T,C]=G.useState(!1),[V,O]=G.useState(String(s)),k=G.useRef(null);G.useEffect(()=>{let S=null;return p&&d>0?S=setInterval(()=>{g(R=>R-1)},1e3):d===0&&(y(!1),k.current&&(k.current.play(),setTimeout(()=>{a("/")},2e3))),()=>clearInterval(S)},[p,d,a]);const K=()=>{if(!p&&T){const S=parseInt(V);!isNaN(S)&&S>0&&(h(S*60),g(S*60),C(!1))}y(!p)},j=()=>{y(!1),g(o),C(!1)},Y=()=>{p||C(!0)},et=S=>{const R=S.target.value;(R===""||parseInt(R)>=0&&parseInt(R)<=99)&&O(R)},tt=()=>{const S=parseInt(V);!isNaN(S)&&S>0?(h(S*60),g(S*60)):O(String(Math.floor(d/60)).padStart(2,"0")),C(!1)},yt=Math.floor(d/60),ht=d%60,rt=(o-d)/o,N=2*Math.PI*120,b=N*(1-rt);return st.jsx("div",{className:"max-w-md mx-auto p-6",children:st.jsxs("div",{className:"relative inline-block",children:[st.jsx("audio",{ref:k,children:st.jsx("source",{src:"https://cdn.freesound.org/previews/536/536108_11423254-lq.mp3",type:"audio/mpeg"})}),st.jsxs("svg",{className:"w-80 h-80 transform -rotate-90",viewBox:"0 0 256 256",children:[st.jsx("circle",{cx:"128",cy:"128",r:"120",className:"stroke-gray-200",strokeWidth:"12",fill:"none"}),st.jsx("circle",{cx:"128",cy:"128",r:"120",className:"stroke-blue-500",strokeWidth:"12",fill:"none",strokeLinecap:"round",style:{strokeDasharray:N,strokeDashoffset:b,transition:"stroke-dashoffset 0.5s ease"}})]}),st.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full",children:[st.jsxs("div",{className:"flex justify-center items-center text-6xl font-mono mb-4 space-x-1",children:[T?st.jsx("input",{type:"number",value:V,onChange:et,onBlur:tt,className:"w-24 bg-transparent text-center text-6xl font-mono focus:outline-none",autoFocus:!0}):st.jsx("span",{onClick:Y,className:p?"":"cursor-pointer",children:String(yt).padStart(2,"0")}),st.jsx("span",{children:":"}),st.jsx("span",{children:String(ht).padStart(2,"0")})]}),st.jsxs("div",{className:"flex justify-center space-x-4",children:[st.jsx("button",{onClick:K,className:"p-3 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:p?st.jsx(GA,{className:"w-6 h-6"}):st.jsx(QA,{className:"w-6 h-6"})}),st.jsx("button",{onClick:j,className:"p-3 rounded-full bg-gray-200 hover:bg-gray-300 transition-colors",children:st.jsx($A,{className:"w-6 h-6"})})]})]})]})})},e2=()=>{const[a,e]=G.useState(()=>{const s=localStorage.getItem("theme");return s==="dark"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches});G.useEffect(()=>{console.log("Current dark mode state:",a),a?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),console.log("Added dark class to html element")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),console.log("Removed dark class from html element"))},[a]);const i=()=>{e(!a)};return st.jsx("button",{onClick:i,className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700 transition-colors duration-300","aria-label":a?"Switch to Light Mode":"Switch to Dark Mode",children:a?st.jsx(WA,{className:"text-yellow-500",size:24}):st.jsx(jA,{className:"text-gray-800",size:24})})};function n2(){return st.jsx(bA,{basename:"/habittracker",children:st.jsxs("div",{className:"min-h-screen bg-gray-50",children:[st.jsx("nav",{className:"p-4 bg-white shadow",children:st.jsxs("div",{className:"max-w-2xl mx-auto flex justify-between",children:[st.jsxs("div",{className:"flex space-x-4",children:[st.jsx(Wu,{to:"/",className:"text-blue-500 hover:text-blue-600",children:"Habits"}),st.jsx(Wu,{to:"/timer",className:"text-blue-500 hover:text-blue-600",children:"Timer"})]}),st.jsx(e2,{})]})}),st.jsxs(tA,{children:[st.jsx(Zf,{path:"/",element:st.jsx(Jw,{})}),st.jsx(Zf,{path:"/timer",element:st.jsx(t2,{})})]})]})})}cT.createRoot(document.getElementById("root")).render(st.jsx(G.StrictMode,{children:st.jsx(n2,{})}));
