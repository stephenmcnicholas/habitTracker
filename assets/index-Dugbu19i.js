(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var cf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function tE(){if(Cp)return Ol;Cp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Vp;function eE(){return Vp||(Vp=1,cf.exports=tE()),cf.exports}var qt=eE(),hf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function nE(){if(Np)return At;Np=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.iterator;function B(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function X(C,Y,lt){this.props=C,this.context=Y,this.refs=tt,this.updater=lt||j}X.prototype.isReactComponent={},X.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=X.prototype;function pt(C,Y,lt){this.props=C,this.context=Y,this.refs=tt,this.updater=lt||j}var Et=pt.prototype=new St;Et.constructor=pt,$(Et,X.prototype),Et.isPureReactComponent=!0;var rt=Array.isArray,W={H:null,A:null,T:null,S:null},dt=Object.prototype.hasOwnProperty;function O(C,Y,lt,et,nt,bt){return lt=bt.ref,{$$typeof:s,type:C,key:Y,ref:lt!==void 0?lt:null,props:bt}}function S(C,Y){return O(C.type,Y,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(lt){return Y[lt]})}var V=/\/+/g;function U(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function w(){}function le(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ee(C,Y,lt,et,nt){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var Tt=!1;if(C===null)Tt=!0;else switch(bt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(C.$$typeof){case s:case e:Tt=!0;break;case R:return Tt=C._init,ee(Tt(C._payload),Y,lt,et,nt)}}if(Tt)return nt=nt(C),Tt=et===""?"."+U(C,0):et,rt(nt)?(lt="",Tt!=null&&(lt=Tt.replace(V,"$&/")+"/"),ee(nt,Y,lt,"",function(ne){return ne})):nt!=null&&(A(nt)&&(nt=S(nt,lt+(nt.key==null||C&&C.key===nt.key?"":(""+nt.key).replace(V,"$&/")+"/")+Tt)),Y.push(nt)),1;Tt=0;var he=et===""?".":et+":";if(rt(C))for(var Lt=0;Lt<C.length;Lt++)et=C[Lt],bt=he+U(et,Lt),Tt+=ee(et,Y,lt,bt,nt);else if(Lt=B(C),typeof Lt=="function")for(C=Lt.call(C),Lt=0;!(et=C.next()).done;)et=et.value,bt=he+U(et,Lt++),Tt+=ee(et,Y,lt,bt,nt);else if(bt==="object"){if(typeof C.then=="function")return ee(le(C),Y,lt,et,nt);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function Z(C,Y,lt){if(C==null)return C;var et=[],nt=0;return ee(C,et,"","",function(bt){return Y.call(lt,bt,nt++)}),et}function ht(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(lt){(C._status===0||C._status===-1)&&(C._status=1,C._result=lt)},function(lt){(C._status===0||C._status===-1)&&(C._status=2,C._result=lt)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return At.Children={map:Z,forEach:function(C,Y,lt){Z(C,function(){Y.apply(this,arguments)},lt)},count:function(C){var Y=0;return Z(C,function(){Y++}),Y},toArray:function(C){return Z(C,function(Y){return Y})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=X,At.Fragment=i,At.Profiler=u,At.PureComponent=pt,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,At.act=function(){throw Error("act(...) is not supported in production builds of React.")},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Y,lt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var et=$({},C.props),nt=C.key,bt=void 0;if(Y!=null)for(Tt in Y.ref!==void 0&&(bt=void 0),Y.key!==void 0&&(nt=""+Y.key),Y)!dt.call(Y,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Y.ref===void 0||(et[Tt]=Y[Tt]);var Tt=arguments.length-2;if(Tt===1)et.children=lt;else if(1<Tt){for(var he=Array(Tt),Lt=0;Lt<Tt;Lt++)he[Lt]=arguments[Lt+2];et.children=he}return O(C.type,nt,void 0,void 0,bt,et)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,Y,lt){var et,nt={},bt=null;if(Y!=null)for(et in Y.key!==void 0&&(bt=""+Y.key),Y)dt.call(Y,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=Y[et]);var Tt=arguments.length-2;if(Tt===1)nt.children=lt;else if(1<Tt){for(var he=Array(Tt),Lt=0;Lt<Tt;Lt++)he[Lt]=arguments[Lt+2];nt.children=he}if(C&&C.defaultProps)for(et in Tt=C.defaultProps,Tt)nt[et]===void 0&&(nt[et]=Tt[et]);return O(C,bt,void 0,void 0,null,nt)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=A,At.lazy=function(C){return{$$typeof:R,_payload:{_status:-1,_result:C},_init:ht}},At.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},At.startTransition=function(C){var Y=W.T,lt={};W.T=lt;try{var et=C(),nt=W.S;nt!==null&&nt(lt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Pt,ut)}catch(bt){ut(bt)}finally{W.T=Y}},At.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},At.use=function(C){return W.H.use(C)},At.useActionState=function(C,Y,lt){return W.H.useActionState(C,Y,lt)},At.useCallback=function(C,Y){return W.H.useCallback(C,Y)},At.useContext=function(C){return W.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Y){return W.H.useDeferredValue(C,Y)},At.useEffect=function(C,Y){return W.H.useEffect(C,Y)},At.useId=function(){return W.H.useId()},At.useImperativeHandle=function(C,Y,lt){return W.H.useImperativeHandle(C,Y,lt)},At.useInsertionEffect=function(C,Y){return W.H.useInsertionEffect(C,Y)},At.useLayoutEffect=function(C,Y){return W.H.useLayoutEffect(C,Y)},At.useMemo=function(C,Y){return W.H.useMemo(C,Y)},At.useOptimistic=function(C,Y){return W.H.useOptimistic(C,Y)},At.useReducer=function(C,Y,lt){return W.H.useReducer(C,Y,lt)},At.useRef=function(C){return W.H.useRef(C)},At.useState=function(C){return W.H.useState(C)},At.useSyncExternalStore=function(C,Y,lt){return W.H.useSyncExternalStore(C,Y,lt)},At.useTransition=function(){return W.H.useTransition()},At.version="19.0.0",At}var Op;function Kf(){return Op||(Op=1,hf.exports=nE()),hf.exports}var Vn=Kf(),ff={exports:{}},Ml={},df={exports:{}},mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function iE(){return Mp||(Mp=1,function(s){function e(Z,ht){var ut=Z.length;Z.push(ht);t:for(;0<ut;){var Pt=ut-1>>>1,C=Z[Pt];if(0<u(C,ht))Z[Pt]=ht,Z[ut]=C,ut=Pt;else break t}}function i(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var ht=Z[0],ut=Z.pop();if(ut!==ht){Z[0]=ut;t:for(var Pt=0,C=Z.length,Y=C>>>1;Pt<Y;){var lt=2*(Pt+1)-1,et=Z[lt],nt=lt+1,bt=Z[nt];if(0>u(et,ut))nt<C&&0>u(bt,et)?(Z[Pt]=bt,Z[nt]=ut,Pt=nt):(Z[Pt]=et,Z[lt]=ut,Pt=lt);else if(nt<C&&0>u(bt,ut))Z[Pt]=bt,Z[nt]=ut,Pt=nt;else break t}}return ht}function u(Z,ht){var ut=Z.sortIndex-ht.sortIndex;return ut!==0?ut:Z.id-ht.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],R=1,I=null,B=3,j=!1,$=!1,tt=!1,X=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Et(Z){for(var ht=i(v);ht!==null;){if(ht.callback===null)a(v);else if(ht.startTime<=Z)a(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function rt(Z){if(tt=!1,Et(Z),!$)if(i(_)!==null)$=!0,le();else{var ht=i(v);ht!==null&&ee(rt,ht.startTime-Z)}}var W=!1,dt=-1,O=5,S=-1;function A(){return!(s.unstable_now()-S<O)}function D(){if(W){var Z=s.unstable_now();S=Z;var ht=!0;try{t:{$=!1,tt&&(tt=!1,St(dt),dt=-1),j=!0;var ut=B;try{e:{for(Et(Z),I=i(_);I!==null&&!(I.expirationTime>Z&&A());){var Pt=I.callback;if(typeof Pt=="function"){I.callback=null,B=I.priorityLevel;var C=Pt(I.expirationTime<=Z);if(Z=s.unstable_now(),typeof C=="function"){I.callback=C,Et(Z),ht=!0;break e}I===i(_)&&a(_),Et(Z)}else a(_);I=i(_)}if(I!==null)ht=!0;else{var Y=i(v);Y!==null&&ee(rt,Y.startTime-Z),ht=!1}}break t}finally{I=null,B=ut,j=!1}ht=void 0}}finally{ht?V():W=!1}}}var V;if(typeof pt=="function")V=function(){pt(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,w=U.port2;U.port1.onmessage=D,V=function(){w.postMessage(null)}}else V=function(){X(D,0)};function le(){W||(W=!0,V())}function ee(Z,ht){dt=X(function(){Z(s.unstable_now())},ht)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Z){Z.callback=null},s.unstable_continueExecution=function(){$||j||($=!0,le())},s.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},s.unstable_getCurrentPriorityLevel=function(){return B},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(Z){switch(B){case 1:case 2:case 3:var ht=3;break;default:ht=B}var ut=B;B=ht;try{return Z()}finally{B=ut}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Z,ht){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ut=B;B=Z;try{return ht()}finally{B=ut}},s.unstable_scheduleCallback=function(Z,ht,ut){var Pt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,Z){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,Z={id:R++,callback:ht,priorityLevel:Z,startTime:ut,expirationTime:C,sortIndex:-1},ut>Pt?(Z.sortIndex=ut,e(v,Z),i(_)===null&&Z===i(v)&&(tt?(St(dt),dt=-1):tt=!0,ee(rt,ut-Pt))):(Z.sortIndex=C,e(_,Z),$||j||($=!0,le())),Z},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(Z){var ht=B;return function(){var ut=B;B=ht;try{return Z.apply(this,arguments)}finally{B=ut}}}}(mf)),mf}var Ip;function rE(){return Ip||(Ip=1,df.exports=iE()),df.exports}var gf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function aE(){if(xp)return He;xp=1;var s=Kf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,R){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:I==null?null:""+I,children:_,containerInfo:v,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,R)},He.flushSync=function(_){var v=d.T,R=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=R,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,I=g(R,v.crossOrigin),B=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:B,fetchPriority:j}):R==="script"&&a.d.X(_,{crossOrigin:I,integrity:B,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,I=g(R,v.crossOrigin);a.d.L(_,R,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Up;function sE(){if(Up)return gf.exports;Up=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gf.exports=aE(),gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function lE(){if(Lp)return Ml;Lp=1;var s=rE(),e=Kf(),i=sE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),rt=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function dt(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function S(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case R:return"Profiler";case v:return"StrictMode";case tt:return"Suspense";case X:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case St:return n=t.displayName||null,n!==null?n:S(t.type)||"Memo";case pt:n=t._payload,t=t._init;try{return S(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,V,U;function w(t){if(V===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||"",U=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+U}var le=!1;function ee(t,n){if(!t||le)return"";le=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var k=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){k=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){k=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),M=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===M.length)for(l=b.length-1,c=M.length-1;1<=l&&0<=c&&b[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==M[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{le=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function Z(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ee(t.type,!1),t;case 11:return t=ee(t.type.render,!1),t;case 1:return t=ee(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=Z(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ut(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Pt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ut(t)!==t)throw Error(a(188))}function Y(t){var n=t.alternate;if(!n){if(n=ut(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function lt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=lt(t),n!==null)return n;t=t.sibling}return null}var et=Array.isArray,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},Tt=[],he=-1;function Lt(t){return{current:t}}function ne(t){0>he||(t.current=Tt[he],Tt[he]=null,he--)}function Gt(t,n){he++,Tt[he]=t.current,t.current=n}var Fe=Lt(null),ai=Lt(null),fn=Lt(null),Ui=Lt(null);function Li(t,n){switch(Gt(fn,n),Gt(ai,t),Gt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ip(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ip(t),n=rp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(Fe),Gt(Fe,n)}function si(){ne(Fe),ne(ai),ne(fn)}function ws(t){t.memoizedState!==null&&Gt(Ui,t);var n=Fe.current,r=rp(n,t.type);n!==r&&(Gt(ai,t),Gt(Fe,r))}function ya(t){ai.current===t&&(ne(Fe),ne(ai)),Ui.current===t&&(ne(Ui),wl._currentValue=bt)}var _a=Object.prototype.hasOwnProperty,Ir=s.unstable_scheduleCallback,va=s.unstable_cancelCallback,hc=s.unstable_shouldYield,Ds=s.unstable_requestPaint,Je=s.unstable_now,Jl=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,Wl=s.unstable_LowPriority,Cs=s.unstable_IdlePriority,fc=s.log,xr=s.unstable_setDisableYieldValue,zi=null,Pe=null;function Vs(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof fc=="function"&&xr(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zi,t)}catch{}}var Ke=Math.clz32?Math.clz32:eu,Ns=Math.log,tu=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(Ns(t)/tu|0)|0}var Bn=128,Bi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=On(r):(f&=E,f!==0?l=On(f):t||(y=E&~y,y!==0&&(l=On(y))))):(E=r&~c,E!==0?l=On(E):f!==0?l=On(f):t||(y=r&~y,y!==0&&(l=On(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function ki(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ea(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Bn;return Bn<<=1,!(Bn&4194176)&&(Bn=128),t}function Pi(){var t=Bi;return Bi<<=1,!(Bi&62914560)&&(Bi=4194304),t}function Ta(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nu(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,M=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ke(r),F=1<<H;E[H]=0,b[H]=-1;var k=M[H];if(k!==null)for(M[H]=null,H=0;H<k.length;H++){var q=k[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function iu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ru(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Ap(t.type))}function ji(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var kn=Math.random().toString(36).slice(2),we="__reactFiber$"+kn,ye="__reactProps$"+kn,ui="__reactContainer$"+kn,Ur="__reactEvents$"+kn,Aa="__reactListeners$"+kn,Pn="__reactHandles$"+kn,Ms="__reactResources$"+kn,Gi="__reactMarker$"+kn;function Lr(t){delete t[we],delete t[ye],delete t[Ur],delete t[Aa],delete t[Pn]}function Mn(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ui]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=lp(t);t!==null;){if(r=t[we])return r;t=lp(t)}return n}t=r,r=t.parentNode}return null}function oi(t){if(t=t[we]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fi(t){var n=t[Ms];return n||(n=t[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(t){t[Gi]=!0}var Is=new Set,Sa={};function rn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Sa[t]=n,t=0;t<n.length;t++)Is.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},Us={};function au(t){return _a.call(Us,t)?!0:_a.call(xs,t)?!1:dc.test(t)?Us[t]=!0:(xs[t]=!0,!1)}function Ki(t,n,r){if(au(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function mn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function su(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mc(t){var n=su(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function zr(t){t._valueTracker||(t._valueTracker=mc(t))}function Ls(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=su(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function ie(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ra(t,y,Ye(n)):r!=null?Ra(t,y,Ye(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Br(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ra(t,n,r){n==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function kr(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||gc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function lu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&zs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&zs(t,f,n[f])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return yc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=oi(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ie(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(a(90));Xi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ls(l)}break t;case"textarea":kr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var ks=!1;function uu(t,n,r){if(ks)return t(n,r);ks=!0;try{var l=t(n);return l}finally{if(ks=!1,(hi!==null||fi!==null)&&(Wu(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var yn=!1;if(an)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{yn=!1}var Hn=null,$i=null,mi=null;function Ps(){if(mi)return mi;var t,n=$i,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function qs(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:qs,this.isPropagationStopped=qs,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=De(Ht),Hr=D({},Ht,{view:0,detail:0}),ou=De(Hr),Ca,Va,Qn,jr=D({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ca=t.screenX-Qn.screenX,Va=t.screenY-Qn.screenY):Va=Ca=0,Qn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),_n=De(jr),cu=D({},jr,{dataTransfer:0}),_c=De(cu),Gr=D({},Hr,{relatedTarget:0}),Na=De(Gr),Hs=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=De(Hs),hu=D({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=De(hu),vc=D({},Ht,{data:0}),js=De(vc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=du[t])?!!n[t]:!1}function Fr(){return Gs}var mu=D({},Hr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ia=De(mu),gu=D({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=De(gu),gi=D({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),pu=De(gi),yu=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=De(yu),vu=D({},jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=De(vu),Xe=D({},Ht,{newState:0,oldState:0}),Eu=De(Xe),Tu=[9,13,27,32],Fn=an&&"CompositionEvent"in window,o=null;an&&"documentMode"in document&&(o=document.documentMode);var m=an&&"TextEvent"in window&&!o,p=an&&(!Fn||o&&8<o&&11>=o),T=" ",L=!1;function P(t,n){switch(t){case"keyup":return Tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function _e(t,n){switch(t){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Fn&&P(t,n)?(t=Ps(),mi=$i=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=ro(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ie=null,Kn=null;function Fs(t){Jg(t,0)}function Au(t){var n=Qi(t);if(Ls(n))return t}function Dd(t,n){if(t==="change")return n}var Cd=!1;if(an){var Ec;if(an){var Tc="oninput"in document;if(!Tc){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),Tc=typeof Vd.oninput=="function"}Ec=Tc}else Ec=!1;Cd=Ec&&(!document.documentMode||9<document.documentMode)}function Nd(){Ie&&(Ie.detachEvent("onpropertychange",Od),Kn=Ie=null)}function Od(t){if(t.propertyName==="value"&&Au(Kn)){var n=[];pi(n,Kn,t,wa(t)),uu(Fs,n)}}function Nv(t,n,r){t==="focusin"?(Nd(),Ie=n,Kn=r,Ie.attachEvent("onpropertychange",Od)):t==="focusout"&&Nd()}function Ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Kn)}function Mv(t,n){if(t==="click")return Au(n)}function Iv(t,n){if(t==="input"||t==="change")return Au(n)}function xv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:xv;function Ks(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_a.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Id(t,n){var r=Md(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Md(r)}}function xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ud(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ba(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ba(t.document)}return n}function Ac(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Uv(t,n){var r=Ud(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&xd(n.ownerDocument.documentElement,n)){if(l!==null&&Ac(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Id(n,f);var y=Id(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Lv=an&&"documentMode"in document&&11>=document.documentMode,Ua=null,Sc=null,Ys=null,bc=!1;function Ld(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bc||Ua==null||Ua!==ba(l)||(l=Ua,"selectionStart"in l&&Ac(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Ks(Ys,l)||(Ys=l,l=ro(Sc,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ua)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Rc={},zd={};an&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Yr(t){if(Rc[t])return Rc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zd)return Rc[t]=n[r];return t}var Bd=Yr("animationend"),kd=Yr("animationiteration"),Pd=Yr("animationstart"),zv=Yr("transitionrun"),Bv=Yr("transitionstart"),kv=Yr("transitioncancel"),qd=Yr("transitionend"),Hd=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function In(t,n){Hd.set(t,n),rn(n,[t])}var vn=[],za=0,wc=0;function Su(){for(var t=za,n=wc=za=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Gd(r,c,f)}}function bu(t,n,r,l){vn[za++]=t,vn[za++]=n,vn[za++]=r,vn[za++]=l,wc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dc(t,n,r,l){return bu(t,n,r,l),Ru(t)}function Ji(t,n){return bu(t,null,null,n),Ru(t)}function Gd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ke(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Ru(t){if(50<vl)throw vl=0,Ih=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={},Qd=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=Qd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ht(n)},Qd.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var ka=[],Pa=0,wu=null,Du=0,Tn=[],An=0,Xr=null,yi=1,_i="";function Zr(t,n){ka[Pa++]=Du,ka[Pa++]=wu,wu=t,Du=n}function Fd(t,n,r){Tn[An++]=yi,Tn[An++]=_i,Tn[An++]=Xr,Xr=t;var l=yi;t=_i;var c=32-Ke(l)-1;l&=~(1<<c),r+=1;var f=32-Ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Ke(n)+c|r<<c|l,_i=f+t}else yi=1<<f|r<<c|l,_i=t}function Cc(t){t.return!==null&&(Zr(t,1),Fd(t,1,0))}function Vc(t){for(;t===wu;)wu=ka[--Pa],ka[Pa]=null,Du=ka[--Pa],ka[Pa]=null;for(;t===Xr;)Xr=Tn[--An],Tn[An]=null,_i=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null}var Ze=null,xe=null,Bt=!1,xn=null,Yn=!1,Nc=Error(a(519));function $r(t){var n=Error(a(418,""));throw $s(En(n,t)),Nc}function Kd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Vt(Tl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Zi(n,l.value,l.defaultValue,l.children),zr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||np(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=ao),n=!0):n=!1,n||$r(t)}function Yd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Yn=!0;return;case 5:case 13:Yn=!1;return;default:Ze=Ze.return}}function Xs(t){if(t!==Ze)return!1;if(!Bt)return Yd(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&xe&&$r(t),Yd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){xe=Ln(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}xe=null}}else xe=Ze?Ln(t.stateNode.nextSibling):null;return!0}function Zs(){xe=Ze=null,Bt=!1}function $s(t){xn===null?xn=[t]:xn.push(t)}var Js=Error(a(460)),Xd=Error(a(474)),Oc={then:function(){}};function Zd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function $d(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Cu,Cu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Cu,Cu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t}throw Ws=n,Js}}var Ws=null;function Jd(){if(Ws===null)throw Error(a(459));var t=Ws;return Ws=null,t}var qa=null,tl=0;function Vu(t){var n=tl;return tl+=1,qa===null&&(qa=[]),$d(qa,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wd(t){var n=t._init;return n(t._payload)}function tm(t){function n(x,N){if(t){var z=x.deletions;z===null?(x.deletions=[N],x.flags|=16):z.push(N)}}function r(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function c(x,N){return x=cr(x,N),x.index=0,x.sibling=null,x}function f(x,N,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<N?(x.flags|=33554434,N):z):(x.flags|=33554434,N)):(x.flags|=1048576,N)}function y(x){return t&&x.alternate===null&&(x.flags|=33554434),x}function E(x,N,z,G){return N===null||N.tag!==6?(N=Rh(z,x.mode,G),N.return=x,N):(N=c(N,z),N.return=x,N)}function b(x,N,z,G){var at=z.type;return at===_?H(x,N,z.props.children,G,z.key):N!==null&&(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===pt&&Wd(at)===N.type)?(N=c(N,z.props),el(N,z),N.return=x,N):(N=Yu(z.type,z.key,z.props,null,x.mode,G),el(N,z),N.return=x,N)}function M(x,N,z,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=wh(z,x.mode,G),N.return=x,N):(N=c(N,z.children||[]),N.return=x,N)}function H(x,N,z,G,at){return N===null||N.tag!==7?(N=la(z,x.mode,G,at),N.return=x,N):(N=c(N,z),N.return=x,N)}function F(x,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Rh(""+N,x.mode,z),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return z=Yu(N.type,N.key,N.props,null,x.mode,z),el(z,N),z.return=x,z;case g:return N=wh(N,x.mode,z),N.return=x,N;case pt:var G=N._init;return N=G(N._payload),F(x,N,z)}if(et(N)||dt(N))return N=la(N,x.mode,z,null),N.return=x,N;if(typeof N.then=="function")return F(x,Vu(N),z);if(N.$$typeof===j)return F(x,Qu(x,N),z);Nu(x,N)}return null}function k(x,N,z,G){var at=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(x,N,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===at?b(x,N,z,G):null;case g:return z.key===at?M(x,N,z,G):null;case pt:return at=z._init,z=at(z._payload),k(x,N,z,G)}if(et(z)||dt(z))return at!==null?null:H(x,N,z,G,null);if(typeof z.then=="function")return k(x,N,Vu(z),G);if(z.$$typeof===j)return k(x,N,Qu(x,z),G);Nu(x,z)}return null}function q(x,N,z,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(z)||null,E(N,x,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return x=x.get(G.key===null?z:G.key)||null,b(N,x,G,at);case g:return x=x.get(G.key===null?z:G.key)||null,M(N,x,G,at);case pt:var wt=G._init;return G=wt(G._payload),q(x,N,z,G,at)}if(et(G)||dt(G))return x=x.get(z)||null,H(N,x,G,at,null);if(typeof G.then=="function")return q(x,N,z,Vu(G),at);if(G.$$typeof===j)return q(x,N,z,Qu(N,G),at);Nu(N,G)}return null}function st(x,N,z,G){for(var at=null,wt=null,ot=N,mt=N=0,Oe=null;ot!==null&&mt<z.length;mt++){ot.index>mt?(Oe=ot,ot=null):Oe=ot.sibling;var kt=k(x,ot,z[mt],G);if(kt===null){ot===null&&(ot=Oe);break}t&&ot&&kt.alternate===null&&n(x,ot),N=f(kt,N,mt),wt===null?at=kt:wt.sibling=kt,wt=kt,ot=Oe}if(mt===z.length)return r(x,ot),Bt&&Zr(x,mt),at;if(ot===null){for(;mt<z.length;mt++)ot=F(x,z[mt],G),ot!==null&&(N=f(ot,N,mt),wt===null?at=ot:wt.sibling=ot,wt=ot);return Bt&&Zr(x,mt),at}for(ot=l(ot);mt<z.length;mt++)Oe=q(ot,x,mt,z[mt],G),Oe!==null&&(t&&Oe.alternate!==null&&ot.delete(Oe.key===null?mt:Oe.key),N=f(Oe,N,mt),wt===null?at=Oe:wt.sibling=Oe,wt=Oe);return t&&ot.forEach(function(yr){return n(x,yr)}),Bt&&Zr(x,mt),at}function _t(x,N,z,G){if(z==null)throw Error(a(151));for(var at=null,wt=null,ot=N,mt=N=0,Oe=null,kt=z.next();ot!==null&&!kt.done;mt++,kt=z.next()){ot.index>mt?(Oe=ot,ot=null):Oe=ot.sibling;var yr=k(x,ot,kt.value,G);if(yr===null){ot===null&&(ot=Oe);break}t&&ot&&yr.alternate===null&&n(x,ot),N=f(yr,N,mt),wt===null?at=yr:wt.sibling=yr,wt=yr,ot=Oe}if(kt.done)return r(x,ot),Bt&&Zr(x,mt),at;if(ot===null){for(;!kt.done;mt++,kt=z.next())kt=F(x,kt.value,G),kt!==null&&(N=f(kt,N,mt),wt===null?at=kt:wt.sibling=kt,wt=kt);return Bt&&Zr(x,mt),at}for(ot=l(ot);!kt.done;mt++,kt=z.next())kt=q(ot,x,mt,kt.value,G),kt!==null&&(t&&kt.alternate!==null&&ot.delete(kt.key===null?mt:kt.key),N=f(kt,N,mt),wt===null?at=kt:wt.sibling=kt,wt=kt);return t&&ot.forEach(function(W0){return n(x,W0)}),Bt&&Zr(x,mt),at}function se(x,N,z,G){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var at=z.key;N!==null;){if(N.key===at){if(at=z.type,at===_){if(N.tag===7){r(x,N.sibling),G=c(N,z.props.children),G.return=x,x=G;break t}}else if(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===pt&&Wd(at)===N.type){r(x,N.sibling),G=c(N,z.props),el(G,z),G.return=x,x=G;break t}r(x,N);break}else n(x,N);N=N.sibling}z.type===_?(G=la(z.props.children,x.mode,G,z.key),G.return=x,x=G):(G=Yu(z.type,z.key,z.props,null,x.mode,G),el(G,z),G.return=x,x=G)}return y(x);case g:t:{for(at=z.key;N!==null;){if(N.key===at)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){r(x,N.sibling),G=c(N,z.children||[]),G.return=x,x=G;break t}else{r(x,N);break}else n(x,N);N=N.sibling}G=wh(z,x.mode,G),G.return=x,x=G}return y(x);case pt:return at=z._init,z=at(z._payload),se(x,N,z,G)}if(et(z))return st(x,N,z,G);if(dt(z)){if(at=dt(z),typeof at!="function")throw Error(a(150));return z=at.call(z),_t(x,N,z,G)}if(typeof z.then=="function")return se(x,N,Vu(z),G);if(z.$$typeof===j)return se(x,N,Qu(x,z),G);Nu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(r(x,N.sibling),G=c(N,z),G.return=x,x=G):(r(x,N),G=Rh(z,x.mode,G),G.return=x,x=G),y(x)):r(x,N)}return function(x,N,z,G){try{tl=0;var at=se(x,N,z,G);return qa=null,at}catch(ot){if(ot===Js)throw ot;var wt=wn(29,ot,null,x.mode);return wt.lanes=G,wt.return=x,wt}finally{}}}var Jr=tm(!0),em=tm(!1),Ha=Lt(null),Ou=Lt(0);function nm(t,n){t=Vi,Gt(Ou,t),Gt(Ha,n),Vi=t|n.baseLanes}function Mc(){Gt(Ou,Vi),Gt(Ha,Ha.current)}function Ic(){Vi=Ou.current,ne(Ha),ne(Ou)}var Sn=Lt(null),Xn=null;function Wi(t){var n=t.alternate;Gt(Ee,Ee.current&1),Gt(Sn,t),Xn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Xn=t)}function im(t){if(t.tag===22){if(Gt(Ee,Ee.current),Gt(Sn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else tr()}function tr(){Gt(Ee,Ee.current),Gt(Sn,Sn.current)}function vi(t){ne(Sn),Xn===t&&(Xn=null),ne(Ee)}var Ee=Lt(0);function Mu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},qv=s.unstable_scheduleCallback,Hv=s.unstable_NormalPriority,Te={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xc(){return{controller:new Pv,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&qv(Hv,function(){t.controller.abort()})}var il=null,Uc=0,ja=0,Ga=null;function jv(t,n){if(il===null){var r=il=[];Uc=0,ja=qh(),Ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Uc++,n.then(rm,rm),n}function rm(){if(--Uc===0&&il!==null){Ga!==null&&(Ga.status="fulfilled");var t=il;il=null,ja=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Gv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var am=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&jv(t,n),am!==null&&am(t,n)};var Wr=Lt(null);function Lc(){var t=Wr.current;return t!==null?t:Yt.pooledCache}function Iu(t,n){n===null?Gt(Wr,Wr.current):Gt(Wr,n.pool)}function sm(){var t=Lc();return t===null?null:{parent:Te._currentValue,pool:t}}var er=0,Rt=null,Qt=null,fe=null,xu=!1,Qa=!1,ta=!1,Uu=0,rl=0,Fa=null,Qv=0;function oe(){throw Error(a(321))}function zc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function Bc(t,n,r,l,c,f){return er=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?ea:nr,ta=!1,f=r(l,c),ta=!1,Qa&&(f=um(n,r,l,c)),lm(t),f}function lm(t){A.H=Zn;var n=Qt!==null&&Qt.next!==null;if(er=0,fe=Qt=Rt=null,xu=!1,rl=0,Fa=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Gu(t)&&(Ve=!0))}function um(t,n,r,l){Rt=t;var c=0;do{if(Qa&&(Fa=null),rl=0,Qa=!1,25<=c)throw Error(a(301));if(c+=1,fe=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=na,f=n(r,l)}while(Qa);return f}function Fv(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function kc(){var t=Uu!==0;return Uu=0,t}function Pc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function qc(t){if(xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xu=!1}er=0,fe=Qt=Rt=null,Qa=!1,rl=Uu=0,Fa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Rt.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(Qt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=fe===null?Rt.memoizedState:fe.next;if(n!==null)fe=n,Qt=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?Rt.memoizedState=fe=t:fe=fe.next=t}return fe}var Lu;Lu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=rl;return rl+=1,Fa===null&&(Fa=[]),t=$d(Fa,t,n),n=Rt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ea:nr),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===j)return qe(t)}throw Error(a(438,String(t)))}function Hc(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=rt;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=de();return jc(n,Qt,t)}function jc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,M=n,H=!1;do{var F=M.lane&-536870913;if(F!==M.lane?(It&F)===F:(er&F)===F){var k=M.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),F===ja&&(H=!0);else if((er&k)===k){M=M.next,k===ja&&(H=!0);continue}else F={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,Rt.lanes|=k,hr|=k;F=M.action,ta&&r(f,F),f=M.hasEagerState?M.eagerState:r(f,F)}else k={lane:F,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,Rt.lanes|=F,hr|=F;M=M.next}while(M!==null&&M!==n);if(b===null?y=f:b.next=E,!sn(f,t.memoizedState)&&(Ve=!0,H&&(r=Ga,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gc(t){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function om(t,n,r){var l=Rt,c=de(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Qt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,Kc(fm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,Ka(9,hm.bind(null,l,c,r,n),{destroy:void 0},null),Yt===null)throw Error(a(349));f||er&60||cm(l,n,r)}return r}function cm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Lu(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hm(t,n,r,l){n.value=r,n.getSnapshot=l,dm(n)&&mm(t)}function fm(t,n,r){return r(function(){dm(n)&&mm(t)})}function dm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function mm(t){var n=Ji(t,2);n!==null&&$e(n,t,2)}function Qc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),ta){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function gm(t,n,r,l){return t.baseState=r,jc(t,Qt,typeof l=="function"?l:Ei)}function Kv(t,n,r,l,c){if(qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,pm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,l),b=A.S;b!==null&&b(y,E),ym(t,n,E)}catch(M){Fc(t,n,M)}finally{A.T=f}}else try{f=r(c,l),ym(t,n,f)}catch(M){Fc(t,n,M)}}function ym(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_m(t,n,l)},function(l){return Fc(t,n,l)}):_m(t,n,r)}function _m(t,n,r){n.status="fulfilled",n.value=r,vm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pm(t,r)))}function Fc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,vm(n),n=n.next;while(n!==l)}t.action=null}function vm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Em(t,n){return n}function Tm(t,n){if(Bt){var r=Yt.formState;if(r!==null){t:{var l=Rt;if(Bt){if(xe){e:{for(var c=xe,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){xe=Ln(c.nextSibling),l=c.data==="F!";break t}}$r(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Em,lastRenderedState:n},r.queue=l,r=km.bind(null,Rt,l),l.dispatch=r,l=Qc(!1),f=Jc.bind(null,Rt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Kv.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Am(t){var n=de();return Sm(n,Qt,t)}function Sm(t,n,r){n=jc(t,n,Em)[0],t=Bu(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=de(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Rt.flags|=2048,Ka(9,Yv.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function Yv(t,n){t.action=n}function bm(t){var n=de(),r=Qt;if(r!==null)return Sm(n,r,t);de(),n=n.memoizedState,r=de();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=Lu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Rm(){return de().memoizedState}function ku(t,n,r,l){var c=tn();Rt.flags|=t,c.memoizedState=Ka(1|n,r,{destroy:void 0},l===void 0?null:l)}function Pu(t,n,r,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&zc(l,Qt.memoizedState.deps)?c.memoizedState=Ka(n,r,f,l):(Rt.flags|=t,c.memoizedState=Ka(1|n,r,f,l))}function wm(t,n){ku(8390656,8,t,n)}function Kc(t,n){Pu(2048,8,t,n)}function Dm(t,n){return Pu(4,2,t,n)}function Cm(t,n){return Pu(4,4,t,n)}function Vm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Nm(t,n,r){r=r!=null?r.concat([t]):null,Pu(4,4,Vm.bind(null,n,t),r)}function Yc(){}function Om(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&zc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Mm(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&zc(n,l[1]))return l[0];if(l=t(),ta){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function Xc(t,n,r){return r===void 0||er&1073741824?t.memoizedState=n:(t.memoizedState=r,t=xg(),Rt.lanes|=t,hr|=t,r)}function Im(t,n,r,l){return sn(r,n)?r:Ha.current!==null?(t=Xc(t,r,l),sn(t,n)||(Ve=!0),t):er&42?(t=xg(),Rt.lanes|=t,hr|=t,n):(Ve=!0,t.memoizedState=r)}function xm(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,Jc(t,!1,n,r);try{var b=c(),M=A.S;if(M!==null&&M(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=Gv(b,l);sl(t,n,H,cn(t))}else sl(t,n,l,cn(t))}catch(F){sl(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{nt.p=f,A.T=y}}function Xv(){}function Zc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Um(t).queue;xm(t,c,n,bt,r===null?Xv:function(){return Lm(t),r(l)})}function Um(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:bt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lm(t){var n=Um(t).next.queue;sl(t,n,{},cn())}function $c(){return qe(wl)}function zm(){return de().memoizedState}function Bm(){return de().memoizedState}function Zv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=ar(r);var l=sr(n,t,r);l!==null&&($e(l,n,r),ol(l,n,r)),n={cache:xc()},t.payload=n;return}n=n.return}}function $v(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?Pm(n,r):(r=Dc(t,n,r,l),r!==null&&($e(r,t,l),qm(r,n,l)))}function km(t,n,r){var l=cn();sl(t,n,r,l)}function sl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Pm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return bu(t,n,c,0),Yt===null&&Su(),!1}catch{}finally{}if(r=Dc(t,n,c,l),r!==null)return $e(r,t,l),qm(r,n,l),!0}return!1}function Jc(t,n,r,l){if(l={lane:2,revertLane:qh(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(n)throw Error(a(479))}else n=Dc(t,r,l,2),n!==null&&$e(n,t,2)}function qu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Pm(t,n){Qa=xu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qm(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var Zn={readContext:qe,use:zu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe};Zn.useCacheRefresh=oe,Zn.useMemoCache=oe,Zn.useHostTransitionStatus=oe,Zn.useFormState=oe,Zn.useActionState=oe,Zn.useOptimistic=oe;var ea={readContext:qe,use:zu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:wm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ku(4194308,4,Vm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(ta){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(ta){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=$v.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Qc(t);var n=t.queue,r=km.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Yc,useDeferredValue:function(t,n){var r=tn();return Xc(r,t,n)},useTransition:function(){var t=Qc(!1);return t=xm.bind(null,Rt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=tn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));It&60||cm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,wm(fm.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,hm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Yt.identifierPrefix;if(Bt){var r=_i,l=yi;r=(l&~(1<<32-Ke(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Qv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=Zv.bind(null,Rt)}};ea.useMemoCache=Hc,ea.useHostTransitionStatus=$c,ea.useFormState=Tm,ea.useActionState=Tm,ea.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Jc.bind(null,Rt,!0,r),r.dispatch=n,[t,n]};var nr={readContext:qe,use:zu,useCallback:Om,useContext:qe,useEffect:Kc,useImperativeHandle:Nm,useInsertionEffect:Dm,useLayoutEffect:Cm,useMemo:Mm,useReducer:Bu,useRef:Rm,useState:function(){return Bu(Ei)},useDebugValue:Yc,useDeferredValue:function(t,n){var r=de();return Im(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Bu(Ei)[0],n=de().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:om,useId:zm};nr.useCacheRefresh=Bm,nr.useMemoCache=Hc,nr.useHostTransitionStatus=$c,nr.useFormState=Am,nr.useActionState=Am,nr.useOptimistic=function(t,n){var r=de();return gm(r,Qt,t,n)};var na={readContext:qe,use:zu,useCallback:Om,useContext:qe,useEffect:Kc,useImperativeHandle:Nm,useInsertionEffect:Dm,useLayoutEffect:Cm,useMemo:Mm,useReducer:Gc,useRef:Rm,useState:function(){return Gc(Ei)},useDebugValue:Yc,useDeferredValue:function(t,n){var r=de();return Qt===null?Xc(r,t,n):Im(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Gc(Ei)[0],n=de().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:om,useId:zm};na.useCacheRefresh=Bm,na.useMemoCache=Hc,na.useHostTransitionStatus=$c,na.useFormState=bm,na.useActionState=bm,na.useOptimistic=function(t,n){var r=de();return Qt!==null?gm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Wc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var th={isMounted:function(t){return(t=t._reactInternals)?ut(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ar(l);c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ar(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=ar(r);l.tag=2,n!=null&&(l.callback=n),n=sr(t,l,r),n!==null&&($e(n,t,r),ol(n,t,r))}};function Hm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ks(r,l)||!Ks(c,f):!0}function jm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&th.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gm(t){Hu(t)}function Qm(t){console.error(t)}function Fm(t){Hu(t)}function ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Km(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function eh(t,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(t,n)},r}function Ym(t){return t=ar(t),t.tag=3,t}function Xm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Km(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Km(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Jv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ul(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Xn===null?Lh():r.alternate===null&&ae===0&&(ae=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Oc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Bh(t,l,c)),!1;case 22:return r.flags|=65536,l===Oc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Bh(t,l,c)),!1}throw Error(a(435,r.tag))}return Bh(t,l,c),Lh(),!1}if(Bt)return n=Sn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Nc&&(t=Error(a(422),{cause:l}),$s(En(t,r)))):(l!==Nc&&(n=Error(a(423),{cause:l}),$s(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=eh(t.stateNode,l,c),ph(t,c),ae!==4&&(ae=2)),!1;var f=Error(a(520),{cause:l});if(f=En(f,r),yl===null?yl=[f]:yl.push(f),ae!==4&&(ae=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=eh(r.stateNode,l,t),ph(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ym(c),Xm(c,t,r,l),ph(r,c),!1}r=r.return}while(r!==null);return!1}var Zm=Error(a(461)),Ve=!1;function Ue(t,n,r,l){n.child=t===null?em(n,null,r,l):Jr(n,t.child,r,l)}function $m(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return aa(n),l=Bc(t,n,r,y,f,c),E=kc(),t!==null&&!Ve?(Pc(t,n,c),Ti(t,n,c)):(Bt&&E&&Cc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Jm(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Wm(t,n,f,l,c)):(t=Yu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ch(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ks,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=cr(f,l),t.ref=n.ref,t.return=n,n.child=t}function Wm(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ks(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,ch(t,c))t.flags&131072&&(Ve=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return nh(t,n,r,l,c)}function tg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ll(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return eg(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,y!==null?y.cachePool:null),y!==null?nm(n,y):Mc(),im(n);else return n.lanes=n.childLanes=536870912,eg(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(Iu(n,y.cachePool),nm(n,y),tr(),n.memoizedState=null):(t!==null&&Iu(n,null),Mc(),tr());return Ue(t,n,c,r),n.child}function eg(t,n,r,l){var c=Lc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Iu(n,null),Mc(),im(n),t!==null&&ul(t,n,l,!0),null}function ll(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function nh(t,n,r,l,c){return aa(n),r=Bc(t,n,r,l,void 0,c),l=kc(),t!==null&&!Ve?(Pc(t,n,c),Ti(t,n,c)):(Bt&&l&&Cc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function ng(t,n,r,l,c,f){return aa(n),n.updateQueue=null,r=um(n,l,r,c),lm(t),l=kc(),t!==null&&!Ve?(Pc(t,n,f),Ti(t,n,f)):(Bt&&l&&Cc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function ig(t,n,r,l,c){if(aa(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=th,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},mh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Wc(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&th.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ia(r,E);f.props=b;var M=f.context,H=r.contextType;y=Ba,typeof H=="object"&&H!==null&&(y=qe(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||M!==y)&&jm(n,f,l,y),rr=!1;var k=n.memoizedState;f.state=k,hl(n,l,f,c),cl(),M=n.memoizedState,E||k!==M||rr?(typeof F=="function"&&(Wc(n,r,F,l),M=n.memoizedState),(b=rr||Hm(n,r,b,l,k,M,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,gh(t,n),y=n.memoizedProps,H=ia(r,y),f.props=H,F=n.pendingProps,k=f.context,M=r.contextType,b=Ba,typeof M=="object"&&M!==null&&(b=qe(M)),E=r.getDerivedStateFromProps,(M=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||k!==b)&&jm(n,f,l,b),rr=!1,k=n.memoizedState,f.state=k,hl(n,l,f,c),cl();var q=n.memoizedState;y!==F||k!==q||rr||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof E=="function"&&(Wc(n,r,E,l),q=n.memoizedState),(H=rr||Hm(n,r,H,l,k,q,b)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ll(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function rg(t,n,r,l){return Zs(),n.flags|=256,Ue(t,n,r,l),n.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function rh(t){return{baseLanes:t,cachePool:sm()}}function ah(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Dn),t}function ag(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Wi(n):tr(),Bt){var E=xe,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:yi,overflow:_i}:null,retryLane:536870912},b=wn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,xe=null,b=!0):b=!1}b||$r(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=lh({mode:"hidden",children:E},c),l=la(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=rh(r),c.childLanes=ah(t,y,r),n.memoizedState=ih,l):(Wi(n),sh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=uh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=lh({mode:"visible",children:l.children},E),c=la(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,r),l=n.child,l.memoizedState=rh(r),l.childLanes=ah(t,y,r),n.memoizedState=ih,n=c);else if(Wi(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(a(419)),l.stack="",l.digest=y,$s({value:l,source:null,stack:null}),n=uh(t,n,r)}else if(Ve||ul(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Yt,y!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|r)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Ji(t,l),$e(y,t,l),Zm}E.data==="$?"||Lh(),n=uh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=d0.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,xe=Ln(E.nextSibling),Ze=n,Bt=!0,xn=null,Yn=!1,t!==null&&(Tn[An++]=yi,Tn[An++]=_i,Tn[An++]=Xr,yi=t.id,_i=t.overflow,Xr=n),n=sh(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,b=t.child,M=b.sibling,l=cr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,M!==null?c=cr(M,c):(c=la(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=rh(r):(b=E.cachePool,b!==null?(M=Te._currentValue,b=b.parent!==M?{parent:M,pool:M}:b):b=sm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=ah(t,y,r),n.memoizedState=ih,l):(Wi(n),r=t.child,t=r.sibling,r=cr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function sh(t,n){return n=lh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lh(t,n){return Og(t,n,0,null)}function uh(t,n,r){return Jr(n,t.child,null,r),t=sh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),fh(t.return,n,r)}function oh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function lg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Ee.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sg(t,r,n);else if(t.tag===19)sg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Mu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),oh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Mu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}oh(n,!0,r,null,f);break;case"together":oh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,!(r&n.childLanes))if(t!==null){if(ul(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function ch(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function Wv(t,n,r){switch(n.tag){case 3:Li(n,n.stateNode.containerInfo),ir(n,Te,t.memoizedState.cache),Zs();break;case 27:case 5:ws(n);break;case 4:Li(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):r&n.child.childLanes?ag(t,n,r):(Wi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ul(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return lg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Gt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,tg(t,n,r);case 24:ir(n,Te,t.memoizedState.cache)}return Ti(t,n,r)}function ug(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!ch(t,r)&&!(n.flags&128))return Ve=!1,Wv(t,n,r);Ve=!!(t.flags&131072)}else Ve=!1,Bt&&n.flags&1048576&&Fd(n,Du,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")bh(l)?(t=ia(l,t),n.tag=1,n=ig(null,n,l,t,r)):(n.tag=0,n=nh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===$){n.tag=11,n=$m(null,n,l,t,r);break t}else if(c===St){n.tag=14,n=Jm(null,n,l,t,r);break t}}throw n=S(l)||l,Error(a(306,n,""))}}return n;case 0:return nh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ia(l,n.pendingProps),ig(t,n,l,c,r);case 3:t:{if(Li(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,gh(t,n),hl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,ir(n,Te,f),f!==c.cache&&dh(n,[Te],r,!0),cl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=rg(t,n,f,r);break t}else if(f!==l){l=En(Error(a(424)),n),$s(l),n=rg(t,n,f,r);break t}else for(xe=Ln(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,xn=null,Yn=!0,r=em(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zs(),f===l){n=Ti(t,n,r);break t}Ue(t,n,f,r)}n=n.child}return n;case 26:return ll(t,n),t===null?(r=hp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=so(fn.current).createElement(r),l[we]=n,l[ye]=t,Le(l,r,t),$t(l),n.stateNode=l):n.memoizedState=hp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ws(n),t===null&&Bt&&(l=n.stateNode=up(n.type,n.pendingProps,fn.current),Ze=n,Yn=!0,xe=Ln(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?Ue(t,n,l,r):n.child=Jr(n,null,l,r),ll(t,n),n.child;case 5:return t===null&&Bt&&((c=l=xe)&&(l=V0(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,xe=Ln(l.firstChild),Yn=!1,c=!0):c=!1),c||$r(n)),ws(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Zh(c,f)?l=null:y!==null&&Zh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Bc(t,n,Fv,null,null,r),wl._currentValue=c),ll(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=xe)&&(r=N0(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,xe=null,t=!0):t=!1),t||$r(n)),null;case 13:return ag(t,n,r);case 4:return Li(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return $m(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,aa(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return Jm(t,n,n.type,n.pendingProps,r);case 15:return Wm(t,n,n.type,n.pendingProps,r);case 19:return lg(t,n,r);case 22:return tg(t,n,r);case 24:return aa(n),l=qe(Te),t===null?(c=Lc(),c===null&&(c=Yt,f=xc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},mh(n),ir(n,Te,c)):(t.lanes&r&&(gh(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ir(n,Te,l)):(l=f.cache,ir(n,Te,l),l!==c.cache&&dh(n,[Te],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var hh=Lt(null),ra=null,Ai=null;function ir(t,n,r){Gt(hh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=hh.current,ne(hh)}function fh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function dh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),fh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),fh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ul(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ui.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}c=c.return}t!==null&&dh(n,t,r,l),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){ra=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return og(ra,t)}function Qu(t,n){return ra===null&&aa(t),og(t,n)}function og(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var rr=!1;function mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Wt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ru(t),Gd(t,null,r),n}return bu(t,l,n,r),Ru(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function ph(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var yh=!1;function cl(){if(yh){var t=Ga;if(t!==null)throw t}}function hl(t,n,r,l){yh=!1;var c=t.updateQueue;rr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,M=b.next;b.next=null,y===null?f=M:y.next=M,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=M:E.next=M,H.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,H=M=b=null,E=f;do{var k=E.lane&-536870913,q=k!==E.lane;if(q?(It&k)===k:(l&k)===k){k!==0&&k===ja&&(yh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,_t=E;k=n;var se=r;switch(_t.tag){case 1:if(st=_t.payload,typeof st=="function"){F=st.call(se,F,k);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=_t.payload,k=typeof st=="function"?st.call(se,F,k):st,k==null)break t;F=D({},F,k);break t;case 2:rr=!0}}k=E.callback,k!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(M=H=q,b=F):H=H.next=q,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=F),c.baseState=b,c.firstBaseUpdate=M,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),hr|=y,t.lanes=y,t.memoizedState=F}}function cg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cg(r[t],n)}function fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(M){Kt(c,b,M)}}}l=l.next}while(l!==f)}}catch(M){Kt(n,n.return,M)}}function fg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hg(n,r)}catch(l){Kt(t,t.return,l)}}}function dg(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function sa(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Kt(t,n,f)}}function ln(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function mg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function gg(t,n,r){try{var l=t.stateNode;b0(l,t.type,r,n),l[ye]=n}catch(c){Kt(t,t.return,c)}}function pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function _h(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ao));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(vh(t,n,r),t=t.sibling;t!==null;)vh(t,n,r),t=t.sibling}function Fu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fu(t,n,r),t=t.sibling;t!==null;)Fu(t,n,r),t=t.sibling}var bi=!1,re=!1,Eh=!1,yg=typeof WeakSet=="function"?WeakSet:Set,Ne=null,_g=!1;function t0(t,n){if(t=t.containerInfo,Yh=fo,t=Ud(t),Ac(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,M=0,H=0,F=t,k=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)k=F,F=q;for(;;){if(F===t)break e;if(k===r&&++M===c&&(E=y),k===f&&++H===l&&(b=y),(q=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xh={focusedElem:t,selectionRange:r},fo=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var st=ia(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Kt(r,r.return,_t)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Wh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}return st=_g,_g=!1,st}function vg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r),l&4&&fl(5,r);break;case 1:if(wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Kt(r,r.return,E)}else{var c=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Kt(r,r.return,E)}}l&64&&fg(r),l&512&&sa(r,r.return);break;case 3:if(wi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{hg(l,t)}catch(E){Kt(r,r.return,E)}}break;case 26:wi(t,r),l&512&&sa(r,r.return);break;case 27:case 5:wi(t,r),n===null&&l&4&&mg(r),l&512&&sa(r,r.return);break;case 12:wi(t,r);break;case 13:wi(t,r),l&4&&Ag(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||re;var f=bi,y=re;bi=c,(re=n)&&!y?ur(t,r,(r.subtreeFlags&8772)!==0):wi(t,r),bi=f,re=y}l&512&&(r.memoizedProps.mode==="manual"?sa(r,r.return):ln(r,r.return));break;default:wi(t,r)}}function Eg(t){var n=t.alternate;n!==null&&(t.alternate=null,Eg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Lr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,un=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Tg(t,n,r),r=r.sibling}function Tg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:re||ln(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:re||ln(r,n);var l=me,c=un;for(me=r.stateNode,Ri(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Lr(r),me=l,un=c;break;case 5:re||ln(r,n);case 6:c=me;var f=un;if(me=null,Ri(t,n,r),me=c,un=f,me!==null)if(un)try{t=me,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Kt(r,n,y)}else try{me.removeChild(r.stateNode)}catch(y){Kt(r,n,y)}break;case 18:me!==null&&(un?(n=me,r=r.stateNode,n.nodeType===8?Jh(n.parentNode,r):n.nodeType===1&&Jh(n,r),Nl(n)):Jh(me,r.stateNode));break;case 4:l=me,c=un,me=r.stateNode.containerInfo,un=!0,Ri(t,n,r),me=l,un=c;break;case 0:case 11:case 14:case 15:re||lr(2,r,n),re||lr(4,r,n),Ri(t,n,r);break;case 1:re||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&dg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:re||ln(r,n),re=(l=re)||r.memoizedState!==null,Ri(t,n,r),re=l;break;default:Ri(t,n,r)}}function Ag(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(r){Kt(n,n.return,r)}}function e0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yg),n;default:throw Error(a(435,t.tag))}}function Th(t,n){var r=e0(t);n.forEach(function(l){var c=m0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function bn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,un=!1;break t;case 3:me=E.stateNode.containerInfo,un=!0;break t;case 4:me=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(me===null)throw Error(a(160));Tg(f,y,c),me=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Sg(n,t),n=n.sibling}var Un=null;function Sg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(lr(3,t,t.return),fl(3,t),lr(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(re||r===null||ln(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(bn(n,t),Rn(t),l&512&&(re||r===null||ln(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[we]=t,$t(f),l=f;break t;case"link":var y=mp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=mp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,$t(f),l=f}t.stateNode=l}else gp(c,t.type,t.stateNode);else t.stateNode=dp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?gp(c,t.type,t.stateNode):dp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var M=b.nextSibling,H=b.nodeName;b[Gi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=M}for(var F=t.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);Le(c,F,f),c[we]=t,c[ye]=f}catch(st){Kt(t,t.return,st)}}case 5:if(bn(n,t),Rn(t),l&512&&(re||r===null||ln(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(st){Kt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,gg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Eh=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(st){Kt(t,t.return,st)}}break;case 3:if(oo=null,c=Un,Un=lo(n.containerInfo),bn(n,t),Un=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(st){Kt(t,t.return,st)}Eh&&(Eh=!1,bg(t));break;case 4:l=Un,Un=lo(t.stateNode.containerInfo),bn(n,t),Rn(t),Un=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Nh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Th(t,l)));break;case 22:if(l&512&&(re||r===null||ln(r,r.return)),b=t.memoizedState!==null,M=r!==null&&r.memoizedState!==null,H=bi,F=re,bi=H||b,re=F||M,bn(n,t),re=F,bi=H,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=bi||re,r===null||M||n||Ya(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){M=r=n;try{if(c=M.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=M.stateNode,E=M.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){Kt(M,M.return,st)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=b?"":M.memoizedProps}catch(st){Kt(M,M.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Th(t,r))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Th(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(pg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=_h(t);Fu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(gn(y,""),l.flags&=-33);var E=_h(t);Fu(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,M=_h(t);vh(t,M,b);break;default:throw Error(a(161))}}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;bg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vg(t,n.alternate,n),n=n.sibling}function Ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Ya(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dg(n,n.return,r),Ya(n);break;case 26:case 27:case 5:ln(n,n.return),Ya(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Ya(n);break;default:Ya(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),fl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Kt(l,l.return,M)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)cg(b[c],E)}catch(M){Kt(l,l.return,M)}}r&&y&64&&fg(f),sa(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&y&4&&mg(f),sa(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&y&4&&Ag(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),sa(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function Ah(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function Sh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function or(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rg(t,n,r,l),n=n.sibling}function Rg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:or(t,n,r,l),c&2048&&fl(9,n);break;case 3:or(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){or(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else or(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?or(t,n,r,l):dl(t,n):f._visibility&4?or(t,n,r,l):(f._visibility|=4,Xa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ah(n.alternate,n);break;case 24:or(t,n,r,l),c&2048&&Sh(n.alternate,n);break;default:or(t,n,r,l)}}function Xa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(f,y,E,b,c),fl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?Xa(f,y,E,b,c):dl(f,y):(H._visibility|=4,Xa(f,y,E,b,c)),c&&M&2048&&Ah(y.alternate,y);break;case 24:Xa(f,y,E,b,c),c&&M&2048&&Sh(y.alternate,y);break;default:Xa(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Ah(l.alternate,l);break;case 24:dl(r,l),c&2048&&Sh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Za(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 26:Za(t),t.flags&ml&&t.memoizedState!==null&&j0(Un,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=Un;Un=lo(t.stateNode.containerInfo),Za(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Za(t),ml=n):Za(t));break;default:Za(t)}}function Dg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Vg(l,t)}Dg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Ku(t)):gl(t);break;default:gl(t)}}function Ku(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Vg(l,t)}Dg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Ku(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Ku(n));break;default:Ku(n)}t=t.sibling}}function Vg(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Eg(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}function n0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,l){return new n0(t,n,r,l)}function bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ng(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")bh(t)&&(y=1);else if(typeof t=="string")y=q0(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return la(r.children,c,f,n);case v:y=8,c|=24;break;case R:return t=wn(12,r,n,c|2),t.elementType=R,t.lanes=f,t;case tt:return t=wn(13,r,n,c),t.elementType=tt,t.lanes=f,t;case X:return t=wn(19,r,n,c),t.elementType=X,t.lanes=f,t;case Et:return Og(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:case j:y=10;break t;case B:y=9;break t;case $:y=11;break t;case St:y=14;break t;case pt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=wn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function la(t,n,r,l){return t=wn(7,t,l,n),t.lanes=r,t}function Og(t,n,r,l){t=wn(22,t,l,n),t.elementType=Et,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var y=Ji(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if(c._pendingVisibility&2){var y=Ji(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function Rh(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function wh(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Mg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!pp(n)){if(n=Sn.current,n!==null&&((It&4194176)===It?Xn!==null:(It&62914560)!==It&&!(It&536870912)||n!==Xn))throw Ws=Oc,Xd;t.flags|=8192}}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,Ja|=n)}function pl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function i0(t,n,r){var l=n.pendingProps;switch(Vc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?Di(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,xn!==null&&(xh(xn),xn=null))),Jt(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(Jt(n),Mg(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),Jt(n),Mg(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),Jt(n),n.flags&=-16777217),null;case 27:ya(n),r=fn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}t=Fe.current,Xs(n)?Kd(n):(t=up(c,l,r),n.stateNode=t,Di(n))}return Jt(n),null;case 5:if(ya(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}if(t=Fe.current,Xs(n))Kd(n);else{switch(c=so(fn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=fn.current,Xs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||np(t.nodeValue,r)),t||$r(n)}else t=so(t).createTextNode(l),t[we]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else Zs(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else xn!==null&&(xh(xn),xn=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),Jt(n),null;case 4:return si(),t===null&&Qh(n.stateNode.containerInfo),Jt(n),null;case 10:return Si(n.type),Jt(n),null;case 19:if(ne(Ee),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=Mu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ng(r,t),r=r.sibling;return Gt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>Zu&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Mu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*Je()-c.renderingStartTime>Zu&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ee.current,Gt(Ee,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return vi(n),Ic(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ne(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Te),Jt(n),null;case 25:return null}throw Error(a(156,n.tag))}function r0(t,n){switch(Vc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),si(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ya(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ne(Ee),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return vi(n),Ic(),t!==null&&ne(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function Ig(t,n){switch(Vc(n),n.tag){case 3:Si(Te),si();break;case 26:case 27:case 5:ya(n);break;case 4:si();break;case 13:vi(n);break;case 19:ne(Ee);break;case 10:Si(n.type);break;case 22:case 23:vi(n),Ic(),t!==null&&ne(Wr);break;case 24:Si(Te)}}var a0={getCacheForType:function(t){var n=qe(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},s0=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Yt=null,Dt=null,It=0,Xt=0,on=null,Ci=!1,$a=!1,Dh=!1,Vi=0,ae=0,hr=0,ua=0,Ch=0,Dn=0,Ja=0,yl=null,$n=null,Vh=!1,Nh=0,Zu=1/0,$u=null,fr=null,Ju=!1,oa=null,_l=0,Oh=0,Mh=null,vl=0,Ih=null;function cn(){if(Wt&2&&It!==0)return It&-It;if(A.T!==null){var t=ja;return t!==0?t:qh()}return ru()}function xg(){Dn===0&&(Dn=!(It&536870912)||Bt?Os():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Dn}function $e(t,n,r){(t===Yt&&Xt===2||t.cancelPendingCommit!==null)&&(Wa(t,0),Ni(t,It,Dn,!1)),ue(t,r),(!(Wt&2)||t!==Yt)&&(t===Yt&&(!(Wt&2)&&(ua|=r),ae===4&&Ni(t,It,Dn,!1)),Jn(t))}function Ug(t,n,r){if(Wt&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||ki(t,n),c=l?o0(t,n):zh(t,n,!0),f=l;do{if(c===0){$a&&!l&&Ni(t,n,0,!1);break}else if(c===6)Ni(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!l0(r)){c=zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=yl;var b=E.current.memoizedState.isDehydrated;if(b&&(Wa(E,y).flags|=256),y=zh(E,y,!1),y!==2){if(Dh&&!b){E.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=$n,$n=c,f!==null&&xh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){Wa(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ni(l,n,Dn,!Ci);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Nh+300-Je(),10<f)){if(Ni(l,n,Dn,!Ci),dn(l,0)!==0)break t;l.timeoutHandle=ap(Lg.bind(null,l,r,$n,$u,Vh,n,Dn,ua,Ja,Ci,2,-0,0),f);break t}Lg(l,r,$n,$u,Vh,n,Dn,ua,Ja,Ci,0,-0,0)}}break}while(!0);Jn(t)}function xh(t){$n===null?$n=t:$n.push.apply($n,t)}function Lg(t,n,r,l,c,f,y,E,b,M,H,F,k){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:H0},wg(n),n=G0(),n!==null)){t.cancelPendingCommit=n(jg.bind(null,t,r,l,c,y,E,b,1,F,k)),Ni(t,f,y,!M);return}jg(t,r,l,c,y,E,b,H,F,k)}function l0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,r,l){n&=~Ch,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&qi(t,r,n)}function Wu(){return Wt&6?!0:(El(0),!1)}function Uh(){if(Dt!==null){if(Xt===0)var t=Dt.return;else t=Dt,Ai=ra=null,qc(t),qa=null,tl=0,t=Dt;for(;t!==null;)Ig(t.alternate,t),t=t.return;Dt=null}}function Wa(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,w0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Uh(),Yt=t,Dt=r=cr(t.current,null),It=n,Xt=0,on=null,Ci=!1,$a=ki(t,n),Dh=!1,Ja=Dn=Ch=ua=hr=ae=0,$n=yl=null,Vh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Su(),r}function zg(t,n){Rt=null,A.H=Zn,n===Js?(n=Jd(),Xt=3):n===Xd?(n=Jd(),Xt=4):Xt=n===Zm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Dt===null&&(ae=1,ju(t,En(n,t.current)))}function Bg(){var t=A.H;return A.H=Zn,t===null?Zn:t}function kg(){var t=A.A;return A.A=a0,t}function Lh(){ae=4,Ci||(It&4194176)!==It&&Sn.current!==null||($a=!0),!(hr&134217727)&&!(ua&134217727)||Yt===null||Ni(Yt,It,Dn,!1)}function zh(t,n,r){var l=Wt;Wt|=2;var c=Bg(),f=kg();(Yt!==t||It!==n)&&($u=null,Wa(t,n)),n=!1;var y=ae;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,b=on;switch(Xt){case 8:Uh(),y=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var M=Xt;if(Xt=0,on=null,ts(t,E,b,M),r&&$a){y=0;break t}break;default:M=Xt,Xt=0,on=null,ts(t,E,b,M)}}u0(),y=ae;break}catch(H){zg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ai=ra=null,Wt=l,A.H=c,A.A=f,Dt===null&&(Yt=null,It=0,Su()),y}function u0(){for(;Dt!==null;)Pg(Dt)}function o0(t,n){var r=Wt;Wt|=2;var l=Bg(),c=kg();Yt!==t||It!==n?($u=null,Zu=Je()+500,Wa(t,n)):$a=ki(t,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var f=on;e:switch(Xt){case 1:Xt=0,on=null,ts(t,n,f,1);break;case 2:if(Zd(f)){Xt=0,on=null,qg(n);break}n=function(){Xt===2&&Yt===t&&(Xt=7),Jn(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Zd(f)?(Xt=0,on=null,qg(n)):(Xt=0,on=null,ts(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||pp(y)){Xt=0,on=null;var b=E.sibling;if(b!==null)Dt=b;else{var M=E.return;M!==null?(Dt=M,to(M)):Dt=null}break e}}Xt=0,on=null,ts(t,n,f,5);break;case 6:Xt=0,on=null,ts(t,n,f,6);break;case 8:Uh(),ae=6;break t;default:throw Error(a(462))}}c0();break}catch(H){zg(t,H)}while(!0);return Ai=ra=null,A.H=l,A.A=c,Wt=r,Dt!==null?0:(Yt=null,It=0,Su(),ae)}function c0(){for(;Dt!==null&&!hc();)Pg(Dt)}function Pg(t){var n=ug(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?to(t):Dt=n}function qg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ng(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=ng(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:qc(n);default:Ig(r,n),n=Dt=Ng(n,Vi),n=ug(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?to(t):Dt=n}function ts(t,n,r,l){Ai=ra=null,qc(n),qa=null,tl=0;var c=n.return;try{if(Jv(t,c,n,r,It)){ae=1,ju(t,En(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;ae=1,ju(t,En(r,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:$a||It&536870912?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hg(n,t)):to(n)}function to(t){var n=t;do{if(n.flags&32768){Hg(n,Ci);return}t=n.return;var r=i0(n.alternate,n,Vi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ae===0&&(ae=5)}function Hg(t,n){do{var r=r0(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);ae=6,Dt=null}function jg(t,n,r,l,c,f,y,E,b,M){var H=A.T,F=nt.p;try{nt.p=2,A.T=null,h0(t,n,r,l,F,c,f,y,E,b,M)}finally{A.T=H,nt.p=F}}function h0(t,n,r,l,c,f,y,E){do es();while(oa!==null);if(Wt&6)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=b.lanes|b.childLanes;if(M|=wc,nu(t,l,M,f,y,E),t===Yt&&(Dt=Yt=null,It=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||Ju||(Ju=!0,Oh=M,Mh=r,g0(li,function(){return es(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=A.T,A.T=null,f=nt.p,nt.p=2,y=Wt,Wt|=4,t0(t,b),Sg(b,t),Uv(Xh,t.containerInfo),fo=!!Yh,Xh=Yh=null,t.current=b,vg(t,b.alternate,b),Ds(),Wt=y,nt.p=f,A.T=r):t.current=b,Ju?(Ju=!1,oa=t,_l=l):Gg(t,M),M=t.pendingLanes,M===0&&(fr=null),Vs(b.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)M=n[b],c(M.value,{componentStack:M.stack});return _l&3&&es(),M=t.pendingLanes,l&4194218&&M&42?t===Ih?vl++:(vl=0,Ih=t):vl=0,El(0),null}function Gg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function es(){if(oa!==null){var t=oa,n=Oh;Oh=0;var r=iu(_l),l=A.T,c=nt.p;try{if(nt.p=32>r?32:r,A.T=null,oa===null)var f=!1;else{r=Mh,Mh=null;var y=oa,E=_l;if(oa=null,_l=0,Wt&6)throw Error(a(331));var b=Wt;if(Wt|=4,Cg(y.current),Rg(y,y.current,E,r),Wt=b,El(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zi,y)}catch{}f=!0}return f}finally{nt.p=c,A.T=l,Gg(t,n)}}return!1}function Qg(t,n,r){n=En(r,n),n=eh(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(ue(t,2),Jn(t))}function Kt(t,n,r){if(t.tag===3)Qg(t,t,r);else for(;n!==null;){if(n.tag===3){Qg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=En(r,t),r=Ym(2),l=sr(n,r,2),l!==null&&(Xm(r,l,n,t),ue(l,2),Jn(l));break}}n=n.return}}function Bh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new s0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Dh=!0,c.add(r),t=f0.bind(null,t,n,r),n.then(t,t))}function f0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(It&r)===r&&(ae===4||ae===3&&(It&62914560)===It&&300>Je()-Nh?!(Wt&2)&&Wa(t,0):Ch|=r,Ja===It&&(Ja=0)),Jn(t)}function Fg(t,n){n===0&&(n=Pi()),t=Ji(t,n),t!==null&&(ue(t,n),Jn(t))}function d0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Fg(t,r)}function m0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Fg(t,r)}function g0(t,n){return Ir(t,n)}var eo=null,ns=null,kh=!1,no=!1,Ph=!1,ca=0;function Jn(t){t!==ns&&t.next===null&&(ns===null?eo=ns=t:ns=ns.next=t),no=!0,kh||(kh=!0,y0(p0))}function El(t,n){if(!Ph&&no){Ph=!0;do for(var r=!1,l=eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Xg(l,f))}else f=It,f=dn(l,l===Yt?f:0),!(f&3)||ki(l,f)||(r=!0,Xg(l,f));l=l.next}while(r);Ph=!1}}function p0(){no=kh=!1;var t=0;ca!==0&&(R0()&&(t=ca),ca=0);for(var n=Je(),r=null,l=eo;l!==null;){var c=l.next,f=Kg(l,n);f===0?(l.next=null,r===null?eo=c:r.next=c,c===null&&(ns=r)):(r=l,(t!==0||f&3)&&(no=!0)),l=c}El(t)}function Kg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ke(f),E=1<<y,b=c[y];b===-1?(!(E&r)||E&l)&&(c[y]=Ea(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Yt,r=It,r=dn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||ki(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&va(l),iu(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Cs;break;default:r=li}return l=Yg.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function Yg(t,n){var r=t.callbackNode;if(es()&&t.callbackNode!==r)return null;var l=It;return l=dn(t,t===Yt?l:0),l===0?null:(Ug(t,l,n),Kg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?Yg.bind(null,t):null)}function Xg(t,n){if(es())return null;Ug(t,n,!0)}function y0(t){D0(function(){Wt&6?Ir(pe,t):t()})}function qh(){return ca===0&&(ca=Os()),ca}function Zg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function $g(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function _0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Zg((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?Zg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var b=y?$g(c,y):new FormData(c);Zc(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?$g(c,y):new FormData(c),Zc(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Hh=0;Hh<jd.length;Hh++){var jh=jd[Hh],v0=jh.toLowerCase(),E0=jh[0].toUpperCase()+jh.slice(1);In(v0,"on"+E0)}In(Bd,"onAnimationEnd"),In(kd,"onAnimationIteration"),In(Pd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(zv,"onTransitionRun"),In(Bv,"onTransitionStart"),In(kv,"onTransitionCancel"),In(qd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Jg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,M=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(H){Hu(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,M=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(H){Hu(H)}c.currentTarget=null,f=b}}}}function Vt(t,n){var r=n[Ur];r===void 0&&(r=n[Ur]=new Set);var l=t+"__bubble";r.has(l)||(Wg(n,t,2,!1),r.add(l))}function Gh(t,n,r){var l=0;n&&(l|=4),Wg(r,t,l,n)}var io="_reactListening"+Math.random().toString(36).slice(2);function Qh(t){if(!t[io]){t[io]=!0,Is.forEach(function(r){r!=="selectionchange"&&(T0.has(r)||Gh(r,!1,t),Gh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[io]||(n[io]=!0,Gh("selectionchange",!1,n))}}function Wg(t,n,r,l){switch(Ap(n)){case 2:var c=K0;break;case 8:c=Y0;break;default:c=af}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Fh(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Mn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}uu(function(){var M=f,H=wa(r),F=[];t:{var k=Hd.get(t);if(k!==void 0){var q=Da,st=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":q=Ia;break;case"focusin":st="focus",q=Na;break;case"focusout":st="blur",q=Na;break;case"beforeblur":case"afterblur":q=Na;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pu;break;case Bd:case kd:case Pd:q=Oa;break;case qd:q=_u;break;case"scroll":case"scrollend":q=ou;break;case"wheel":q=xa;break;case"copy":case"cut":case"paste":q=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qs;break;case"toggle":case"beforetoggle":q=Eu}var _t=(n&4)!==0,se=!_t&&(t==="scroll"||t==="scrollend"),x=_t?k!==null?k+"Capture":null:k;_t=[];for(var N=M,z;N!==null;){var G=N;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||x===null||(G=Pr(N,x),G!=null&&_t.push(Al(N,G,z))),se)break;N=N.return}0<_t.length&&(k=new q(k,st,null,r,H),F.push({event:k,listeners:_t}))}}if(!(n&7)){t:{if(k=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",k&&r!==pn&&(st=r.relatedTarget||r.fromElement)&&(Mn(st)||st[ui]))break t;if((q||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=M,st=st?Mn(st):null,st!==null&&(se=ut(st),_t=st.tag,st!==se||_t!==5&&_t!==27&&_t!==6)&&(st=null)):(q=null,st=M),q!==st)){if(_t=_n,G="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Qs,G="onPointerLeave",x="onPointerEnter",N="pointer"),se=q==null?k:Qi(q),z=st==null?k:Qi(st),k=new _t(G,N+"leave",q,r,H),k.target=se,k.relatedTarget=z,G=null,Mn(H)===M&&(_t=new _t(x,N+"enter",st,r,H),_t.target=z,_t.relatedTarget=se,G=_t),se=G,q&&st)e:{for(_t=q,x=st,N=0,z=_t;z;z=is(z))N++;for(z=0,G=x;G;G=is(G))z++;for(;0<N-z;)_t=is(_t),N--;for(;0<z-N;)x=is(x),z--;for(;N--;){if(_t===x||x!==null&&_t===x.alternate)break e;_t=is(_t),x=is(x)}_t=null}else _t=null;q!==null&&tp(F,k,q,_t,!1),st!==null&&se!==null&&tp(F,se,st,_t,!0)}}t:{if(k=M?Qi(M):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var at=Dd;else if(ve(k))if(Cd)at=Iv;else{at=Ov;var wt=Nv}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?M&&Bs(M.elementType)&&(at=Dd):at=Mv;if(at&&(at=at(t,M))){pi(F,at,r,H);break t}wt&&wt(t,k,M),t==="focusout"&&M&&k.type==="number"&&M.memoizedProps.value!=null&&Ra(k,"number",k.value)}switch(wt=M?Qi(M):window,t){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Ua=wt,Sc=M,Ys=null);break;case"focusout":Ys=Sc=Ua=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,Ld(F,r,H);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":Ld(F,r,H)}var ot;if(Fn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ot?P(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Ot||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ot&&(ot=Ps()):(Hn=H,$i="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),wt=ro(M,mt),0<wt.length&&(mt=new js(mt,t,null,r,H),F.push({event:mt,listeners:wt}),ot?mt.data=ot:(ot=J(r),ot!==null&&(mt.data=ot)))),(ot=m?_e(t,r):Mt(t,r))&&(mt=ro(M,"onBeforeInput"),0<mt.length&&(wt=new js("onBeforeInput","beforeinput",null,r,H),F.push({event:wt,listeners:mt}),wt.data=ot)),_0(F,t,M,r,H)}Jg(F,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ro(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pr(t,r),c!=null&&l.unshift(Al(t,c,f)),c=Pr(t,n),c!=null&&l.push(Al(t,c,f))),t=t.return}return l}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,M=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||M===null||(b=M,c?(M=Pr(r,f),M!=null&&y.unshift(Al(r,M,b))):c||(M=Pr(r,f),M!=null&&y.push(Al(r,M,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var A0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function ep(t){return(typeof t=="string"?t:""+t).replace(A0,`
`).replace(S0,"")}function np(t,n){return n=ep(n),ep(t)===n}function ao(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,r,l);break;case"style":lu(t,l,f);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ao);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Ki(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pc.get(r)||r,Ki(t,r,l))}}function Kh(t,n,r,l,c,f){switch(r){case"style":lu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ki(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,b=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":M=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}Br(t,f,E,b,M,y,c,!1),zr(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Zi(t,l,c,f),zr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Vt(Tl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,M,l,r,null)}return;default:if(Bs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Kh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function b0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,M=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,F)}}for(var k in l){var q=l[k];if(F=r[k],l.hasOwnProperty(k)&&(q!=null||F!=null))switch(k){case"type":f=q;break;case"name":c=q;break;case"checked":M=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Ft(t,n,k,q,l,F)}}Xi(t,y,E,b,M,H,f,c);return;case"select":q=y=E=k=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=q,k!=null?zt(t,!!r,k,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":q=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}kr(t,k,q);return;case"option":for(var st in r)if(k=r[st],r.hasOwnProperty(st)&&k!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Ft(t,n,st,null,l,k)}for(b in l)if(k=l[b],q=r[b],l.hasOwnProperty(b)&&k!==q&&(k!=null||q!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ft(t,n,b,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in r)k=r[_t],r.hasOwnProperty(_t)&&k!=null&&!l.hasOwnProperty(_t)&&Ft(t,n,_t,null,l,k);for(M in l)if(k=l[M],q=r[M],l.hasOwnProperty(M)&&k!==q&&(k!=null||q!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Ft(t,n,M,k,l,q)}return;default:if(Bs(n)){for(var se in r)k=r[se],r.hasOwnProperty(se)&&k!==void 0&&!l.hasOwnProperty(se)&&Kh(t,n,se,void 0,l,k);for(H in l)k=l[H],q=r[H],!l.hasOwnProperty(H)||k===q||k===void 0&&q===void 0||Kh(t,n,H,k,l,q);return}}for(var x in r)k=r[x],r.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,k);for(F in l)k=l[F],q=r[F],!l.hasOwnProperty(F)||k===q||k==null&&q==null||Ft(t,n,F,k,l,q)}var Yh=null,Xh=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function ip(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Zh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $h=null;function R0(){var t=window.event;return t&&t.type==="popstate"?t===$h?!1:($h=t,!0):($h=null,!1)}var ap=typeof setTimeout=="function"?setTimeout:void 0,w0=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof sp<"u"?function(t){return sp.resolve(null).then(t).catch(C0)}:ap;function C0(t){setTimeout(function(){throw t})}function Jh(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Nl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Nl(n)}function Wh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Wh(r),Lr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function V0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function N0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function lp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function up(t,n,r){switch(n=so(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Cn=new Map,op=new Set;function lo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=nt.d;nt.d={f:O0,r:M0,D:I0,C:x0,L:U0,m:L0,X:B0,S:z0,M:k0};function O0(){var t=Oi.f(),n=Wu();return t||n}function M0(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?Lm(n):Oi.r(t)}var rs=typeof document>"u"?null:document;function cp(t,n,r){var l=rs;if(l&&typeof n=="string"&&n){var c=ie(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),op.has(c)||(op.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),$t(n),l.head.appendChild(n)))}}function I0(t){Oi.D(t),cp("dns-prefetch",t,null)}function x0(t,n){Oi.C(t,n),cp("preconnect",t,n)}function U0(t,n,r){Oi.L(t,n,r);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+ie(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ie(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ie(r.imageSizes)+'"]')):c+='[href="'+ie(t)+'"]';var f=c;switch(n){case"style":f=as(t);break;case"script":f=ss(t)}Cn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Sl(f))||n==="script"&&l.querySelector(bl(f))||(n=l.createElement("link"),Le(n,"link",t),$t(n),l.head.appendChild(n)))}}function L0(t,n){Oi.m(t,n);var r=rs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ie(l)+'"][href="'+ie(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(t)}if(!Cn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(f)))return}l=r.createElement("link"),Le(l,"link",t),$t(l),r.head.appendChild(l)}}}function z0(t,n,r){Oi.S(t,n,r);var l=rs;if(l&&t){var c=Fi(l).hoistableStyles,f=as(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Sl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&tf(t,r);var b=y=l.createElement("link");$t(b),Le(b,"link",t),b._p=new Promise(function(M,H){b.onload=M,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function B0(t,n){Oi.X(t,n);var r=rs;if(r&&t){var l=Fi(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=D({src:t,async:!0},n),(n=Cn.get(c))&&ef(t,n),f=r.createElement("script"),$t(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function k0(t,n){Oi.M(t,n);var r=rs;if(r&&t){var l=Fi(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&ef(t,n),f=r.createElement("script"),$t(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hp(t,n,r,l){var c=(c=fn.current)?lo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=as(r.href),r=Fi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=as(r.href);var f=Fi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Sl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||P0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(r),r=Fi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function as(t){return'href="'+ie(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function fp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function P0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),$t(n),t.head.appendChild(n))}function ss(t){return'[src="'+ie(t)+'"]'}function bl(t){return"script[async]"+t}function dp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ie(r.href)+'"]');if(l)return n.instance=l,$t(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),Le(l,"style",c),uo(l,r.precedence,t),n.instance=l;case"stylesheet":c=as(r.href);var f=t.querySelector(Sl(c));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;l=fp(r),(c=Cn.get(c))&&tf(l,c),f=(t.ownerDocument||t).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,uo(f,r.precedence,t),n.instance=f;case"script":return f=ss(r.src),(c=t.querySelector(bl(f)))?(n.instance=c,$t(c),c):(l=r,(c=Cn.get(f))&&(l=D({},r),ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),$t(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,uo(l,r.precedence,t));return n.instance}function uo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oo=null;function mp(t,n,r){if(oo===null){var l=new Map,c=oo=new Map;c.set(r,l)}else c=oo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function gp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function q0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function pp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Rl=null;function H0(){}function j0(t,n,r){if(Rl===null)throw Error(a(475));var l=Rl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=as(r.href),f=t.querySelector(Sl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=co.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,$t(f);return}f=t.ownerDocument||t,r=fp(r),(c=Cn.get(c))&&tf(r,c),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=co.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function G0(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&nf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&nf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function co(){if(this.count--,this.count===0){if(this.stylesheets)nf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ho=null;function nf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ho=new Map,n.forEach(Q0,t),ho=null,co.call(t))}function Q0(t,n){if(!(n.state.loading&4)){var r=ho.get(t);if(r)var l=r.get(null);else{r=new Map,ho.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=co.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:j,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function F0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function yp(t,n,r,l,c,f,y,E,b,M,H,F){return t=new F0(t,n,r,y,E,b,M,F),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=xc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},mh(f),t}function _p(t){return t?(t=Ba,t):Ba}function vp(t,n,r,l,c,f){c=_p(c),l.context===null?l.context=c:l.pendingContext=c,l=ar(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=sr(t,l,n),r!==null&&($e(r,t,n),ol(r,t,n))}function Ep(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function rf(t,n){Ep(t,n),(t=t.alternate)&&Ep(t,n)}function Tp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&$e(n,t,67108864),rf(t,67108864)}}var fo=!0;function K0(t,n,r,l){var c=A.T;A.T=null;var f=nt.p;try{nt.p=2,af(t,n,r,l)}finally{nt.p=f,A.T=c}}function Y0(t,n,r,l){var c=A.T;A.T=null;var f=nt.p;try{nt.p=8,af(t,n,r,l)}finally{nt.p=f,A.T=c}}function af(t,n,r,l){if(fo){var c=sf(l);if(c===null)Fh(t,n,l,mo,r),Sp(t,l);else if(Z0(c,t,n,r,l))l.stopPropagation();else if(Sp(t,l),n&4&&-1<X0.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ke(y);E.entanglements[1]|=b,y&=~b}Jn(f),!(Wt&6)&&(Zu=Je()+500,El(0))}}break;case 13:E=Ji(f,2),E!==null&&$e(E,f,2),Wu(),rf(f,2)}if(f=sf(l),f===null&&Fh(t,n,l,mo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Fh(t,n,l,null,r)}}function sf(t){return t=wa(t),lf(t)}var mo=null;function lf(t){if(mo=null,t=Mn(t),t!==null){var n=ut(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Pt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mo=t,null}function Ap(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jl()){case pe:return 2;case Re:return 8;case li:case Wl:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var uf=!1,dr=null,mr=null,gr=null,Dl=new Map,Cl=new Map,pr=[],X0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sp(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Vl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&Tp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Z0(t,n,r,l,c){switch(n){case"focusin":return dr=Vl(dr,t,n,r,l,c),!0;case"dragenter":return mr=Vl(mr,t,n,r,l,c),!0;case"mouseover":return gr=Vl(gr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Dl.set(f,Vl(Dl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Vl(Cl.get(f)||null,t,n,r,l,c)),!0}return!1}function bp(t){var n=Mn(t.target);if(n!==null){var r=ut(n);if(r!==null){if(n=r.tag,n===13){if(n=Pt(r),n!==null){t.blockedOn=n,ji(t.priority,function(){if(r.tag===13){var l=cn(),c=Ji(r,l);c!==null&&$e(c,r,l),rf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=sf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);pn=l,r.target.dispatchEvent(l),pn=null}else return n=oi(r),n!==null&&Tp(n),t.blockedOn=r,!1;n.shift()}return!0}function Rp(t,n,r){go(t)&&r.delete(n)}function $0(){uf=!1,dr!==null&&go(dr)&&(dr=null),mr!==null&&go(mr)&&(mr=null),gr!==null&&go(gr)&&(gr=null),Dl.forEach(Rp),Cl.forEach(Rp)}function po(t,n){t.blockedOn===n&&(t.blockedOn=null,uf||(uf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$0)))}var yo=null;function wp(t){yo!==t&&(yo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yo===t&&(yo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(lf(l||r)===null)continue;break}var f=oi(r);f!==null&&(t.splice(n,3),n-=3,Zc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Nl(t){function n(b){return po(b,t)}dr!==null&&po(dr,t),mr!==null&&po(mr,t),gr!==null&&po(gr,t),Dl.forEach(n),Cl.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)bp(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ye]||null;if(typeof f=="function")y||wp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(lf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),wp(r)}}}function of(t){this._internalRoot=t}_o.prototype.render=of.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();vp(r,l,t,n,null,null)},_o.prototype.unmount=of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&es(),vp(t.current,2,null,t,null,null),Wu(),n[ui]=null}};function _o(t){this._internalRoot=t}_o.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&bp(t)}};var Dp=e.version;if(Dp!=="19.0.0")throw Error(a(527,Dp,"19.0.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Y(n),t=t!==null?lt(t):null,t=t===null?null:t.stateNode,t};var J0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{zi=vo.inject(J0),Pe=vo}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Gm,f=Qm,y=Fm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=yp(t,1,!1,null,null,r,l,c,f,y,E,null),t[ui]=n.current,Qh(t.nodeType===8?t.parentNode:t),new of(n)},Ml.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Gm,y=Qm,E=Fm,b=null,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(M=r.formState)),n=yp(t,1,!0,n,r??null,l,c,f,y,E,b,M),n.context=_p(null),r=n.current,l=cn(),c=ar(l),c.callback=null,sr(r,c,l),n.current.lanes=l,ue(n,l),Jn(n),t[ui]=n.current,Qh(t),new _o(n)},Ml.version="19.0.0",Ml}var zp;function uE(){if(zp)return ff.exports;zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ff.exports=lE(),ff.exports}var oE=uE();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gy=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Vn.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:h,iconNode:d,...g},_)=>Vn.createElement("svg",{ref:_,...hE,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Gy("lucide",u),...g},[...d.map(([v,R])=>Vn.createElement(v,R)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=(s,e)=>{const i=Vn.forwardRef(({className:a,...u},h)=>Vn.createElement(fE,{ref:h,iconNode:e,className:Gy(`lucide-${cE(s)}`,a),...u}));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mE=Yf("ChevronLeft",dE);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pE=Yf("ChevronRight",gE);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_E=Yf("Plus",yE);var Bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},vE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Fy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,R=h>>2,I=(h&3)<<4|g>>4;let B=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(B=64)),a.push(i[R],i[I],i[B],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Qy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):vE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const I=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||I==null)throw new EE;const B=h<<2|g>>4;if(a.push(B),v!==64){const j=g<<4&240|v>>2;if(a.push(j),I!==64){const $=v<<6&192|I;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class EE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TE=function(s){const e=Qy(s);return Fy.encodeByteArray(e,!0)},Mo=function(s){return TE(s).replace(/\./g,"")},AE=function(s){try{return Fy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=()=>SE().__FIREBASE_DEFAULTS__,RE=()=>{if(typeof process>"u"||typeof Bp>"u")return;const s=Bp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&AE(s[1]);return e&&JSON.parse(e)},Xf=()=>{try{return bE()||RE()||wE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},DE=s=>{var e,i;return(i=(e=Xf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},CE=s=>{const e=DE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ky=()=>{var s;return(s=Xf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Mo(JSON.stringify(i)),Mo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ME(){var s;const e=(s=Xf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IE(){return!ME()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xE(){try{return typeof indexedDB=="object"}catch{return!1}}function UE(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=LE,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yy.prototype.create)}}class Yy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?zE(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ts(u,g,a)}}function zE(s,e){return s.replace(BE,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const BE=/\{\$([^}]+)}/g;function Rf(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(kp(h)&&kp(d)){if(!Rf(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function kp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(s){return s&&s._delegate?s._delegate:s}class Pl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new VE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qE(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:PE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PE(s){return s===ha?void 0:s}function qE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const jE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},GE=Ut.INFO,QE={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},FE=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=QE[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=GE,this._logHandler=FE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const KE=(s,e)=>e.some(i=>s instanceof i);let Pp,qp;function YE(){return Pp||(Pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XE(){return qp||(qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zy=new WeakMap,wf=new WeakMap,$y=new WeakMap,pf=new WeakMap,Zf=new WeakMap;function ZE(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(vr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Zy.set(i,s)}).catch(()=>{}),Zf.set(e,s),e}function $E(s){if(wf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});wf.set(s,e)}let Df={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return wf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||$y.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function JE(s){Df=s(Df)}function WE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(yf(this),e,...i);return $y.set(a,e.sort?e.sort():[e]),vr(a)}:XE().includes(s)?function(...e){return s.apply(yf(this),e),vr(Zy.get(this))}:function(...e){return vr(s.apply(yf(this),e))}}function tT(s){return typeof s=="function"?WE(s):(s instanceof IDBTransaction&&$E(s),KE(s,YE())?new Proxy(s,Df):s)}function vr(s){if(s instanceof IDBRequest)return ZE(s);if(pf.has(s))return pf.get(s);const e=tT(s);return e!==s&&(pf.set(s,e),Zf.set(e,s)),e}const yf=s=>Zf.get(s);function eT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=vr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const nT=["get","getKey","getAll","getAllKeys","count"],iT=["put","add","delete","clear"],_f=new Map;function Hp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(_f.get(e))return _f.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=iT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||nT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return _f.set(e,h),h}JE(s=>({...s,get:(e,i,a)=>Hp(e,i)||s.get(e,i,a),has:(e,i)=>!!Hp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function aT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cf="@firebase/app",jp="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Xy("@firebase/app"),sT="@firebase/app-compat",lT="@firebase/analytics-compat",uT="@firebase/analytics",oT="@firebase/app-check-compat",cT="@firebase/app-check",hT="@firebase/auth",fT="@firebase/auth-compat",dT="@firebase/database",mT="@firebase/data-connect",gT="@firebase/database-compat",pT="@firebase/functions",yT="@firebase/functions-compat",_T="@firebase/installations",vT="@firebase/installations-compat",ET="@firebase/messaging",TT="@firebase/messaging-compat",AT="@firebase/performance",ST="@firebase/performance-compat",bT="@firebase/remote-config",RT="@firebase/remote-config-compat",wT="@firebase/storage",DT="@firebase/storage-compat",CT="@firebase/firestore",VT="@firebase/vertexai",NT="@firebase/firestore-compat",OT="firebase",MT="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",IT={[Cf]:"fire-core",[sT]:"fire-core-compat",[uT]:"fire-analytics",[lT]:"fire-analytics-compat",[cT]:"fire-app-check",[oT]:"fire-app-check-compat",[hT]:"fire-auth",[fT]:"fire-auth-compat",[dT]:"fire-rtdb",[mT]:"fire-data-connect",[gT]:"fire-rtdb-compat",[pT]:"fire-fn",[yT]:"fire-fn-compat",[_T]:"fire-iid",[vT]:"fire-iid-compat",[ET]:"fire-fcm",[TT]:"fire-fcm-compat",[AT]:"fire-perf",[ST]:"fire-perf-compat",[bT]:"fire-rc",[RT]:"fire-rc-compat",[wT]:"fire-gcs",[DT]:"fire-gcs-compat",[CT]:"fire-fst",[NT]:"fire-fst-compat",[VT]:"fire-vertex","fire-js":"fire-js",[OT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Map,xT=new Map,Nf=new Map;function Gp(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function xo(s){const e=s.name;if(Nf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,s);for(const i of Io.values())Gp(i,s);for(const i of xT.values())Gp(i,s);return!0}function UT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function LT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Yy("app","Firebase",zT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=MT;function Jy(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Vf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw Er.create("bad-app-name",{appName:String(u)});if(i||(i=Ky()),!i)throw Er.create("no-options");const h=Io.get(u);if(h){if(Rf(i,h.options)&&Rf(a,h.config))return h;throw Er.create("duplicate-app",{appName:u})}const d=new HE(u);for(const _ of Nf.values())d.addComponent(_);const g=new BT(i,a,d);return Io.set(u,g),g}function PT(s=Vf){const e=Io.get(s);if(!e&&s===Vf&&Ky())return Jy();if(!e)throw Er.create("no-app",{appName:s});return e}function hs(s,e,i){var a;let u=(a=IT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}xo(new Pl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebase-heartbeat-database",HT=1,ql="firebase-heartbeat-store";let vf=null;function Wy(){return vf||(vf=eT(qT,HT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),vf}async function jT(s){try{const i=(await Wy()).transaction(ql),a=await i.objectStore(ql).get(t_(s));return await i.done,a}catch(e){if(e instanceof Ts)Mi.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function Qp(s,e){try{const a=(await Wy()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,t_(s)),await a.done}catch(i){if(i instanceof Ts)Mi.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(a.message)}}}function t_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1024,QT=30;class FT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new YT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Fp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>QT){const d=XT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fp(),{heartbeatsToSend:a,unsentEntries:u}=KT(this._heartbeatsCache.heartbeats),h=Mo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Fp(){return new Date().toISOString().substring(0,10)}function KT(s,e=GT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Kp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Kp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class YT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xE()?UE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Kp(s){return Mo(JSON.stringify({version:2,heartbeats:s})).length}function XT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(s){xo(new Pl("platform-logger",e=>new rT(e),"PRIVATE")),xo(new Pl("heartbeat",e=>new FT(e),"PRIVATE")),hs(Cf,jp,s),hs(Cf,jp,"esm2017"),hs("fire-js","")}ZT("");var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,e_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function A(){}A.prototype=S.prototype,O.D=S.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(D,V,U){for(var w=Array(arguments.length-2),le=2;le<arguments.length;le++)w[le-2]=arguments[le];return S.prototype[V].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)D[V]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(V=0;16>V;++V)D[V]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=O.g[0],A=O.g[1],V=O.g[2];var U=O.g[3],w=S+(U^A&(V^U))+D[0]+3614090360&4294967295;S=A+(w<<7&4294967295|w>>>25),w=U+(V^S&(A^V))+D[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(A^U&(S^A))+D[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=A+(S^V&(U^S))+D[3]+3250441966&4294967295,A=V+(w<<22&4294967295|w>>>10),w=S+(U^A&(V^U))+D[4]+4118548399&4294967295,S=A+(w<<7&4294967295|w>>>25),w=U+(V^S&(A^V))+D[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(A^U&(S^A))+D[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=A+(S^V&(U^S))+D[7]+4249261313&4294967295,A=V+(w<<22&4294967295|w>>>10),w=S+(U^A&(V^U))+D[8]+1770035416&4294967295,S=A+(w<<7&4294967295|w>>>25),w=U+(V^S&(A^V))+D[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(A^U&(S^A))+D[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=A+(S^V&(U^S))+D[11]+2304563134&4294967295,A=V+(w<<22&4294967295|w>>>10),w=S+(U^A&(V^U))+D[12]+1804603682&4294967295,S=A+(w<<7&4294967295|w>>>25),w=U+(V^S&(A^V))+D[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(A^U&(S^A))+D[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=A+(S^V&(U^S))+D[15]+1236535329&4294967295,A=V+(w<<22&4294967295|w>>>10),w=S+(V^U&(A^V))+D[1]+4129170786&4294967295,S=A+(w<<5&4294967295|w>>>27),w=U+(A^V&(S^A))+D[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^A&(U^S))+D[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=A+(U^S&(V^U))+D[0]+3921069994&4294967295,A=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(A^V))+D[5]+3593408605&4294967295,S=A+(w<<5&4294967295|w>>>27),w=U+(A^V&(S^A))+D[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^A&(U^S))+D[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=A+(U^S&(V^U))+D[4]+3889429448&4294967295,A=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(A^V))+D[9]+568446438&4294967295,S=A+(w<<5&4294967295|w>>>27),w=U+(A^V&(S^A))+D[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^A&(U^S))+D[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=A+(U^S&(V^U))+D[8]+1163531501&4294967295,A=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(A^V))+D[13]+2850285829&4294967295,S=A+(w<<5&4294967295|w>>>27),w=U+(A^V&(S^A))+D[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^A&(U^S))+D[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=A+(U^S&(V^U))+D[12]+2368359562&4294967295,A=V+(w<<20&4294967295|w>>>12),w=S+(A^V^U)+D[5]+4294588738&4294967295,S=A+(w<<4&4294967295|w>>>28),w=U+(S^A^V)+D[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^A)+D[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=A+(V^U^S)+D[14]+4259657740&4294967295,A=V+(w<<23&4294967295|w>>>9),w=S+(A^V^U)+D[1]+2763975236&4294967295,S=A+(w<<4&4294967295|w>>>28),w=U+(S^A^V)+D[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^A)+D[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=A+(V^U^S)+D[10]+3200236656&4294967295,A=V+(w<<23&4294967295|w>>>9),w=S+(A^V^U)+D[13]+681279174&4294967295,S=A+(w<<4&4294967295|w>>>28),w=U+(S^A^V)+D[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^A)+D[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=A+(V^U^S)+D[6]+76029189&4294967295,A=V+(w<<23&4294967295|w>>>9),w=S+(A^V^U)+D[9]+3654602809&4294967295,S=A+(w<<4&4294967295|w>>>28),w=U+(S^A^V)+D[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^A)+D[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=A+(V^U^S)+D[2]+3299628645&4294967295,A=V+(w<<23&4294967295|w>>>9),w=S+(V^(A|~U))+D[0]+4096336452&4294967295,S=A+(w<<6&4294967295|w>>>26),w=U+(A^(S|~V))+D[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~A))+D[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=A+(U^(V|~S))+D[5]+4237533241&4294967295,A=V+(w<<21&4294967295|w>>>11),w=S+(V^(A|~U))+D[12]+1700485571&4294967295,S=A+(w<<6&4294967295|w>>>26),w=U+(A^(S|~V))+D[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~A))+D[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=A+(U^(V|~S))+D[1]+2240044497&4294967295,A=V+(w<<21&4294967295|w>>>11),w=S+(V^(A|~U))+D[8]+1873313359&4294967295,S=A+(w<<6&4294967295|w>>>26),w=U+(A^(S|~V))+D[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~A))+D[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=A+(U^(V|~S))+D[13]+1309151649&4294967295,A=V+(w<<21&4294967295|w>>>11),w=S+(V^(A|~U))+D[4]+4149444226&4294967295,S=A+(w<<6&4294967295|w>>>26),w=U+(A^(S|~V))+D[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~A))+D[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=A+(U^(V|~S))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var A=S-this.blockSize,D=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=A;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(D[V++]=O.charCodeAt(U++),V==this.blockSize){u(this,D),V=0;break}}else for(;U<S;)if(D[V++]=O[U++],V==this.blockSize){u(this,D),V=0;break}}this.h=V,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var A=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=A&255,A/=256;for(this.u(O),O=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)O[A++]=this.g[S]>>>D&255;return O};function h(O,S){var A=g;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=S(O)}function d(O,S){this.h=S;for(var A=[],D=!0,V=O.length-1;0<=V;V--){var U=O[V]|0;D&&U==S||(A[V]=U,D=!1)}this.g=A}var g={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return I;if(0>O)return X(v(-O));for(var S=[],A=1,D=0;O>=A;D++)S[D]=O/A|0,A*=4294967296;return new d(S,0)}function R(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return X(R(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(S,8)),D=I,V=0;V<O.length;V+=8){var U=Math.min(8,O.length-V),w=parseInt(O.substring(V,V+U),S);8>U?(U=v(Math.pow(S,U)),D=D.j(U).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var I=_(0),B=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-X(this).m();for(var O=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);O+=(0<=D?D:4294967296+D)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if($(this))return"0";if(tt(this))return"-"+X(this).toString(O);for(var S=v(Math.pow(O,6)),A=this,D="";;){var V=rt(A,S).g;A=St(A,V.j(S));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=V,$(A))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function $(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function tt(O){return O.h==-1}s.l=function(O){return O=St(this,O),tt(O)?-1:$(O)?0:1};function X(O){for(var S=O.g.length,A=[],D=0;D<S;D++)A[D]=~O.g[D];return new d(A,~O.h).add(B)}s.abs=function(){return tt(this)?X(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0,V=0;V<=S;V++){var U=D+(this.i(V)&65535)+(O.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);D=w>>>16,U&=65535,w&=65535,A[V]=w<<16|U}return new d(A,A[A.length-1]&-2147483648?-1:0)};function St(O,S){return O.add(X(S))}s.j=function(O){if($(this)||$(O))return I;if(tt(this))return tt(O)?X(this).j(X(O)):X(X(this).j(O));if(tt(O))return X(this.j(X(O)));if(0>this.l(j)&&0>O.l(j))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<O.g.length;V++){var U=this.i(D)>>>16,w=this.i(D)&65535,le=O.i(V)>>>16,ee=O.i(V)&65535;A[2*D+2*V]+=w*ee,pt(A,2*D+2*V),A[2*D+2*V+1]+=U*ee,pt(A,2*D+2*V+1),A[2*D+2*V+1]+=w*le,pt(A,2*D+2*V+1),A[2*D+2*V+2]+=U*le,pt(A,2*D+2*V+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new d(A,0)};function pt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function Et(O,S){this.g=O,this.h=S}function rt(O,S){if($(S))throw Error("division by zero");if($(O))return new Et(I,I);if(tt(O))return S=rt(X(O),S),new Et(X(S.g),X(S.h));if(tt(S))return S=rt(O,X(S)),new Et(X(S.g),S.h);if(30<O.g.length){if(tt(O)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var A=B,D=S;0>=D.l(O);)A=W(A),D=W(D);var V=dt(A,1),U=dt(D,1);for(D=dt(D,2),A=dt(A,2);!$(D);){var w=U.add(D);0>=w.l(O)&&(V=V.add(A),U=w),D=dt(D,1),A=dt(A,1)}return S=St(O,V.j(S)),new Et(V,S)}for(V=I;0<=O.l(S);){for(A=Math.max(1,Math.floor(O.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=v(A),w=U.j(S);tt(w)||0<w.l(O);)A-=D,U=v(A),w=U.j(S);$(U)&&(U=B),V=V.add(U),O=St(O,w)}return new Et(V,O)}s.A=function(O){return rt(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&O.i(D);return new d(A,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|O.i(D);return new d(A,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^O.i(D);return new d(A,this.h^O.h)};function W(O){for(var S=O.g.length+1,A=[],D=0;D<S;D++)A[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(A,O.h)}function dt(O,S){var A=S>>5;S%=32;for(var D=O.g.length-A,V=[],U=0;U<D;U++)V[U]=0<S?O.i(U+A)>>>S|O.i(U+A+1)<<32-S:O.i(U+A);return new d(V,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,e_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,Tr=d}).apply(typeof Yp<"u"?Yp:typeof self<"u"?self:typeof window<"u"?window:{});var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n_,Il,i_,wo,Of,r_,a_,s_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eo=="object"&&Eo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var P=p++;return{value:m(P,o[P]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,p){return o.call.apply(o.bind,arguments)}function I(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function B(o,m,p){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:I,B.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,P){for(var J=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)J[Ot-2]=arguments[Ot];return m.prototype[L].apply(T,J)}}function tt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function X(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,P=T.length||0;o.length=L+P;for(let J=0;J<P;J++)o[L+J]=T[J]}else o.push(T)}}class St{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(o){return/^[\s\xa0]*$/.test(o)}function Et(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function rt(o){return rt[" "](o),o}rt[" "]=function(){};var W=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function dt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function O(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let P=0;P<A.length;P++)p=A[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function V(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,p){const T=ee.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new St(()=>new Z,o=>o.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ut=!1,Pt=new le,C=()=>{const o=g.Promise.resolve(void 0);ht=()=>{o.then(Y)}};var Y=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){U(p)}var m=ee;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function bt(o,m){if(et.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(W){t:{try{rt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Tt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}$(bt,et);var Tt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ne(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Lt,this.da=this.fa=!1}function Gt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,p,T,L){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var J=fn(o,m,T,L);return-1<J?(m=o[J],p||(m.fa=!1)):(m=new ne(m,this.src,P,!!T,L),m.fa=p,o.push(m)),m};function ai(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=0<=L)&&Array.prototype.splice.call(T,L,1),P&&(Gt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function fn(o,m,p,T){for(var L=0;L<o.length;++L){var P=o[L];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return L}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),Li={};function si(o,m,p,T,L){if(Array.isArray(m)){for(var P=0;P<m.length;P++)si(o,m[P],p,T,L);return null}return p=Jl(p),o&&o[he]?o.K(m,p,v(T)?!!T.capture:!1,L):ws(o,m,p,!1,T,L)}function ws(o,m,p,T,L,P){if(!m)throw Error("Invalid event type");var J=v(L)?!!L.capture:!!L,Ot=Ds(o);if(Ot||(o[Ui]=Ot=new Fe(o)),p=Ot.add(m,p,T,J,P),p.proxy)return p;if(T=ya(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)nt||(L=J),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(va(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ya(){function o(p){return m.call(o.src,o.listener,p)}const m=hc;return o}function _a(o,m,p,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)_a(o,m[P],p,T,L);else T=v(T)?!!T.capture:!!T,p=Jl(p),o&&o[he]?(o=o.i,m=String(m).toString(),m in o.g&&(P=o.g[m],p=fn(P,p,T,L),-1<p&&(Gt(P[p]),Array.prototype.splice.call(P,p,1),P.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ds(o))&&(m=o.g[m.toString()],o=-1,m&&(o=fn(m,p,T,L)),(p=-1<o?m[o]:null)&&Ir(p))}function Ir(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[he])ai(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(va(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ds(m))?(ai(p,o),p.h==0&&(p.src=null,m[Ui]=null)):Gt(o)}}}function va(o){return o in Li?Li[o]:Li[o]="on"+o}function hc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Ir(o),o=p.call(T,m)}return o}function Ds(o){return o=o[Ui],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function pe(){lt.call(this),this.i=new Fe(this),this.M=this,this.F=null}$(pe,lt),pe.prototype[he]=!0,pe.prototype.removeEventListener=function(o,m,p,T){_a(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new et(m,o);else if(m instanceof et)m.target=m.target||o;else{var L=m;m=new et(T,o),D(m,L)}if(L=!0,p)for(var P=p.length-1;0<=P;P--){var J=m.g=p[P];L=li(J,T,!0,m)&&L}if(J=m.g=o,L=li(J,T,!0,m)&&L,L=li(J,T,!1,m)&&L,p)for(P=0;P<p.length;P++)J=m.g=p[P],L=li(J,T,!1,m)&&L}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Gt(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function li(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,P=0;P<m.length;++P){var J=m[P];if(J&&!J.da&&J.capture==p){var Ot=J.listener,_e=J.ha||J.src;J.fa&&ai(o.i,J),L=Ot.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function Wl(o,m,p){if(typeof o=="function")p&&(o=B(o,p));else if(o&&typeof o.handleEvent=="function")o=B(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Cs(o){o.g=Wl(()=>{o.g=null,o.i&&(o.i=!1,Cs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class fc extends lt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(o){lt.call(this),this.h=o,this.g={}}$(xr,lt);var zi=[];function Pe(o){dt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Ir(m)},o),o.g={}}xr.prototype.N=function(){xr.aa.N.call(this),Pe(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=g.JSON.stringify,zn=g.JSON.parse,Ke=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function tu(o){return o.h||(o.h=o.i())}function eu(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){et.call(this,"d")}$(Bi,et);function On(){et.call(this,"c")}$(On,et);var dn={},ki=null;function Ea(){return ki=ki||new pe}dn.La="serverreachability";function Os(o){et.call(this,dn.La,o)}$(Os,et);function Pi(o){const m=Ea();Re(m,new Os(m))}dn.STAT_EVENT="statevent";function Ta(o,m){et.call(this,dn.STAT_EVENT,o),this.stat=m}$(Ta,et);function ue(o){const m=Ea();Re(m,new Ta(m,o))}dn.Ma="timingevent";function nu(o,m){et.call(this,dn.Ma,o),this.size=m}$(nu,et);function qi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function iu(o,m,p,T,L,P){o.info(function(){if(o.g)if(P)for(var J="",Ot=P.split("&"),_e=0;_e<Ot.length;_e++){var Mt=Ot[_e].split("=");if(1<Mt.length){var Ce=Mt[0];Mt=Mt[1];var ve=Ce.split("_");J=2<=ve.length&&ve[1]=="type"?J+(Ce+"="+Mt+"&"):J+(Ce+"=redacted&")}}else J=null;else J=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+J})}function ru(o,m,p,T,L,P,J){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+P+" "+J})}function ji(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function kn(o,m){o.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var P=L[0];if(P!="noop"&&P!="stop"&&P!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return Vs(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ur;function Aa(){}$(Aa,Ns),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Ur=new Aa;function Pn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}var Gi={},Lr={};function Mn(o,m,p){o.L=1,o.v=kr(ie(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),$t(o),o.A=ie(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Ms,o.g=_u(o.j,p?m:null,!o.m),0<o.O&&(o.M=new fc(B(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(zi[0]=L.toString()),L=zi);for(var P=0;P<L.length;P++){var J=si(p,L[P],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Pi(),iu(o.i,o.u,o.A,o.l,o.R,o.m)}Pn.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},Pn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=pi?Pi(3):Pi(2)),Sa(this);var p=this.g.Z();this.X=p;e:if(Qi(this)){var T=cu(this.g);o="";var L=T.length,P=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),rn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(P&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=p==200,ru(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,_e=this.g;if((Ot=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,p);else{this.o=!1,this.s=3,ue(12),We(this),rn(this);break t}}if(this.P){p=!0;let Ie;for(;!this.J&&this.C<J.length;)if(Ie=Fi(this,J),Ie==Lr){ve==4&&(this.s=4,ue(14),p=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Gi){this.s=4,ue(15),ji(this.i,this.l,J,"[Invalid Chunk]"),p=!1;break}else ji(this.i,this.l,Ie,null),an(this,Ie);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||J.length!=0||this.h.h||(this.s=1,ue(16),p=!1),this.o=this.o&&p,!p)ji(this.i,this.l,J,"[Invalid Chunked Response]"),We(this),rn(this);else if(0<J.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Fr(Ce),Ce.M=!0,ue(11))}}else ji(this.i,this.l,J,null),an(this,J);ve==4&&We(this),this.o&&!this.J&&(ve==4?gu(this.j,this):(this.o=!1,$t(this)))}else _c(this.g),p==400&&0<J.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),We(this),rn(this)}}}catch{}finally{}};function Qi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Lr:(p=Number(m.substring(p,T)),isNaN(p)?Gi:(T+=1,T+p>m.length?Lr:(m=m.slice(T,T+p),o.C=T+p,m)))}Pn.prototype.cancel=function(){this.J=!0,We(this)};function $t(o){o.S=Date.now()+o.I,Is(o,o.I)}function Is(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=qi(B(o.ba,o),m)}function Sa(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Pn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(kn(this.i,this.A),this.L!=2&&(Pi(),ue(17)),We(this),this.s=2,rn(this)):Is(this,this.S-o)};function rn(o){o.j.G==0||o.J||gu(o.j,o)}function We(o){Sa(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Pe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function an(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ki(p.h,o))){if(!o.K&&Ki(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ia(p),Oa(p);else break t;Gs(p),ue(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=qi(B(p.Za,p),6e3));if(1>=au(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((o.K||p.g==o)&&Ia(p),!pt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ce=Mt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=Mt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const pi=Mt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ie=o.g;if(Ie){const Kn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var P=T.h;P.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Yi(P,P.h),P.h=null))}if(T.D){const Fs=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(T.ya=Fs,zt(T.I,T.D,Fs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var J=o;if(T.qa=yu(T,T.J?T.ia:null,T.W),J.K){mn(T.h,J);var Ot=J,_e=T.L;_e&&(Ot.I=_e),Ot.B&&(Sa(Ot),$t(Ot)),T.g=J}else du(T);0<p.i.length&&Ma(p)}else Mt[0]!="stop"&&Mt[0]!="close"||gi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?gi(p,7):Hs(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Pi(4)}catch{}}var dc=class{constructor(o,m){this.g=o,this.map=m}};function xs(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function au(o){return o.h?1:o.g?o.g.size:0}function Ki(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yi(o,m){o.g?o.g.add(m):o.h=m}function mn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}xs.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ye(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return tt(o.i)}function su(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function mc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function zr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=mc(o),T=su(o),L=T.length,P=0;P<L;P++)m.call(void 0,T[P],p&&p[P],o)}var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var P=o[p].substring(0,T);L=o[p].substring(T+1)}else P=o[p];m(P,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ci(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ci){this.h=o.h,Xi(this,o.j),this.o=o.o,this.g=o.g,Br(this,o.s),this.l=o.l;var m=o.i,p=new qn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ra(this,p),this.m=o.m}else o&&(m=String(o).match(Ls))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),Br(this,m[4]),this.l=Zi(m[5]||"",!0),Ra(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}ci.prototype.toString=function(){var o=[],m=this.j;m&&o.push(gn(m,zs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(gn(m,zs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(gn(p,p.charAt(0)=="/"?Bs:lu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",gn(p,yc)),o.join("")};function ie(o){return new ci(o)}function Xi(o,m,p){o.j=p?Zi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Br(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ra(o,m,p){m instanceof qn?(o.i=m,ks(o.i,o.h)):(p||(m=gn(m,pc)),o.i=new qn(m,o.h))}function zt(o,m,p){o.i.set(m,p)}function kr(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function gn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,gc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function gc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zs=/[#\/\?@]/g,lu=/[#\?:]/g,Bs=/[#\?]/g,pc=/[#\?@]/g,yc=/#/g;function qn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&ba(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=qn.prototype,s.add=function(o,m){pn(this),this.i=null,o=di(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function wa(o,m){pn(o),m=di(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return pn(o),m=di(o,m),o.g.has(m)}s.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let P=0;P<L.length;P++)p.push(m[T])}return p},s.V=function(o){pn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(di(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return pn(this),this.i=null,o=di(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,p){wa(o,m),0<p.length&&(o.i=null,o.g.set(di(o,m),tt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const P=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var L=P;J[T]!==""&&(L+="="+encodeURIComponent(String(J[T]))),o.push(L)}}return this.i=o.join("&")};function di(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ks(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(wa(this,T),fi(this,L,p))},o)),o.j=m}function uu(o,m){const p=new Hi;if(g.Image){const T=new Image;T.onload=j(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Pr(o,m){const p=new Hi,T=new AbortController,L=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function qr(){this.g=new Ke}function Hn(o,m,p){const T=p||"";try{zr(o,function(L,P){let J=L;v(L)&&(J=Vs(L)),m.push(T+P+"="+encodeURIComponent(J))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function $i(o){this.l=o.Ub||null,this.j=o.eb||!1}$($i,Ns),$i.prototype.g=function(){return new mi(this.l,this.j)},$i.prototype.i=function(o){return function(){return o}}({});function mi(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(mi,pe),s=mi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Gn(this),this.readyState==3&&Ps(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function qs(o){let m="";return dt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=qs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):zt(o,m,p))}function Ht(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Ht,pe);var Da=/^https?$/i,Hr=["POST","PUT"];s=Ht.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ur.g(),this.v=this.o?tu(this.o):tu(Ur),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){ou(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Hr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,J]of p)this.g.setRequestHeader(P,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jr(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){ou(this,P)}};function ou(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ca(o),Qn(o)}function Ca(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Ht.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},s.bb=function(){Va(this)};function Va(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)Wl(o.Ea,0,o);else if(Re(o,"readystatechange"),_n(o)==4){o.h=!1;try{const J=o.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=J===0){var L=String(o.D).match(Ls)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Da.test(L?L.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var P=2<_n(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",Ca(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){jr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function jr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function cu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function _c(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(pt(o[T]))continue;var p=V(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[L]||[];m[L]=P,P.push(p)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Na(o){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(o&&o.concurrentRequestLimit),this.Da=new qr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Na.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){ue(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=yu(this,null,this.W),Ma(this)};function Hs(o){if(hu(o),o.G==3){var m=o.U++,p=ie(o.I);if(zt(p,"SID",o.K),zt(p,"RID",m),zt(p,"TYPE","terminate"),Qr(o,p),m=new Pn(o,o.j,m),m.L=2,m.v=kr(ie(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$t(m)}pu(o)}function Oa(o){o.g&&(Fr(o),o.g.cancel(),o.g=null)}function hu(o){Oa(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ia(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ma(o){if(!Us(o.h)&&!o.s){o.s=!0;var m=o.Ga;ht||C(),ut||(ht(),ut=!0),Pt.add(m,o),o.B=0}}function vc(o,m){return au(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=qi(B(o.Ga,o,m),Qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Pn(this,this.j,o);let P=this.o;if(this.S&&(P?(P=S(P),D(P,this.S)):P=this.S),this.m!==null||this.O||(L.H=P,P=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),p=ie(this.I),zt(p,"RID",o),zt(p,"CVER",22),this.D&&zt(p,"X-HTTP-Session-Id",this.D),Qr(this,p),P&&(this.O?m="headers="+encodeURIComponent(String(qs(P)))+"&"+m:this.m&&De(p,this.m,P)),Yi(this.h,L),this.Ua&&zt(p,"TYPE","init"),this.P?(zt(p,"$req",m),zt(p,"SID","null"),L.T=!0,Mn(L,p,null)):Mn(L,p,m),this.G=2}}else this.G==3&&(o?js(this,o):this.i.length==0||Us(this.h)||js(this))};function js(o,m){var p;m?p=m.l:p=o.U++;const T=ie(o.I);zt(T,"SID",o.K),zt(T,"RID",p),zt(T,"AID",o.T),Qr(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new Pn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=fu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Yi(o.h,p),Mn(p,T,m)}function Qr(o,m){o.H&&dt(o.H,function(p,T){zt(m,T,p)}),o.l&&zr({},function(p,T){zt(m,T,p)})}function fu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?B(o.l.Na,o.l,o):null;t:{var L=o.i;let P=-1;for(;;){const J=["count="+p];P==-1?0<p?(P=L[0].g,J.push("ofs="+P)):P=0:J.push("ofs="+P);let Ot=!0;for(let _e=0;_e<p;_e++){let Mt=L[_e].g;const Ce=L[_e].map;if(Mt-=P,0>Mt)P=Math.max(0,L[_e].g-100),Ot=!1;else try{Hn(Ce,J,"req"+Mt+"_")}catch{T&&T(Ce)}}if(Ot){T=J.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function du(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ht||C(),ut||(ht(),ut=!0),Pt.add(m,o),o.v=0}}function Gs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=qi(B(o.Fa,o),Qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=qi(B(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Oa(this),mu(this))};function Fr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function mu(o){o.g=new Pn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ie(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),Qr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=kr(ie(m)),p.m=null,p.P=!0,oi(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Oa(this),Gs(this),ue(19))};function Ia(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function gu(o,m){var p=null;if(o.g==m){Ia(o),Fr(o),o.g=null;var T=2}else if(Ki(o.h,m))p=m.D,mn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Ea(),Re(T,new nu(T,p)),Ma(o)}else du(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&vc(o,m)||T==2&&Gs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Qs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var p=B(o.fb,o),T=o.Xa;const L=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xi(T,"https"),kr(T),L?uu(T.toString(),p):Pr(T.toString(),p)}else ue(2);o.G=0,o.l&&o.l.sa(m),pu(o),hu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function pu(o){if(o.G=0,o.ka=[],o.l){const m=Ye(o.h);(m.length!=0||o.i.length!=0)&&(X(o.ka,m),X(o.ka,o.i),o.h.i.length=0,tt(o.i),o.i.length=0),o.l.ra()}}function yu(o,m,p){var T=p instanceof ci?ie(p):new ci(p);if(T.g!="")m&&(T.g=m+"."+T.g),Br(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var P=new ci(null);T&&Xi(P,T),m&&(P.g=m),L&&Br(P,L),p&&(P.l=p),T=P}return p=o.D,m=o.ya,p&&m&&zt(T,p,m),zt(T,"VER",o.la),Qr(o,T),T}function _u(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ht(new $i({eb:p})):new Ht(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function xa(){}xa.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){pe.call(this),this.g=new Na(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!pt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}$(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Hs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Vs(o),o=p);m.i.push(new dc(m.Ya++,o)),m.G==3&&Ma(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Xe.aa.N.call(this)};function Eu(o){Bi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Eu,Bi);function Tu(){On.call(this),this.status=1}$(Tu,On);function Fn(o){this.g=o}$(Fn,vu),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Eu(o))},Fn.prototype.sa=function(o){Re(this.g,new Tu)},Fn.prototype.ra=function(){Re(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,s_=function(){return new xa},a_=function(){return Ea()},r_=dn,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,wo=ye,ui.COMPLETE="complete",i_=ui,eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Il=eu,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,n_=Ht}).apply(typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{});const Xp="@firebase/firestore",Zp="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Xy("@firebase/firestore");function ls(){return da.logLevel}function it(s,...e){if(da.logLevel<=Ut.DEBUG){const i=e.map($f);da.debug(`Firestore (${As}): ${s}`,...i)}}function Ii(s,...e){if(da.logLevel<=Ut.ERROR){const i=e.map($f);da.error(`Firestore (${As}): ${s}`,...i)}}function ds(s,...e){if(da.logLevel<=Ut.WARN){const i=e.map($f);da.warn(`Firestore (${As}): ${s}`,...i)}}function $f(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s="Unexpected state"){const e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function jt(s,e){s||gt()}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class JT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class WT{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ar,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ar)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string"),new l_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string"),new Ge(e)}}class tA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new tA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $p{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,LT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $p(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string"),this.R=i.token,new $p(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=iA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Nt(s,e){return s<e?-1:s>e?1:0}function ms(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-62135596800,Wp=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Wp);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jp)throw new ct(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wp}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Se(0,0))}static max(){return new yt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(),a===void 0?a=e.length-i:a>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Zt extends Wn{construct(e,i,a){return new Zt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ct(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const rA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Wn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return rA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ty}static keyField(){return new Be([ty])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ct(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ct(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new ct(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Zt.fromString(e))}static fromName(e){return new ft(Zt.fromString(e).popFirst(5))}static empty(){return new ft(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function aA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Rr(u,ft.empty(),e)}function sA(s){return new Rr(s.readTime,s.key,Hl)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(yt.min(),ft.empty(),Hl)}static max(){return new Rr(yt.max(),ft.empty(),Hl)}}function lA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Nt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==uA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++g,g===h&&a(d)},R=>u(R))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function cA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ko.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=-1;function Yo(s){return s==null}function Uo(s){return s===0&&1/s==-1/0}function hA(s){return typeof s=="number"&&Number.isInteger(s)&&!Uo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="";function fA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ey(e)),e=dA(s.get(i),e);return ey(e)}function dA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case o_:i+="";break;default:i+=h}}return i}function ey(s){return s+o_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Or(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function c_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}}class To{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new iy(this.data.getIterator())}getIteratorFrom(e){return new iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new hn([])}unionWith(e){let i=new be(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new h_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const mA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(jt(!!s),typeof s=="string"){let e=0;const i=mA.exec(s);if(jt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?ke.fromBase64String(s):ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="server_timestamp",d_="__type__",m_="__previous_value__",g_="__local_write_time__";function Wf(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[d_])===null||i===void 0?void 0:i.stringValue)===f_}function Xo(s){const e=s.mapValue.fields[m_];return Wf(e)?Xo(e):e}function jl(s){const e=wr(s.mapValue.fields[g_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i,a,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Lo="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||Lo}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Lo}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="__type__",pA="__max__",Ao={mapValue:{}},y_="__vector__",zo="value";function Cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wf(s)?4:_A(s)?9007199254740991:yA(s)?10:11:gt()}function ii(s,e){if(s===e)return!0;const i=Cr(s);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=wr(u.timestampValue),g=wr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Dr(u.bytesValue).isEqual(Dr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Uo(d)===Uo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return ms(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(ny(d)!==ny(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(s,e);default:return gt()}}function Ql(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function gs(s,e){if(s===e)return 0;const i=Cr(s),a=Cr(e);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return ry(s.timestampValue,e.timestampValue);case 4:return ry(jl(s),jl(e));case 5:return Nt(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Dr(h),_=Dr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const R=Nt(g[v],_[v]);if(R!==0)return R}return Nt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Nt(ce(h.latitude),ce(d.latitude));return g!==0?g:Nt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ay(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,R;const I=h.fields||{},B=d.fields||{},j=(g=I[zo])===null||g===void 0?void 0:g.arrayValue,$=(_=B[zo])===null||_===void 0?void 0:_.arrayValue,tt=Nt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((R=$==null?void 0:$.values)===null||R===void 0?void 0:R.length)||0);return tt!==0?tt:ay(j,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ao.mapValue&&d===Ao.mapValue)return 0;if(h===Ao.mapValue)return 1;if(d===Ao.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let I=0;I<_.length&&I<R.length;++I){const B=Nt(_[I],R[I]);if(B!==0)return B;const j=gs(g[_[I]],v[R[I]]);if(j!==0)return j}return Nt(_.length,R.length)}(s.mapValue,e.mapValue);default:throw gt()}}function ry(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Nt(s,e);const i=wr(s),a=wr(e),u=Nt(i.seconds,a.seconds);return u!==0?u:Nt(i.nanos,a.nanos)}function ay(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=gs(i[u],a[u]);if(h)return h}return Nt(i.length,a.length)}function ps(s){return Mf(s)}function Mf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Dr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Mf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Mf(i.fields[d])}`;return u+"}"}(s.mapValue):gt()}function Do(s){switch(Cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xo(s);return e?16+Do(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Do(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Or(a.fields,(h,d)=>{u+=h.length+Do(d)}),u}(s.mapValue);default:throw gt()}}function If(s){return!!s&&"integerValue"in s}function td(s){return!!s&&"arrayValue"in s}function sy(s){return!!s&&"nullValue"in s}function ly(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Co(s){return!!s&&"mapValue"in s}function yA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[p_])===null||i===void 0?void 0:i.stringValue)===y_}function Ll(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Or(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ll(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return Object.assign({},s)}function _A(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Co(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=Be.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Ll(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Co(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Co(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Or(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new nn(Ll(this.value))}}function __(s){const e=[];return Or(s.fields,(i,a)=>{const u=new Be([i]);if(Co(a)){const h=__(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,yt.min(),yt.min(),yt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,yt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,yt.min(),yt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,yt.min(),yt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,i){this.position=e,this.inclusive=i}}function uy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=gs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function oy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i="asc"){this.field=e,this.dir=i}}function vA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{}class Ae extends v_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new TA(e,i,a):i==="array-contains"?new bA(e,a):i==="in"?new RA(e,a):i==="not-in"?new wA(e,a):i==="array-contains-any"?new DA(e,a):new Ae(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new AA(e,a):new SA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(gs(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(gs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends v_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return E_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function E_(s){return s.op==="and"}function T_(s){return EA(s)&&E_(s)}function EA(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function xf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+ps(s.value);if(T_(s))return s.filters.map(e=>xf(e)).join(",");{const e=s.filters.map(i=>xf(i)).join(",");return`${s.op}(${e})`}}function A_(s,e){return s instanceof Ae?function(a,u){return u instanceof Ae&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof ri?function(a,u){return u instanceof ri&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&A_(d,u.filters[g]),!0):!1}(s,e):void gt()}function S_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ps(i.value)}`}(s):s instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(S_).join(" ,")+"}"}(s):"Filter"}class TA extends Ae{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class AA extends Ae{constructor(e,i){super(e,"in",i),this.keys=b_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class SA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=b_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function b_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class bA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return td(i)&&Ql(i.arrayValue,this.value)}}class RA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class wA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Ql(this.value.arrayValue,i)}}class DA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!td(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ql(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function cy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new CA(s,e,i,a,u,h,d)}function ed(s){const e=vt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>xf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Yo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ps(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ps(a)).join(",")),e.le=i}return e.le}function nd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!A_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!oy(s.startAt,e.startAt)&&oy(s.endAt,e.endAt)}function Uf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function VA(s,e,i,a,u,h,d,g){return new Zo(s,e,i,a,u,h,d,g)}function R_(s){return new Zo(s)}function hy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function NA(s){return s.collectionGroup!==null}function zl(s){const e=vt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new ko(h,a))}),i.has(Be.keyField().canonicalString())||e.he.push(new ko(Be.keyField(),a))}return e.he}function ti(s){const e=vt(s);return e.Pe||(e.Pe=OA(e,zl(s))),e.Pe}function OA(s,e){if(s.limitType==="F")return cy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new ko(u.field,h)});const i=s.endAt?new Bo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Bo(s.startAt.position,s.startAt.inclusive):null;return cy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Lf(s,e,i){return new Zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function $o(s,e){return nd(ti(s),ti(e))&&s.limitType===e.limitType}function w_(s){return`${ed(ti(s))}|lt:${s.limitType}`}function us(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>S_(u)).join(", ")}]`),Yo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ps(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ps(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function Jo(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of zl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=uy(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,zl(a),u)||a.endAt&&!function(d,g,_){const v=uy(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,zl(a),u))}(s,e)}function MA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function D_(s){return(e,i)=>{let a=!1;for(const u of zl(s)){const h=IA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function IA(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?gs(_,v):gt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return c_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new te(ft.comparator);function xi(){return xA}const C_=new te(ft.comparator);function xl(...s){let e=C_;for(const i of s)e=e.insert(i.key,i);return e}function V_(s){let e=C_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function fa(){return Bl()}function N_(){return Bl()}function Bl(){return new ga(s=>s.toString(),(s,e)=>s.isEqual(e))}const UA=new te(ft.comparator),LA=new be(ft.comparator);function Ct(...s){let e=LA;for(const i of s)e=e.add(i);return e}const zA=new be(Nt);function BA(){return zA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uo(e)?"-0":e}}function O_(s){return{integerValue:""+s}}function kA(s,e){return hA(e)?O_(e):id(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this._=void 0}}function PA(s,e,i){return s instanceof Po?function(u,h){const d={fields:{[d_]:{stringValue:f_},[g_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Wf(h)&&(h=Xo(h)),h&&(d.fields[m_]=h),{mapValue:d}}(i,e):s instanceof Fl?I_(s,e):s instanceof Kl?x_(s,e):function(u,h){const d=M_(u,h),g=fy(d)+fy(u.Ie);return If(d)&&If(u.Ie)?O_(g):id(u.serializer,g)}(s,e)}function qA(s,e,i){return s instanceof Fl?I_(s,e):s instanceof Kl?x_(s,e):i}function M_(s,e){return s instanceof qo?function(a){return If(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Po extends Wo{}class Fl extends Wo{constructor(e){super(),this.elements=e}}function I_(s,e){const i=U_(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class Kl extends Wo{constructor(e){super(),this.elements=e}}function x_(s,e){let i=U_(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class qo extends Wo{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function fy(s){return ce(s.integerValue||s.doubleValue)}function U_(s){return td(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function HA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Fl&&u instanceof Fl||a instanceof Kl&&u instanceof Kl?ms(a.elements,u.elements,ii):a instanceof qo&&u instanceof qo?ii(a.Ie,u.Ie):a instanceof Po&&u instanceof Po}(s.transform,e.transform)}class jA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class tc{}function L_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new B_(s.key,ei.none()):new Yl(s.key,s.data,ei.none());{const i=s.data,a=nn.empty();let u=new be(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Mr(s.key,a,new hn(u.toArray()),ei.none())}}function GA(s,e,i){s instanceof Yl?function(u,h,d){const g=u.value.clone(),_=my(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Mr?function(u,h,d){if(!Vo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=my(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(z_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function kl(s,e,i,a){return s instanceof Yl?function(h,d,g,_){if(!Vo(h.precondition,d))return g;const v=h.value.clone(),R=gy(h.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Mr?function(h,d,g,_){if(!Vo(h.precondition,d))return g;const v=gy(h.fieldTransforms,_,d),R=d.data;return R.setAll(z_(h)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(s,e,i,a):function(h,d,g){return Vo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function QA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=M_(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function dy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ms(a,u,(h,d)=>HA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yl extends tc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Mr extends tc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function z_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function my(s,e,i){const a=new Map;jt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,qA(d,g,i[u]))}return a}function gy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,PA(h,d,e))}return a}class B_ extends tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FA extends tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&GA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=N_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=L_(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(i,a)=>dy(i,a))&&ms(this.baseMutations,e.baseMutations,(i,a)=>dy(i,a))}}class rd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){jt(e.mutations.length===a.length);let u=function(){return UA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new rd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,xt;function ZA(s){switch(s){case K.OK:return gt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt()}}function k_(s){if(s===void 0)return Ii("GRPC error has no .code"),K.UNKNOWN;switch(s){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return gt()}}(xt=ge||(ge={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Tr([4294967295,4294967295],0);function py(s){const e=$A().encode(s),i=new e_;return i.update(e),new Uint8Array(i.digest())}function yy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([u,h],0)]}class ad{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Tr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Tr.fromNumber(a)));return u.compare(JA)===1&&(u=new Tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=py(e),[a,u]=yy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ad(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=py(e),[a,u]=yy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ec(yt.min(),u,new te(Nt),xi(),Ct())}}class Xl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class P_{constructor(e,i){this.targetId=e,this.ge=i}}class q_{constructor(e,i,a=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class _y{constructor(){this.pe=0,this.ye=vy(),this.we=ke.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ct(),i=Ct(),a=Ct();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:gt()}}),new Xl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=vy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xi(),this.$e=So(),this.Ke=So(),this.Ue=new te(Nt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:gt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Uf(h))if(a===0){const d=new ft(h.path);this.ze(i,d,Qe.newNoDocument(d,yt.min()))}else jt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Dr(a).toUint8Array()}catch(_){if(_ instanceof h_)return ds("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ad(d,u,h)}catch(_){return ds(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Uf(g.target)){const _=new ft(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Ct();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new ec(e,i,this.Ue,this.Qe,a);return this.Qe=xi(),this.$e=So(),this.Ke=So(),this.Ue=new te(Nt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new _y,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new be(Nt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(Nt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _y),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function So(){return new te(ft.comparator)}function vy(){return new te(ft.comparator)}const tS={asc:"ASCENDING",desc:"DESCENDING"},eS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nS={and:"AND",or:"OR"};class iS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function zf(s,e){return s.useProto3Json||Yo(e)?e:{value:e}}function Ho(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function rS(s,e){return Ho(s,e.toTimestamp())}function ni(s){return jt(!!s),yt.fromTimestamp(function(i){const a=wr(i);return new Se(a.seconds,a.nanos)}(s))}function sd(s,e){return Bf(s,e).canonicalString()}function Bf(s,e){const i=function(u){return new Zt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function j_(s){const e=Zt.fromString(s);return jt(Y_(e)),e}function kf(s,e){return sd(s.databaseId,e.path)}function Ef(s,e){const i=j_(e);if(i.get(1)!==s.databaseId.projectId)throw new ct(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(Q_(i))}function G_(s,e){return sd(s.databaseId,e)}function aS(s){const e=j_(s);return e.length===4?Zt.emptyPath():Q_(e)}function Pf(s){return new Zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Q_(s){return jt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Ey(s,e,i){return{name:kf(s,e),fields:i.value.mapValue.fields}}function sS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,R){return v.useProto3Json?(jt(R===void 0||typeof R=="string"),ke.fromBase64String(R||"")):(jt(R===void 0||R instanceof Buffer||R instanceof Uint8Array),ke.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const R=v.code===void 0?K.UNKNOWN:k_(v.code);return new ct(R,v.message||"")}(d);i=new q_(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Ef(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):yt.min(),g=new nn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=a.targetIds||[],R=a.removedTargetIds||[];i=new No(v,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Ef(s,a.document),h=a.readTime?ni(a.readTime):yt.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new No([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Ef(s,a.document),h=a.removedTargetIds||[];i=new No([],h,u,null)}else{if(!("filter"in e))return gt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new XA(u,h),g=a.targetId;i=new P_(g,d)}}return i}function lS(s,e){let i;if(e instanceof Yl)i={update:Ey(s,e.key,e.value)};else if(e instanceof B_)i={delete:kf(s,e.key)};else if(e instanceof Mr)i={update:Ey(s,e.key,e.data),updateMask:pS(e.fieldMask)};else{if(!(e instanceof FA))return gt();i={verify:kf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Po)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof qo)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw gt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:rS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt()}(s,e.precondition)),i}function uS(s,e){return s&&s.length>0?(jt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(yt.min())&&(d=ni(h)),new jA(d,u.transformResults||[])}(i,e))):[]}function oS(s,e){return{documents:[G_(s,e.path)]}}function cS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=G_(s,u);const h=function(v){if(v.length!==0)return K_(ri.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(R=>function(B){return{field:os(B.field),direction:dS(B.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=zf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function hS(s){let e=aS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){jt(a===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(I){const B=F_(I);return B instanceof ri&&T_(B)?B.getFilters():[B]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(B=>function($){return new ko(cs($.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(B))}(i.orderBy));let g=null;i.limit&&(g=function(I){let B;return B=typeof I=="object"?I.value:I,Yo(B)?null:B}(i.limit));let _=null;i.startAt&&(_=function(I){const B=!!I.before,j=I.values||[];return new Bo(j,B)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const B=!I.before,j=I.values||[];return new Bo(j,B)}(i.endAt)),VA(e,u,d,h,g,"F",_,v)}function fS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function F_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=cs(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=cs(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=cs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(cs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(a=>F_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt()}}(i.compositeFilter.op))}(s):gt()}function dS(s){return tS[s]}function mS(s){return eS[s]}function gS(s){return nS[s]}function os(s){return{fieldPath:s.canonicalString()}}function cs(s){return Be.fromServerFormat(s.fieldPath)}function K_(s){return s instanceof Ae?function(i){if(i.op==="=="){if(ly(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NAN"}};if(sy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ly(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NAN"}};if(sy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(i.field),op:mS(i.op),value:i.value}}}(s):s instanceof ri?function(i){const a=i.getFilters().map(u=>K_(u));return a.length===1?a[0]:{compositeFilter:{op:gS(i.op),filters:a}}}(s):gt()}function pS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Y_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a,u,h=yt.min(),d=yt.min(),g=ke.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.Tt=e}}function _S(s){const e=hS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.Tn=new ES}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Rr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class ES{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Zt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X_=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(X_,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ys(0)}static Un(){return new ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="LruGarbageCollector",TS=1048576;function Sy([s,e],[i,a]){const u=Nt(s,i);return u===0?Nt(e,a):u}class AS{constructor(e){this.Hn=e,this.buffer=new be(Sy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Sy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(Ay,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?it(Ay,"Ignoring IndexedDB error during garbage collection: ",i):await Ss(i)}await this.er(3e5)})}}class bS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Ko.ae);const a=new AS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Ty)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ty):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,g,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),u=this.params.maximumSequenceNumbersToCollect):u=I,d=Date.now(),this.nthSequenceNumber(e,u))).next(I=>(a=I,g=Date.now(),this.removeTargets(e,a,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(I=>(v=Date.now(),ls()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:I})))}}function RS(s,e){return new bS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.changes=new ga(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&kl(a.mutation,u,hn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ct()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ct()){const u=fa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=xl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=fa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ct()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=xi();const d=Bl(),g=function(){return Bl()}();return i.forEach((_,v)=>{const R=a.get(v.key);u.has(v.key)&&(R===void 0||R.mutation instanceof Mr)?h=h.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),kl(R.mutation,v,R.mutation.getFieldMask(),Se.now())):d.set(v.key,hn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var I;return g.set(v,new DS(R,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Bl();let u=new te((d,g)=>d-g),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=a.get(_)||hn.empty();R=g.applyToLocalView(v,R),a.set(_,R);const I=(u.get(g.batchId)||Ct()).add(_);u=u.insert(g.batchId,I)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,R=_.value,I=N_();R.forEach(B=>{if(!h.has(B)){const j=L_(i.get(B),a.get(B));j!==null&&I.set(B,j),h=h.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):NA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(fa());let g=Hl,_=h;return d.next(v=>Q.forEach(v,(R,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(R)?Q.resolve():this.remoteDocumentCache.getEntry(e,R).next(B=>{_=_.insert(R,B)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ct())).next(R=>({batchId:g,changes:V_(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let u=xl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(I,B){return new Zo(B,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(R=>{R.forEach((I,B)=>{d=d.insert(I,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,Qe.newInvalidDocument(R)))});let g=xl();return d.forEach((_,v)=>{const R=h.get(_);R!==void 0&&kl(R.mutation,v,hn.empty(),Se.now()),Jo(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:_S(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.overlays=new te(ft.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=fa();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=fa(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new te((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let R=h.get(v.largestBatchId);R===null&&(R=fa(),h=h.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const g=fa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>g.set(v,R)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new YA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Ct(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.Vr=new be(Me.mr),this.gr=new be(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Me(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ft(new Zt([])),a=new Me(i,e),u=new Me(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ft(new Zt([])),a=new Me(i,e),u=new Me(i,e+1);let h=Ct();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ft.comparator(e.key,i.key)||Nt(e.Cr,i.Cr)}static pr(e,i){return Nt(e.Cr,i.Cr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Me.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new KA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Jf:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Nt);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ft(h),0);let g=new be(Nt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Me(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.kr=e,this.docs=function(){return new te(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=xi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=xi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||lA(sA(R),a)<=0||(u.has(R.key)||Jo(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){gt()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new xS(this)}getSize(e){return Q.resolve(this.size)}}class xS extends wS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.persistence=e,this.Qr=new ga(i=>ed(i),nd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ld,this.targetCount=0,this.Ur=ys.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new ys(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Kr.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Ko(0),this.zr=!1,this.zr=!0,this.jr=new OS,this.referenceDelegate=e(this),this.Hr=new US(this),this.indexManager=new vS,this.remoteDocumentCache=function(u){return new IS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new yS(i),this.Yr=new VS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new NS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new MS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new LS(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class LS extends oA{constructor(e){super(),this.currentSequenceNumber=e}}class ud{constructor(e){this.persistence=e,this.ti=new ld,this.ni=null}static ri(e){return new ud(e)}get ii(){if(this.ni)return this.ni;throw gt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ft.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class jo{constructor(e,i){this.persistence=e,this.oi=new ga(a=>fA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=RS(this,i)}static ri(e,i){return new jo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Do(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Ct(),u=Ct();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new od(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return IE()?8:cA(OE())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new zS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(ls()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(ls()<=Ut.DEBUG&&it("QueryEngine","Query:",us(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(ls()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}rs(e,i){if(hy(i))return Q.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Lf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ct(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Lf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return hy(i)||u.isEqual(yt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(ls()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),us(i)),this.hs(e,d,i,aA(u,Hl)).next(g=>g))})}cs(e,i){let a=new be(D_(e));return i.forEach((u,h)=>{Jo(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return ls()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",us(i)),this.ns.getDocumentsMatchingQuery(e,i,Rr.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="LocalStore",kS=3e8;class PS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new te(Nt),this.Is=new ga(h=>ed(h),nd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function qS(s,e,i,a){return new PS(s,e,i,a)}async function $_(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Ct();for(const v of u){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of h){g.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function HS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,R){const I=v.batch,B=I.keys();let j=Q.resolve();return B.forEach($=>{j=j.next(()=>R.getEntry(_,$)).next(tt=>{const X=v.docVersions.get($);jt(X!==null),tt.version.compareTo(X)<0&&(I.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),R.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,I))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function J_(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function jS(s,e){const i=vt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((R,I)=>{const B=u.get(I);if(!B)return;g.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,I).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,I)));let j=B.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?j=j.withResumeToken(ke.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):R.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(R.resumeToken,a)),u=u.insert(I,j),function(tt,X,St){return tt.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=kS?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(B,j,R)&&g.push(i.Hr.updateTargetData(h,j))});let _=xi(),v=Ct();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),g.push(GS(h,d,e.documentUpdates).next(R=>{_=R.Vs,v=R.fs})),!a.isEqual(yt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(I=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(R)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function GS(s,e,i){let a=Ct(),u=Ct();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=xi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(cd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function QS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Jf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function FS(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function qf(s,e,i){const a=vt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;it(cd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function by(s,e,i){const a=vt(s);let u=yt.min(),h=Ct();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,R){const I=vt(_),B=I.Is.get(R);return B!==void 0?Q.resolve(I.Ts.get(B)):I.Hr.getTargetData(v,R)}(a,d,ti(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Ct())).next(g=>(KS(a,MA(e),g),{documents:g,gs:h})))}function KS(s,e,i){let a=s.Es.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Ry{constructor(){this.activeTargetIds=BA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YS{constructor(){this.ho=new Ry,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ry,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="ConnectivityMonitor";class Dy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(wy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(wy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=null;function Hf(){return bo===null?bo=function(){return 268435456+Math.round(2147483648*Math.random())}():bo++,"0x"+bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="RestConnection",ZS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $S{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===Lo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Hf(),g=this.bo(e,i.toUriEncodedString());it(Tf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,a).then(v=>(it(Tf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ds(Tf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=ZS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class WS extends $S{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Hf();return new Promise((d,g)=>{const _=new n_;_.setWithCredentials(!0),_.listenOnce(i_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case wo.NO_ERROR:const R=_.getResponseJson();it(je,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case wo.TIMEOUT:it(je,`RPC '${e}' ${h} timed out`),g(new ct(K.DEADLINE_EXCEEDED,"Request time out"));break;case wo.HTTP_ERROR:const I=_.getStatus();if(it(je,`RPC '${e}' ${h} failed with status:`,I,"response text:",_.getResponseText()),I>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const j=B==null?void 0:B.error;if(j&&j.status&&j.message){const $=function(X){const St=X.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(St)>=0?St:K.UNKNOWN}(j.status);g(new ct($,j.message))}else g(new ct(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ct(K.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{it(je,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);it(je,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Hf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=s_(),g=a_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const R=h.join("");it(je,`Creating RPC '${e}' stream ${u}: ${R}`,_);const I=d.createWebChannel(R,_);let B=!1,j=!1;const $=new JS({Fo:X=>{j?it(je,`Not sending because RPC '${e}' stream ${u} is closed:`,X):(B||(it(je,`Opening RPC '${e}' stream ${u} transport.`),I.open(),B=!0),it(je,`RPC '${e}' stream ${u} sending:`,X),I.send(X))},Mo:()=>I.close()}),tt=(X,St,pt)=>{X.listen(St,Et=>{try{pt(Et)}catch(rt){setTimeout(()=>{throw rt},0)}})};return tt(I,Il.EventType.OPEN,()=>{j||(it(je,`RPC '${e}' stream ${u} transport opened.`),$.Qo())}),tt(I,Il.EventType.CLOSE,()=>{j||(j=!0,it(je,`RPC '${e}' stream ${u} transport closed`),$.Ko())}),tt(I,Il.EventType.ERROR,X=>{j||(j=!0,ds(je,`RPC '${e}' stream ${u} transport errored:`,X),$.Ko(new ct(K.UNAVAILABLE,"The operation could not be completed")))}),tt(I,Il.EventType.MESSAGE,X=>{var St;if(!j){const pt=X.data[0];jt(!!pt);const Et=pt,rt=(Et==null?void 0:Et.error)||((St=Et[0])===null||St===void 0?void 0:St.error);if(rt){it(je,`RPC '${e}' stream ${u} received error:`,rt);const W=rt.status;let dt=function(A){const D=ge[A];if(D!==void 0)return k_(D)}(W),O=rt.message;dt===void 0&&(dt=K.INTERNAL,O="Unknown error status: "+W+" with message "+rt.message),j=!0,$.Ko(new ct(dt,O)),I.close()}else it(je,`RPC '${e}' stream ${u} received:`,pt),$.Uo(pt)}}),tt(g,r_.STAT_EVENT,X=>{X.stat===Of.PROXY?it(je,`RPC '${e}' stream ${u} detected buffering proxy`):X.stat===Of.NOPROXY&&it(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(s){return new iS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="PersistentStream";class tv{constructor(e,i,a,u,h,d,g,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new W_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new ct(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(Cy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(Cy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t1 extends tv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=sS(this.serializer,e),a=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ni(d.readTime):yt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Pf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Uf(_)?{documents:oS(h,_)}:{query:cS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=H_(h,d.resumeToken);const v=zf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Ho(h,d.snapshotVersion.toTimestamp());const v=zf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=fS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Pf(this.serializer),i.removeTarget=e,this.I_(i)}}class e1 extends tv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=uS(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Pf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>lS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{}class i1 extends n1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ct(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Bf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(K.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Bf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class r1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class a1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{pa(this)&&(it(ma,"Restarting streams for network reachability change."),await async function(_){const v=vt(_);v.W_.add(4),await Zl(v),v.j_.set("Unknown"),v.W_.delete(4),await ic(v)}(this))})}),this.j_=new r1(a,u)}}async function ic(s){if(pa(s))for(const e of s.G_)await e(!0)}async function Zl(s){for(const e of s.G_)await e(!1)}function ev(s,e){const i=vt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),md(i)?dd(i):Rs(i).c_()&&fd(i,e))}function hd(s,e){const i=vt(s),a=Rs(i);i.U_.delete(e),a.c_()&&nv(i,e),i.U_.size===0&&(a.c_()?a.P_():pa(i)&&i.j_.set("Unknown"))}function fd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).y_(e)}function nv(s,e){s.H_.Ne(e),Rs(s).w_(e)}function dd(s){s.H_=new WA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.j_.B_()}function md(s){return pa(s)&&!Rs(s).u_()&&s.U_.size>0}function pa(s){return vt(s).W_.size===0}function iv(s){s.H_=void 0}async function s1(s){s.j_.set("Online")}async function l1(s){s.U_.forEach((e,i)=>{fd(s,e)})}async function u1(s,e){iv(s),md(s)?(s.j_.q_(e),dd(s)):s.j_.set("Unknown")}async function o1(s,e,i){if(s.j_.set("Online"),e instanceof q_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.U_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.U_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(a){it(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Go(s,a)}else if(e instanceof No?s.H_.We(e):e instanceof P_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(yt.min()))try{const a=await J_(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const R=h.U_.get(v);R&&h.U_.set(v,R.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const R=h.U_.get(_);if(!R)return;h.U_.set(_,R.withResumeToken(ke.EMPTY_BYTE_STRING,R.snapshotVersion)),nv(h,_);const I=new _r(R.target,_,v,R.sequenceNumber);fd(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it(ma,"Failed to raise snapshot:",a),await Go(s,a)}}async function Go(s,e,i){if(!bs(e))throw e;s.W_.add(1),await Zl(s),s.j_.set("Offline"),i||(i=()=>J_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ma,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await ic(s)})}function rv(s,e){return e().catch(i=>Go(s,i,e))}async function rc(s){const e=vt(s),i=Vr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Jf;for(;c1(e);)try{const u=await QS(e.localStore,a);if(u===null){e.K_.length===0&&i.P_();break}a=u.batchId,h1(e,u)}catch(u){await Go(e,u)}av(e)&&sv(e)}function c1(s){return pa(s)&&s.K_.length<10}function h1(s,e){s.K_.push(e);const i=Vr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function av(s){return pa(s)&&!Vr(s).u_()&&s.K_.length>0}function sv(s){Vr(s).start()}async function f1(s){Vr(s).C_()}async function d1(s){const e=Vr(s);for(const i of s.K_)e.b_(i.mutations)}async function m1(s,e,i){const a=s.K_.shift(),u=rd.from(a,e,i);await rv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await rc(s)}async function g1(s,e){e&&Vr(s).S_&&await async function(a,u){if(function(d){return ZA(d)&&d!==K.ABORTED}(u.code)){const h=a.K_.shift();Vr(a).h_(),await rv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await rc(a)}}(s,e),av(s)&&sv(s)}async function Vy(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(ma,"RemoteStore received new credentials");const a=pa(i);i.W_.add(3),await Zl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await ic(i)}async function p1(s,e){const i=vt(s);e?(i.W_.delete(2),await ic(i)):e||(i.W_.add(2),await Zl(i),i.j_.set("Unknown"))}function Rs(s){return s.J_||(s.J_=function(i,a,u){const h=vt(i);return h.M_(),new t1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:s1.bind(null,s),No:l1.bind(null,s),Lo:u1.bind(null,s),p_:o1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),md(s)?dd(s):s.j_.set("Unknown")):(await s.J_.stop(),iv(s))})),s.J_}function Vr(s){return s.Y_||(s.Y_=function(i,a,u){const h=vt(i);return h.M_(),new e1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:f1.bind(null,s),Lo:g1.bind(null,s),D_:d1.bind(null,s),v_:m1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await rc(s)):(await s.Y_.stop(),s.K_.length>0&&(it(ma,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new gd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pd(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),bs(s))return new ct(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{static emptySet(e){return new fs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Z_=new te(ft.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):gt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class _s{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new _s(e,i,fs.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$o(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _1{constructor(){this.queries=Oy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=vt(i),h=u.queries;u.queries=Oy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new ct(K.ABORTED,"Firestore shutting down"))}}function Oy(){return new ga(s=>w_(s),$o)}async function v1(s,e){const i=vt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new y1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=pd(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&yd(i)}async function E1(s,e){const i=vt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function T1(s,e){const i=vt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(a=!0);d.ea=u}}a&&yd(i)}function A1(s,e,i){const a=vt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function yd(s){s.ia.forEach(e=>{e.next()})}var jf,My;(My=jf||(jf={}))._a="default",My.Cache="cache";class S1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new _s(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this.key=e}}class uv{constructor(e){this.key=e}}class b1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=D_(e),this.wa=new fs(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Ny,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((R,I)=>{const B=u.get(R),j=Jo(this.query,I)?I:null,$=!!B&&this.mutatedKeys.has(B.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;B&&j?B.data.isEqual(j.data)?$!==tt&&(a.track({type:3,doc:j}),X=!0):this.va(B,j)||(a.track({type:2,doc:j}),X=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(g=!0)):!B&&j?(a.track({type:0,doc:j}),X=!0):B&&!j&&(a.track({type:1,doc:B}),X=!0,(_||v)&&(g=!0)),X&&(j?(d=d.add(j),h=tt?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,I)=>function(j,$){const tt=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return tt(j)-tt($)}(R.type,I.type)||this.ya(R.doc,I.doc)),this.Ca(a),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new _s(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ny,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new uv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new lv(a))}),i}Oa(e){this.fa=e.gs,this.pa=Ct();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return _s.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _d="SyncEngine";class R1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class w1{constructor(e){this.key=e,this.Ba=!1}}class D1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ga(g=>w_(g),$o),this.qa=new Map,this.Qa=new Set,this.$a=new te(ft.comparator),this.Ka=new Map,this.Ua=new ld,this.Wa={},this.Ga=new Map,this.za=ys.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function C1(s,e,i=!0){const a=mv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await ov(a,e,i,!0),u}async function V1(s,e){const i=mv(s);await ov(i,e,!0,!1)}async function ov(s,e,i,a){const u=await FS(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await N1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&ev(s.remoteStore,u),g}async function N1(s,e,i,a,u){s.Ha=(I,B,j)=>async function(tt,X,St,pt){let Et=X.view.ba(St);Et.ls&&(Et=await by(tt.localStore,X.query,!1).then(({documents:O})=>X.view.ba(O,Et)));const rt=pt&&pt.targetChanges.get(X.targetId),W=pt&&pt.targetMismatches.get(X.targetId)!=null,dt=X.view.applyChanges(Et,tt.isPrimaryClient,rt,W);return xy(tt,X.targetId,dt.Ma),dt.snapshot}(s,I,B,j);const h=await by(s.localStore,e,!0),d=new b1(e,h.gs),g=d.ba(h.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);xy(s,i,v.Ma);const R=new R1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function O1(s,e,i){const a=vt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!$o(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await qf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&hd(a.remoteStore,u.targetId),Gf(a,u.targetId)}).catch(Ss)):(Gf(a,u.targetId),await qf(a.localStore,u.targetId,!0))}async function M1(s,e){const i=vt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),hd(i.remoteStore,a.targetId))}async function I1(s,e,i){const a=P1(s);try{const u=await function(d,g){const _=vt(d),v=Se.now(),R=g.reduce((j,$)=>j.add($.key),Ct());let I,B;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=xi(),tt=Ct();return _.ds.getEntries(j,R).next(X=>{$=X,$.forEach((St,pt)=>{pt.isValidDocument()||(tt=tt.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,$)).next(X=>{I=X;const St=[];for(const pt of g){const Et=QA(pt,I.get(pt.key).overlayedDocument);Et!=null&&St.push(new Mr(pt.key,Et,__(Et.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,St,g)}).next(X=>{B=X;const St=X.applyToLocalDocumentSet(I,tt);return _.documentOverlayCache.saveOverlays(j,X.batchId,St)})}).then(()=>({batchId:B.batchId,changes:V_(I)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new te(Nt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await $l(a,u.changes),await rc(a.remoteStore)}catch(u){const h=pd(u,"Failed to persist write");i.reject(h)}}async function cv(s,e){const i=vt(s);try{const a=await jS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?jt(d.Ba):u.removedDocuments.size>0&&(jt(d.Ba),d.Ba=!1))}),await $l(i,a,e)}catch(a){await Ss(a)}}function Iy(s,e,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=vt(d);_.onlineState=g;let v=!1;_.queries.forEach((R,I)=>{for(const B of I.ta)B.sa(g)&&(v=!0)}),v&&yd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function x1(s,e,i){const a=vt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ka.get(e),h=u&&u.key;if(h){let d=new te(ft.comparator);d=d.insert(h,Qe.newNoDocument(h,yt.min()));const g=Ct().add(h),_=new ec(yt.min(),new Map,new te(Nt),d,g);await cv(a,_),a.$a=a.$a.remove(h),a.Ka.delete(e),vd(a)}else await qf(a.localStore,e,!1).then(()=>Gf(a,e,i)).catch(Ss)}async function U1(s,e){const i=vt(s),a=e.batch.batchId;try{const u=await HS(i.localStore,e);fv(i,a,null),hv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,u)}catch(u){await Ss(u)}}async function L1(s,e,i){const a=vt(s);try{const u=await function(d,g){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let R;return _.mutationQueue.lookupMutationBatch(v,g).next(I=>(jt(I!==null),R=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,R,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,R)).next(()=>_.localDocuments.getDocuments(v,R))})}(a.localStore,e);fv(a,e,i),hv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,u)}catch(u){await Ss(u)}}function hv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function fv(s,e,i){const a=vt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Gf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.br(e).forEach(a=>{s.Ua.containsKey(a)||dv(s,a)})}function dv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(hd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),vd(s))}function xy(s,e,i){for(const a of i)a instanceof lv?(s.Ua.addReference(a.key,e),z1(s,a)):a instanceof uv?(it(_d,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||dv(s,a.key)):gt()}function z1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(it(_d,"New document in limbo: "+i),s.Qa.add(a),vd(s))}function vd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ft(Zt.fromString(e)),a=s.za.next();s.Ka.set(a,new w1(i)),s.$a=s.$a.insert(i,a),ev(s.remoteStore,new _r(ti(R_(i.path)),a,"TargetPurposeLimboResolution",Ko.ae))}}async function $l(s,e,i){const a=vt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var R;if((v||i)&&a.isPrimaryClient){const I=v?!v.fromCache:(R=i==null?void 0:i.targetChanges.get(_.targetId))===null||R===void 0?void 0:R.current;a.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){u.push(v);const I=od.Yi(_.targetId,v);h.push(I)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const R=vt(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(v,B=>Q.forEach(B.Hi,j=>R.persistence.referenceDelegate.addReference(I,B.targetId,j)).next(()=>Q.forEach(B.Ji,j=>R.persistence.referenceDelegate.removeReference(I,B.targetId,j)))))}catch(I){if(!bs(I))throw I;it(cd,"Failed to update sequence numbers: "+I)}for(const I of v){const B=I.targetId;if(!I.fromCache){const j=R.Ts.get(B),$=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion($);R.Ts=R.Ts.insert(B,tt)}}}(a.localStore,h))}async function B1(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){it(_d,"User change. New user:",e.toKey());const a=await $_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ct(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Rs)}}function k1(s,e){const i=vt(s),a=i.Ka.get(e);if(a&&a.Ba)return Ct().add(a.key);{let u=Ct();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function mv(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x1.bind(null,e),e.La.p_=T1.bind(null,e.eventManager),e.La.Ja=A1.bind(null,e.eventManager),e}function P1(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L1.bind(null,e),e}class Qo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return qS(this.persistence,new BS,e.initialUser,this.serializer)}Xa(e){return new Z_(ud.ri,this.serializer)}Za(e){return new YS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qo.provider={build:()=>new Qo};class q1 extends Qo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){jt(this.persistence.referenceDelegate instanceof jo);const a=this.persistence.referenceDelegate.garbageCollector;return new SS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Z_(a=>jo.ri(a,i),this.serializer)}}class Qf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Iy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=B1.bind(null,this.syncEngine),await p1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _1}()}createDatastore(e){const i=nc(e.databaseInfo.databaseId),a=function(h){return new WS(h)}(e.databaseInfo);return function(h,d,g,_){return new i1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new a1(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Iy(this.syncEngine,i,0),function(){return Dy.D()?new Dy:new XS}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,R){const I=new D1(u,h,d,g,_,v);return R&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=vt(u);it(ma,"RemoteStore shutting down."),h.W_.add(5),await Zl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class j1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=u_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=pd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Sf(s,e){s.asyncQueue.verifyOperationInProgress(),it(Nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await $_(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Uy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await G1(s);it(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Vy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Vy(e.remoteStore,u)),s._onlineComponents=e}async function G1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Nr,"Using user provided OfflineComponentProvider");try{await Sf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ds("Error using user provided cache. Falling back to memory cache: "+i),await Sf(s,new Qo)}}else it(Nr,"Using default OfflineComponentProvider"),await Sf(s,new q1(void 0));return s._offlineComponents}async function gv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Nr,"Using user provided OnlineComponentProvider"),await Uy(s,s._uninitializedComponentsProvider._online)):(it(Nr,"Using default OnlineComponentProvider"),await Uy(s,new Qf))),s._onlineComponents}function Q1(s){return gv(s).then(e=>e.syncEngine)}async function F1(s){const e=await gv(s),i=e.eventManager;return i.onListen=C1.bind(null,e.syncEngine),i.onUnlisten=O1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=V1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=M1.bind(null,e.syncEngine),i}function K1(s,e,i={}){const a=new Ar;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const R=new H1({next:B=>{R.su(),d.enqueueAndForget(()=>E1(h,I)),B.fromCache&&_.source==="server"?v.reject(new ct(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(B)},error:B=>v.reject(B)}),I=new S1(g,R,{includeMetadataChanges:!0,Ta:!0});return v1(h,I)}(await F1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(s,e,i){if(!i)throw new ct(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Y1(s,e,i,a){if(e===!0&&a===!0)throw new ct(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function zy(s){if(!ft.isDocumentKey(s))throw new ct(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function By(s){if(ft.isDocumentKey(s))throw new ct(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ed(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt()}function vs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ct(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ed(s);throw new ct(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="firestore.googleapis.com",ky=!0;class Py{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_v,this.ssl=ky}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:ky;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TS)throw new ct(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ac{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new $T;switch(a.type){case"firstParty":return new eA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Ly.get(i);a&&(it("ComponentProvider","Removing Datastore"),Ly.delete(i),a.terminate())}(this),Promise.resolve()}}function X1(s,e,i,a={}){var u;const h=(s=vs(s,ac))._getSettings(),d=`${e}:${i}`;if(h.host!==_v&&h.host!==d&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),a.mockUserToken){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Ge.MOCK_USER;else{g=NE(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new ct(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ge(v)}s._authCredentials=new JT(new l_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new sc(this.firestore,e,this._query)}}class Nn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Sr extends sc{constructor(e,i,a){super(e,i,R_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ft(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function qy(s,e,...i){if(s=br(s),yv("collection","path",e),s instanceof ac){const a=Zt.fromString(e,...i);return By(a),new Sr(s,null,a)}{if(!(s instanceof Nn||s instanceof Sr))throw new ct(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return By(a),new Sr(s.firestore,null,a)}}function vv(s,e,...i){if(s=br(s),arguments.length===1&&(e=u_.newId()),yv("doc","path",e),s instanceof ac){const a=Zt.fromString(e,...i);return zy(a),new Nn(s,null,new ft(a))}{if(!(s instanceof Nn||s instanceof Sr))throw new ct(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return zy(a),new Nn(s.firestore,s instanceof Sr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="AsyncQueue";class jy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new W_(this,"async_queue_retry"),this.Su=()=>{const a=Af();a&&it(Hy,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Af();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Af();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ar;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bs(e))throw e;it(Hy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=gd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&gt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class lc extends ac{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new jy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jy(e),this._firestoreClient=void 0,await e}}}function Z1(s,e){const i=typeof s=="object"?s:PT(),a=typeof s=="string"?s:Lo,u=UT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=CE("firestore");h&&X1(u,...h)}return u}function Ev(s){if(s._terminated)throw new ct(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||$1(s),s._firestoreClient}function $1(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,R){return new gA(g,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,pv(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new j1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(ke.fromBase64String(e))}catch(i){throw new ct(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Es(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=/^__.*__$/;class W1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}class Tv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Av(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class bd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Av(this.Lu)&&J1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||nc(e)}ju(e,i,a,u=!1){return new bd({Lu:e,methodName:i,zu:a,path:Be.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sv(s){const e=s._freezeSettings(),i=nc(s._databaseId);return new tb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function eb(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Rd("Data must be an object, but it was:",d,a);const g=bv(a,d);let _,v;if(h.merge)_=new hn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const R=[];for(const I of h.mergeFields){const B=Ff(e,I,i);if(!d.contains(B))throw new ct(K.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);wv(R,B)||R.push(B)}_=new hn(R),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new W1(new nn(g),_,v)}class oc extends Td{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oc}}function nb(s,e,i,a){const u=s.ju(1,e,i);Rd("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();Or(a,(_,v)=>{const R=wd(e,_,i);v=br(v);const I=u.Ku(R);if(v instanceof oc)h.push(R);else{const B=cc(v,I);B!=null&&(h.push(R),d.set(R,B))}});const g=new hn(h);return new Tv(d,g,u.fieldTransforms)}function ib(s,e,i,a,u,h){const d=s.ju(1,e,i),g=[Ff(e,a,i)],_=[u];if(h.length%2!=0)throw new ct(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<h.length;B+=2)g.push(Ff(e,h[B])),_.push(h[B+1]);const v=[],R=nn.empty();for(let B=g.length-1;B>=0;--B)if(!wv(v,g[B])){const j=g[B];let $=_[B];$=br($);const tt=d.Ku(j);if($ instanceof oc)v.push(j);else{const X=cc($,tt);X!=null&&(v.push(j),R.set(j,X))}}const I=new hn(v);return new Tv(R,I,d.fieldTransforms)}function cc(s,e){if(Rv(s=br(s)))return Rd("Unsupported field value:",e,s),bv(s,e);if(s instanceof Td)return function(a,u){if(!Av(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=cc(g,u.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=br(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Ho(u.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ho(u.serializer,h)}}if(a instanceof Ad)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Es)return{bytesValue:H_(u.serializer,a._byteString)};if(a instanceof Nn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:sd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Sd)return function(d,g){return{mapValue:{fields:{[p_]:{stringValue:y_},[zo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return id(g.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${Ed(a)}`)}(s,e)}function bv(s,e){const i={};return c_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(s,(a,u)=>{const h=cc(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Rv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Ad||s instanceof Es||s instanceof Nn||s instanceof Td||s instanceof Sd)}function Rd(s,e,i){if(!Rv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=Ed(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Ff(s,e,i){if((e=br(e))instanceof uc)return e._internalPath;if(typeof e=="string")return wd(s,e);throw Fo("Field path arguments must be of type string or ",s,!1,void 0,i)}const rb=new RegExp("[~\\*/\\[\\]]");function wd(s,e,i){if(e.search(rb)>=0)throw Fo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new uc(...e.split("."))._internalPath}catch{throw Fo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Fo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new ct(K.INVALID_ARGUMENT,g+s+_)}function wv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Cv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ab extends Dv{data(){return super.data()}}function Cv(s,e){return typeof e=="string"?wd(s,e):e instanceof uc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lb{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Or(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[zo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Sd(h)}convertGeoPoint(e){return new Ad(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Xo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=wr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Zt.fromString(e);jt(Y_(a));const u=new Gl(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ob extends Dv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Oo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Cv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Oo extends ob{data(e={}){return super.data(e)}}class cb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ro(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Oo(this._firestore,this._userDataWriter,a.key,a,new Ro(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Oo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ro(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Oo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ro(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,R=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),R=d.indexOf(g.doc.key)),{type:hb(g.type),doc:_,oldIndex:v,newIndex:R}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function hb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class fb extends lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,i)}}function db(s){s=vs(s,sc);const e=vs(s.firestore,lc),i=Ev(e),a=new fb(e);return sb(s._query),K1(i,s._query).then(u=>new cb(e,a,s,u))}function mb(s,e,i,...a){s=vs(s,Nn);const u=vs(s.firestore,lc),h=Sv(u);let d;return d=typeof(e=br(e))=="string"||e instanceof uc?ib(h,"updateDoc",s._key,e,i,a):nb(h,"updateDoc",s._key,e),Vv(u,[d.toMutation(s._key,ei.exists(!0))])}function gb(s,e){const i=vs(s.firestore,lc),a=vv(s),u=ub(s.converter,e);return Vv(i,[eb(Sv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then(()=>a)}function Vv(s,e){return function(a,u){const h=new Ar;return a.asyncQueue.enqueueAndForget(async()=>I1(await Q1(a),u,h)),h.promise}(Ev(s),e)}(function(e,i=!0){(function(u){As=u})(kT),xo(new Pl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new lc(new WT(a.getProvider("auth-internal")),new nA(d,a.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ct(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(v.options.projectId,R)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),hs(Xp,Zp,e),hs(Xp,Zp,"esm2017")})();var pb="firebase",yb="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(pb,yb,"app");const _b={apiKey:"AIzaSyCm20xcM89i6kGpqIKGn2nllgwUbmKqGmw",authDomain:"habittracker-a2060.firebaseapp.com",projectId:"habittracker-a2060",storageBucket:"habittracker-a2060.firebasestorage.app",messagingSenderId:"69908278913",appId:"1:69908278913:web:9ebdff9cd4e3eac780e780",measurementId:"G-Y09PWQ67FC"},vb=Jy(_b),bf=Z1(vb),Eb=()=>{const[s,e]=Vn.useState([]),[i,a]=Vn.useState(new Date),[u,h]=Vn.useState(!1),[d,g]=Vn.useState(""),[_,v]=Vn.useState(!0);Vn.useEffect(()=>{(async()=>{try{const W=qy(bf,"habits"),O=(await db(W)).docs.map(S=>({id:S.id,...S.data(),entries:S.data().entries||{}}));e(O),v(!1)}catch(W){console.error("Error fetching habits:",W),v(!1)}})()},[]);const R=rt=>{const W=new Date(rt),dt=W.getDate()-W.getDay()+1;return Array.from({length:7},(O,S)=>{const A=new Date(W);return A.setDate(dt+S),A})},I=rt=>rt.toISOString().split("T")[0],B=rt=>rt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),j=rt=>rt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),$=rt=>rt.toLocaleDateString("en-US",{weekday:"short"}),tt=rt=>{const W=new Date;return W.setHours(23,59,59,999),rt>W},X=R(i),St=rt=>{const W=Object.keys(rt).sort(),dt=W.length;if(dt===0)return{total:0,totalDays:1,currentStreak:0,longestStreak:0};const O=new Date(Math.min(...W.map(Z=>new Date(Z)))),A=Math.floor((new Date-O)/(1e3*60*60*24))+1;let D=0,V=0,U=0;const w=new Date;w.setDate(w.getDate()-1);const le=I(w),ee=W.includes(le);for(let Z=0;Z<W.length;Z++){const ht=new Date(W[Z]),ut=Z<W.length-1?new Date(W[Z+1]):null;U++,ut?Math.floor((ut-ht)/864e5)>1&&(V=Math.max(V,U),U=0):V=Math.max(V,U)}if(ee){D=1;let Z=new Date(w);for(;;){Z.setDate(Z.getDate()-1);const ht=I(Z);if(W.includes(ht))D++;else break}}return{total:dt,totalDays:A,currentStreak:D,longestStreak:V}},pt=async(rt,W)=>{if(!tt(W))try{const dt=vv(bf,"habits",rt),O=s.find(D=>D.id===rt),S=I(W),A={...O.entries};A[S]?delete A[S]:A[S]=!0,await mb(dt,{entries:A}),e(D=>D.map(V=>V.id===rt?{...V,entries:A}:V))}catch(dt){console.error("Error updating habit:",dt)}},Et=async()=>{if(d.trim())try{const rt=qy(bf,"habits"),W={name:d.trim(),entries:{},createdAt:new Date().toISOString()},O={id:(await gb(rt,W)).id,...W};e(S=>[...S,O]),g(""),h(!1)}catch(rt){console.error("Error adding habit:",rt)}};return _?qt.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):qt.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[qt.jsxs("div",{className:"flex justify-between items-center mb-6",children:[qt.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",onClick:()=>{const rt=new Date(i);rt.setDate(i.getDate()-7),a(rt)},children:qt.jsx(mE,{className:"w-6 h-6"})}),qt.jsxs("h2",{className:"text-lg font-semibold",children:[B(X[0])," - ",j(X[6])]}),qt.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",onClick:()=>{const rt=new Date(i);rt.setDate(i.getDate()+7),a(rt)},children:qt.jsx(pE,{className:"w-6 h-6"})})]}),qt.jsx("div",{className:"space-y-4",children:s.map(rt=>{const W=St(rt.entries);return qt.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[qt.jsxs("div",{className:"flex justify-between items-start mb-2",children:[qt.jsx("h3",{className:"font-medium",children:rt.name}),qt.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[qt.jsxs("span",{className:"mr-4",children:["Total: ",W.total,"/",W.totalDays]}),qt.jsxs("span",{children:["Streak: ",W.currentStreak,"/",W.longestStreak]})]})]}),qt.jsx("div",{className:"grid grid-cols-7 gap-2",children:X.map(dt=>qt.jsxs("div",{className:"flex flex-col items-center",children:[qt.jsx("div",{className:"text-sm text-gray-500 mb-1",children:$(dt)}),qt.jsx("button",{onClick:()=>pt(rt.id,dt),disabled:tt(dt),className:`
                        p-2 rounded-full w-10 h-10 flex items-center justify-center
                        ${rt.entries[I(dt)]?"bg-green-500 text-white":"bg-gray-100"}
                        ${tt(dt)?"opacity-50 cursor-not-allowed":"hover:opacity-80"}
                      `,children:dt.getDate()})]},`day-${I(dt)}`))})]},rt.id)})}),u?qt.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow",children:[qt.jsx("input",{type:"text",value:d,onChange:rt=>g(rt.target.value),placeholder:"New habit name",className:"w-full p-2 border rounded mb-2"}),qt.jsxs("div",{className:"flex justify-end space-x-2",children:[qt.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),qt.jsx("button",{onClick:Et,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"+"})]})]}):qt.jsxs("button",{onClick:()=>h(!0),className:"mt-4 w-full p-4 flex items-center justify-center space-x-2 bg-white rounded-lg shadow hover:bg-gray-50",children:[qt.jsx(_E,{className:"w-5 h-5"}),qt.jsx("span",{children:" "})]})]})};function Tb(){return qt.jsx("div",{className:"min-h-screen bg-gray-50",children:qt.jsx(Eb,{})})}oE.createRoot(document.getElementById("root")).render(qt.jsx(Vn.StrictMode,{children:qt.jsx(Tb,{})}));
