(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Of={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function eT(){if(ly)return jl;ly=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var oy;function nT(){return oy||(oy=1,Of.exports=eT()),Of.exports}var F=nT(),kf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function iT(){if(uy)return wt;uy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,K={};function j(M,J,ft){this.props=M,this.context=J,this.refs=K,this.updater=ft||V}j.prototype.isReactComponent={},j.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function X(){}X.prototype=j.prototype;function nt(M,J,ft){this.props=M,this.context=J,this.refs=K,this.updater=ft||V}var et=nt.prototype=new X;et.constructor=nt,O(et,j.prototype),et.isPureReactComponent=!0;var st=Array.isArray,lt={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function N(M,J,ft,ot,ut,Rt){return ft=Rt.ref,{$$typeof:a,type:M,key:J,ref:ft!==void 0?ft:null,props:Rt}}function A(M,J){return N(M.type,J,void 0,void 0,void 0,M.props)}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function w(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ft){return J[ft]})}var I=/\/+/g;function U(M,J){return typeof M=="object"&&M!==null&&M.key!=null?w(""+M.key):J.toString(36)}function C(){}function Zt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function re(M,J,ft,ot,ut){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var At=!1;if(M===null)At=!0;else switch(Rt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(M.$$typeof){case a:case e:At=!0;break;case T:return At=M._init,re(At(M._payload),J,ft,ot,ut)}}if(At)return ut=ut(M),At=ot===""?"."+U(M,0):ot,st(ut)?(ft="",At!=null&&(ft=At.replace(I,"$&/")+"/"),re(ut,J,ft,"",function(ae){return ae})):ut!=null&&(b(ut)&&(ut=A(ut,ft+(ut.key==null||M&&M.key===ut.key?"":(""+ut.key).replace(I,"$&/")+"/")+At)),J.push(ut)),1;At=0;var de=ot===""?".":ot+":";if(st(M))for(var Pt=0;Pt<M.length;Pt++)ot=M[Pt],Rt=de+U(ot,Pt),At+=re(ot,J,ft,Rt,ut);else if(Pt=x(M),typeof Pt=="function")for(M=Pt.call(M),Pt=0;!(ot=M.next()).done;)ot=ot.value,Rt=de+U(ot,Pt++),At+=re(ot,J,ft,Rt,ut);else if(Rt==="object"){if(typeof M.then=="function")return re(Zt(M),J,ft,ot,ut);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return At}function at(M,J,ft){if(M==null)return M;var ot=[],ut=0;return re(M,ot,"","",function(Rt){return J.call(ft,Rt,ut++)}),ot}function vt(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ft){(M._status===0||M._status===-1)&&(M._status=1,M._result=ft)},function(ft){(M._status===0||M._status===-1)&&(M._status=2,M._result=ft)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var mt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function zt(){}return wt.Children={map:at,forEach:function(M,J,ft){at(M,function(){J.apply(this,arguments)},ft)},count:function(M){var J=0;return at(M,function(){J++}),J},toArray:function(M){return at(M,function(J){return J})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},wt.Component=j,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=nt,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cloneElement=function(M,J,ft){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=O({},M.props),ut=M.key,Rt=void 0;if(J!=null)for(At in J.ref!==void 0&&(Rt=void 0),J.key!==void 0&&(ut=""+J.key),J)!rt.call(J,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&J.ref===void 0||(ot[At]=J[At]);var At=arguments.length-2;if(At===1)ot.children=ft;else if(1<At){for(var de=Array(At),Pt=0;Pt<At;Pt++)de[Pt]=arguments[Pt+2];ot.children=de}return N(M.type,ut,void 0,void 0,Rt,ot)},wt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},wt.createElement=function(M,J,ft){var ot,ut={},Rt=null;if(J!=null)for(ot in J.key!==void 0&&(Rt=""+J.key),J)rt.call(J,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(ut[ot]=J[ot]);var At=arguments.length-2;if(At===1)ut.children=ft;else if(1<At){for(var de=Array(At),Pt=0;Pt<At;Pt++)de[Pt]=arguments[Pt+2];ut.children=de}if(M&&M.defaultProps)for(ot in At=M.defaultProps,At)ut[ot]===void 0&&(ut[ot]=At[ot]);return N(M,Rt,void 0,void 0,null,ut)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:g,render:M}},wt.isValidElement=b,wt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:vt}},wt.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},wt.startTransition=function(M){var J=lt.T,ft={};lt.T=ft;try{var ot=M(),ut=lt.S;ut!==null&&ut(ft,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(zt,mt)}catch(Rt){mt(Rt)}finally{lt.T=J}},wt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},wt.use=function(M){return lt.H.use(M)},wt.useActionState=function(M,J,ft){return lt.H.useActionState(M,J,ft)},wt.useCallback=function(M,J){return lt.H.useCallback(M,J)},wt.useContext=function(M){return lt.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,J){return lt.H.useDeferredValue(M,J)},wt.useEffect=function(M,J){return lt.H.useEffect(M,J)},wt.useId=function(){return lt.H.useId()},wt.useImperativeHandle=function(M,J,ft){return lt.H.useImperativeHandle(M,J,ft)},wt.useInsertionEffect=function(M,J){return lt.H.useInsertionEffect(M,J)},wt.useLayoutEffect=function(M,J){return lt.H.useLayoutEffect(M,J)},wt.useMemo=function(M,J){return lt.H.useMemo(M,J)},wt.useOptimistic=function(M,J){return lt.H.useOptimistic(M,J)},wt.useReducer=function(M,J,ft){return lt.H.useReducer(M,J,ft)},wt.useRef=function(M){return lt.H.useRef(M)},wt.useState=function(M){return lt.H.useState(M)},wt.useSyncExternalStore=function(M,J,ft){return lt.H.useSyncExternalStore(M,J,ft)},wt.useTransition=function(){return lt.H.useTransition()},wt.version="19.0.0",wt}var cy;function Td(){return cy||(cy=1,kf.exports=iT()),kf.exports}var q=Td(),Lf={exports:{}},Hl={},Uf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function rT(){return hy||(hy=1,function(a){function e(at,vt){var mt=at.length;at.push(vt);t:for(;0<mt;){var zt=mt-1>>>1,M=at[zt];if(0<o(M,vt))at[zt]=vt,at[mt]=M,mt=zt;else break t}}function i(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var vt=at[0],mt=at.pop();if(mt!==vt){at[0]=mt;t:for(var zt=0,M=at.length,J=M>>>1;zt<J;){var ft=2*(zt+1)-1,ot=at[ft],ut=ft+1,Rt=at[ut];if(0>o(ot,mt))ut<M&&0>o(Rt,ot)?(at[zt]=Rt,at[ut]=mt,zt=ut):(at[zt]=ot,at[ft]=mt,zt=ft);else if(ut<M&&0>o(Rt,mt))at[zt]=Rt,at[ut]=mt,zt=ut;else break t}}return vt}function o(at,vt){var mt=at.sortIndex-vt.sortIndex;return mt!==0?mt:at.id-vt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,D=null,x=3,V=!1,O=!1,K=!1,j=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function et(at){for(var vt=i(y);vt!==null;){if(vt.callback===null)s(y);else if(vt.startTime<=at)s(y),vt.sortIndex=vt.expirationTime,e(p,vt);else break;vt=i(y)}}function st(at){if(K=!1,et(at),!O)if(i(p)!==null)O=!0,Zt();else{var vt=i(y);vt!==null&&re(st,vt.startTime-at)}}var lt=!1,rt=-1,N=5,A=-1;function b(){return!(a.unstable_now()-A<N)}function w(){if(lt){var at=a.unstable_now();A=at;var vt=!0;try{t:{O=!1,K&&(K=!1,X(rt),rt=-1),V=!0;var mt=x;try{e:{for(et(at),D=i(p);D!==null&&!(D.expirationTime>at&&b());){var zt=D.callback;if(typeof zt=="function"){D.callback=null,x=D.priorityLevel;var M=zt(D.expirationTime<=at);if(at=a.unstable_now(),typeof M=="function"){D.callback=M,et(at),vt=!0;break e}D===i(p)&&s(p),et(at)}else s(p);D=i(p)}if(D!==null)vt=!0;else{var J=i(y);J!==null&&re(st,J.startTime-at),vt=!1}}break t}finally{D=null,x=mt,V=!1}vt=void 0}}finally{vt?I():lt=!1}}}var I;if(typeof nt=="function")I=function(){nt(w)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,C=U.port2;U.port1.onmessage=w,I=function(){C.postMessage(null)}}else I=function(){j(w,0)};function Zt(){lt||(lt=!0,I())}function re(at,vt){rt=j(function(){at(a.unstable_now())},vt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(at){at.callback=null},a.unstable_continueExecution=function(){O||V||(O=!0,Zt())},a.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<at?Math.floor(1e3/at):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(at){switch(x){case 1:case 2:case 3:var vt=3;break;default:vt=x}var mt=x;x=vt;try{return at()}finally{x=mt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(at,vt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var mt=x;x=at;try{return vt()}finally{x=mt}},a.unstable_scheduleCallback=function(at,vt,mt){var zt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,at){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=mt+M,at={id:T++,callback:vt,priorityLevel:at,startTime:mt,expirationTime:M,sortIndex:-1},mt>zt?(at.sortIndex=mt,e(y,at),i(p)===null&&at===i(y)&&(K?(X(rt),rt=-1):K=!0,re(st,mt-zt))):(at.sortIndex=M,e(p,at),O||V||(O=!0,Zt())),at},a.unstable_shouldYield=b,a.unstable_wrapCallback=function(at){var vt=x;return function(){var mt=x;x=vt;try{return at.apply(this,arguments)}finally{x=mt}}}}(zf)),zf}var fy;function aT(){return fy||(fy=1,Uf.exports=rT()),Uf.exports}var Pf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function sT(){if(dy)return Ge;dy=1;var a=Td();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,y,T){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:p,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,T)},Ge.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,D=g(T,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:D,integrity:x,fetchPriority:V}):T==="script"&&s.d.X(p,{crossOrigin:D,integrity:x,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,D=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:D,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var my;function lT(){if(my)return Pf.exports;my=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Pf.exports=sT(),Pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function oT(){if(gy)return Hl;gy=1;var a=aT(),e=Td(),i=lT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),V=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),st=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=lt&&t[lt]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case T:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Provider";case x:return(t._context.displayName||"Context")+".Consumer";case O:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:A(t.type)||"Memo";case nt:n=t._payload,t=t._init;try{return A(t(n))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,I,U;function C(t){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",U=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+U}var Zt=!1;function re(t,n){if(!t||Zt)return"";Zt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var H=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){H=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){H=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var R=_.split(`
`),L=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===L.length)for(l=R.length-1,c=L.length-1;1<=l&&0<=c&&R[l]!==L[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==L[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==L[c]){var Y=`
`+R[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=c);break}}}finally{Zt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?C(r):""}function at(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=re(t.type,!1),t;case 11:return t=re(t.type.render,!1),t;case 1:return t=re(t.type,!0),t;default:return""}}function vt(t){try{var n="";do n+=at(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function mt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function zt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function M(t){if(mt(t)!==t)throw Error(s(188))}function J(t){var n=t.alternate;if(!n){if(n=mt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return M(c),t;if(f===l)return M(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,E=c.child;E;){if(E===r){_=!0,r=c,l=f;break}if(E===l){_=!0,l=c,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,l=c;break}if(E===l){_=!0,l=f,r=c;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ft(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ft(t),n!==null)return n;t=t.sibling}return null}var ot=Array.isArray,ut=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},At=[],de=-1;function Pt(t){return{current:t}}function ae(t){0>de||(t.current=At[de],At[de]=null,de--)}function Ft(t,n){de++,At[de]=t.current,t.current=n}var Ye=Pt(null),oi=Pt(null),mn=Pt(null),Bi=Pt(null);function ji(t,n){switch(Ft(mn,n),Ft(oi,t),Ft(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Lp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Lp(t),n=Up(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(Ye),Ft(Ye,n)}function ui(){ae(Ye),ae(oi),ae(mn)}function Ls(t){t.memoizedState!==null&&Ft(Bi,t);var n=Ye.current,r=Up(n,t.type);n!==r&&(Ft(oi,t),Ft(Ye,r))}function wa(t){oi.current===t&&(ae(Ye),ae(oi)),Bi.current===t&&(ae(Bi),Ll._currentValue=Rt)}var Ra=Object.prototype.hasOwnProperty,jr=a.unstable_scheduleCallback,Da=a.unstable_cancelCallback,kc=a.unstable_shouldYield,Us=a.unstable_requestPaint,tn=a.unstable_now,po=a.unstable_getCurrentPriorityLevel,ve=a.unstable_ImmediatePriority,De=a.unstable_UserBlockingPriority,ci=a.unstable_NormalPriority,yo=a.unstable_LowPriority,zs=a.unstable_IdlePriority,Lc=a.log,Hr=a.unstable_setDisableYieldValue,Hi=null,He=null;function Ps(t){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Hi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof Lc=="function"&&Hr(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Hi,t)}catch{}}var Xe=Math.clz32?Math.clz32:_o,Bs=Math.log,vo=Math.LN2;function _o(t){return t>>>=0,t===0?32:31-(Bs(t)/vo|0)|0}var Pn=128,qi=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Mn(r):(f&=E,f!==0?l=Mn(f):t||(_=E&~_,_!==0&&(l=Mn(_))))):(E=r&~c,E!==0?l=Mn(E):f!==0?l=Mn(f):t||(_=r&~_,_!==0&&(l=Mn(_)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,_=n&-n,c>=_||c===32&&(_&4194176)!==0)?n:l}function Gi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ca(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(){var t=Pn;return Pn<<=1,!(Pn&4194176)&&(Pn=128),t}function Fi(){var t=qi;return qi<<=1,!(qi&62914560)&&(qi=4194304),t}function xa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eo(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,L=t.hiddenUpdates;for(r=_&~r;0<r;){var Y=31-Xe(r),W=1<<Y;E[Y]=0,R[Y]=-1;var H=L[Y];if(H!==null)for(L[Y]=null,Y=0;Y<H.length;Y++){var Q=H[Y];Q!==null&&(Q.lane&=-536870913)}r&=~W}l!==0&&Qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Ki(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function To(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function So(){var t=ut.p;return t!==0?t:(t=window.event,t===void 0?32:ey(t.type))}function Yi(t,n){var r=ut.p;try{return ut.p=t,n()}finally{ut.p=r}}var Bn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Bn,_e="__reactProps$"+Bn,hi="__reactContainer$"+Bn,qr="__reactEvents$"+Bn,Na="__reactListeners$"+Bn,jn="__reactHandles$"+Bn,Hs="__reactResources$"+Bn,Xi="__reactMarker$"+Bn;function Gr(t){delete t[Ce],delete t[_e],delete t[qr],delete t[Na],delete t[jn]}function In(t){var n=t[Ce];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hi]||r[Ce]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Bp(t);t!==null;){if(r=t[Ce])return r;t=Bp(t)}return n}t=r,r=t.parentNode}return null}function fi(t){if(t=t[Ce]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function $i(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Zi(t){var n=t[Hs];return n||(n=t[Hs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(t){t[Xi]=!0}var qs=new Set,Va={};function sn(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(Va[t]=n,t=0;t<n.length;t++)qs.add(n[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gs={},Fs={};function bo(t){return Ra.call(Fs,t)?!0:Ra.call(Gs,t)?!1:Uc.test(t)?Fs[t]=!0:(Gs[t]=!0,!1)}function Wi(t,n,r){if(bo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ji(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ao(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zc(t){var n=Ao(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fr(t){t._valueTracker||(t._valueTracker=zc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ao(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var di=/[\n"\\]/g;function se(t){return t.replace(di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tr(t,n,r,l,c,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ia(t,_,$e(n)):r!=null?Ia(t,_,$e(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function Qr(t,n,r,l,c,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ia(t,n,r){n==="number"&&Ma(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Kr(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function er(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Pc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function wo(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ks(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ks(t,f,n[f])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return jc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vn=null;function Oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function pi(t){var n=fi(t);if(n&&(t=n.stateNode)){var r=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(tr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[_e]||null;if(!c)throw Error(s(90));tr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Qs(l)}break t;case"textarea":Kr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Bt(t,!!r.multiple,n,!1)}}}var Xs=!1;function Ro(t,n,r){if(Xs)return t(n,r);Xs=!0;try{var l=t(n);return l}finally{if(Xs=!1,(mi!==null||gi!==null)&&(yu(),mi&&(n=mi,t=gi,gi=mi=null,pi(n),t)))for(n=0;n<t.length;n++)pi(t[n])}}function Yr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[_e]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var _n=!1;if(ln)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{_n=!1}var qn=null,nr=null,yi=null;function $s(){if(yi)return yi;var t,n=nr,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Zs(){return!1}function xe(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Zs,this.isPropagationStopped=Zs,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=xe(qt),$r=w({},qt,{view:0,detail:0}),Do=xe($r),La,Ua,Qn,Zr=w({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(La=t.screenX-Qn.screenX,Ua=t.screenY-Qn.screenY):Ua=La=0,Qn=t),La)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),En=xe(Zr),Co=w({},Zr,{dataTransfer:0}),Hc=xe(Co),Wr=w({},$r,{relatedTarget:0}),za=xe(Wr),Ws=w({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=xe(Ws),xo=w({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=xe(xo),qc=w({},qt,{data:0}),Js=xe(qc),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vo[t])?!!n[t]:!1}function ta(){return tl}var Mo=w({},$r,{key:function(t){if(t.key){var n=Jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?No[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ja=xe(Mo),Io=w({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=xe(Io),vi=w({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Oo=xe(vi),ko=w({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lo=xe(ko),Uo=w({},Zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=xe(Uo),Ze=w({},qt,{newState:0,oldState:0}),zo=xe(Ze),Po=[9,13,27,32],Kn=ln&&"CompositionEvent"in window,u=null;ln&&"documentMode"in document&&(u=document.documentMode);var m=ln&&"TextEvent"in window&&!u,v=ln&&(!Kn||u&&8<u&&11>=u),S=" ",P=!1;function G(t,n){switch(t){case"keyup":return Po.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function Ee(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(P=!0,S);case"textInput":return t=n.data,t===S&&P?null:t;default:return null}}function Ot(t,n){if(It)return t==="compositionend"||!Kn&&G(t,n)?(t=$s(),yi=nr=qn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Su(n,"onChange"),0<n.length&&(r=new ka("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ke=null,Yn=null;function nl(t){Vp(t,0)}function Bo(t){var n=$i(t);if(Qs(n))return t}function sm(t,n){if(t==="change")return n}var lm=!1;if(ln){var Gc;if(ln){var Fc="oninput"in document;if(!Fc){var om=document.createElement("div");om.setAttribute("oninput","return;"),Fc=typeof om.oninput=="function"}Gc=Fc}else Gc=!1;lm=Gc&&(!document.documentMode||9<document.documentMode)}function um(){ke&&(ke.detachEvent("onpropertychange",cm),Yn=ke=null)}function cm(t){if(t.propertyName==="value"&&Bo(Yn)){var n=[];_i(n,Yn,t,Oa(t)),Ro(nl,n)}}function V0(t,n,r){t==="focusin"?(um(),ke=n,Yn=r,ke.attachEvent("onpropertychange",cm)):t==="focusout"&&um()}function M0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(Yn)}function I0(t,n){if(t==="click")return Bo(n)}function O0(t,n){if(t==="input"||t==="change")return Bo(n)}function k0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:k0;function il(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ra.call(n,c)||!on(t[c],n[c]))return!1}return!0}function hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fm(t,n){var r=hm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hm(r)}}function dm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?dm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ma(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ma(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function L0(t,n){var r=mm(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&dm(n.ownerDocument.documentElement,n)){if(l!==null&&Qc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=fm(n,f);var _=fm(n,l);c&&_&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var U0=ln&&"documentMode"in document&&11>=document.documentMode,qa=null,Kc=null,rl=null,Yc=!1;function gm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yc||qa==null||qa!==Ma(l)||(l=qa,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Su(Kc,"onSelect"),0<l.length&&(n=new ka("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=qa)))}function ea(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ga={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Xc={},pm={};ln&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function na(t){if(Xc[t])return Xc[t];if(!Ga[t])return t;var n=Ga[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in pm)return Xc[t]=n[r];return t}var ym=na("animationend"),vm=na("animationiteration"),_m=na("animationstart"),z0=na("transitionrun"),P0=na("transitionstart"),B0=na("transitioncancel"),Em=na("transitionend"),Tm=new Map,Sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Tm.set(t,n),sn(n,[t])}var Tn=[],Fa=0,$c=0;function jo(){for(var t=Fa,n=$c=Fa=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&bm(r,c,f)}}function Ho(t,n,r,l){Tn[Fa++]=t,Tn[Fa++]=n,Tn[Fa++]=r,Tn[Fa++]=l,$c|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zc(t,n,r,l){return Ho(t,n,r,l),qo(t)}function ir(t,n){return Ho(t,null,null,n),qo(t)}function bm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Xe(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function qo(t){if(50<xl)throw xl=0,rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qa={},Am=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var r=Am.get(t);return r!==void 0?r:(n={value:t,source:n,stack:vt(n)},Am.set(t,n),n)}return{value:t,source:n,stack:vt(n)}}var Ka=[],Ya=0,Go=null,Fo=0,bn=[],An=0,ia=null,Ei=1,Ti="";function ra(t,n){Ka[Ya++]=Fo,Ka[Ya++]=Go,Go=t,Fo=n}function wm(t,n,r){bn[An++]=Ei,bn[An++]=Ti,bn[An++]=ia,ia=t;var l=Ei;t=Ti;var c=32-Xe(l)-1;l&=~(1<<c),r+=1;var f=32-Xe(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,Ei=1<<32-Xe(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function Wc(t){t.return!==null&&(ra(t,1),wm(t,1,0))}function Jc(t){for(;t===Go;)Go=Ka[--Ya],Ka[Ya]=null,Fo=Ka[--Ya],Ka[Ya]=null;for(;t===ia;)ia=bn[--An],bn[An]=null,Ti=bn[--An],bn[An]=null,Ei=bn[--An],bn[An]=null}var We=null,Le=null,jt=!1,kn=null,Xn=!1,th=Error(s(519));function aa(t){var n=Error(s(418,""));throw ll(Sn(n,t)),th}function Rm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ce]=t,n[_e]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Vl.length;r++)Vt(Vl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),er(n,l.value,l.defaultValue,l.children),Fr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||kp(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=bu),n=!0):n=!1,n||aa(t)}function Dm(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:Xn=!0;return;case 5:case 13:Xn=!1;return;default:We=We.return}}function al(t){if(t!==We)return!1;if(!jt)return Dm(t),jt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Tf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Le&&aa(t),Dm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Le=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?Un(t.stateNode.nextSibling):null;return!0}function sl(){Le=We=null,jt=!1}function ll(t){kn===null?kn=[t]:kn.push(t)}var ol=Error(s(460)),Cm=Error(s(474)),eh={then:function(){}};function xm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qo(){}function Nm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Qo,Qo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ol?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Qo,Qo);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ol?Error(s(483)):t}throw ul=n,ol}}var ul=null;function Vm(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}var Xa=null,cl=0;function Ko(t){var n=cl;return cl+=1,Xa===null&&(Xa=[]),Nm(Xa,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yo(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mm(t){var n=t._init;return n(t._payload)}function Im(t){function n(z,k){if(t){var B=z.deletions;B===null?(z.deletions=[k],z.flags|=16):B.push(k)}}function r(z,k){if(!t)return null;for(;k!==null;)n(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function c(z,k){return z=gr(z,k),z.index=0,z.sibling=null,z}function f(z,k,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<k?(z.flags|=33554434,k):B):(z.flags|=33554434,k)):(z.flags|=1048576,k)}function _(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function E(z,k,B,$){return k===null||k.tag!==6?(k=Xh(B,z.mode,$),k.return=z,k):(k=c(k,B),k.return=z,k)}function R(z,k,B,$){var ht=B.type;return ht===p?Y(z,k,B.props.children,$,B.key):k!==null&&(k.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===nt&&Mm(ht)===k.type)?(k=c(k,B.props),hl(k,B),k.return=z,k):(k=fu(B.type,B.key,B.props,null,z.mode,$),hl(k,B),k.return=z,k)}function L(z,k,B,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=$h(B,z.mode,$),k.return=z,k):(k=c(k,B.children||[]),k.return=z,k)}function Y(z,k,B,$,ht){return k===null||k.tag!==7?(k=ga(B,z.mode,$,ht),k.return=z,k):(k=c(k,B),k.return=z,k)}function W(z,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Xh(""+k,z.mode,B),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case d:return B=fu(k.type,k.key,k.props,null,z.mode,B),hl(B,k),B.return=z,B;case g:return k=$h(k,z.mode,B),k.return=z,k;case nt:var $=k._init;return k=$(k._payload),W(z,k,B)}if(ot(k)||rt(k))return k=ga(k,z.mode,B,null),k.return=z,k;if(typeof k.then=="function")return W(z,Ko(k),B);if(k.$$typeof===V)return W(z,uu(z,k),B);Yo(z,k)}return null}function H(z,k,B,$){var ht=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ht!==null?null:E(z,k,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===ht?R(z,k,B,$):null;case g:return B.key===ht?L(z,k,B,$):null;case nt:return ht=B._init,B=ht(B._payload),H(z,k,B,$)}if(ot(B)||rt(B))return ht!==null?null:Y(z,k,B,$,null);if(typeof B.then=="function")return H(z,k,Ko(B),$);if(B.$$typeof===V)return H(z,k,uu(z,B),$);Yo(z,B)}return null}function Q(z,k,B,$,ht){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(B)||null,E(k,z,""+$,ht);if(typeof $=="object"&&$!==null){switch($.$$typeof){case d:return z=z.get($.key===null?B:$.key)||null,R(k,z,$,ht);case g:return z=z.get($.key===null?B:$.key)||null,L(k,z,$,ht);case nt:var Ct=$._init;return $=Ct($._payload),Q(z,k,B,$,ht)}if(ot($)||rt($))return z=z.get(B)||null,Y(k,z,$,ht,null);if(typeof $.then=="function")return Q(z,k,B,Ko($),ht);if($.$$typeof===V)return Q(z,k,B,uu(k,$),ht);Yo(k,$)}return null}function dt(z,k,B,$){for(var ht=null,Ct=null,gt=k,_t=k=0,Ie=null;gt!==null&&_t<B.length;_t++){gt.index>_t?(Ie=gt,gt=null):Ie=gt.sibling;var Ht=H(z,gt,B[_t],$);if(Ht===null){gt===null&&(gt=Ie);break}t&&gt&&Ht.alternate===null&&n(z,gt),k=f(Ht,k,_t),Ct===null?ht=Ht:Ct.sibling=Ht,Ct=Ht,gt=Ie}if(_t===B.length)return r(z,gt),jt&&ra(z,_t),ht;if(gt===null){for(;_t<B.length;_t++)gt=W(z,B[_t],$),gt!==null&&(k=f(gt,k,_t),Ct===null?ht=gt:Ct.sibling=gt,Ct=gt);return jt&&ra(z,_t),ht}for(gt=l(gt);_t<B.length;_t++)Ie=Q(gt,z,_t,B[_t],$),Ie!==null&&(t&&Ie.alternate!==null&&gt.delete(Ie.key===null?_t:Ie.key),k=f(Ie,k,_t),Ct===null?ht=Ie:Ct.sibling=Ie,Ct=Ie);return t&&gt.forEach(function(Sr){return n(z,Sr)}),jt&&ra(z,_t),ht}function St(z,k,B,$){if(B==null)throw Error(s(151));for(var ht=null,Ct=null,gt=k,_t=k=0,Ie=null,Ht=B.next();gt!==null&&!Ht.done;_t++,Ht=B.next()){gt.index>_t?(Ie=gt,gt=null):Ie=gt.sibling;var Sr=H(z,gt,Ht.value,$);if(Sr===null){gt===null&&(gt=Ie);break}t&&gt&&Sr.alternate===null&&n(z,gt),k=f(Sr,k,_t),Ct===null?ht=Sr:Ct.sibling=Sr,Ct=Sr,gt=Ie}if(Ht.done)return r(z,gt),jt&&ra(z,_t),ht;if(gt===null){for(;!Ht.done;_t++,Ht=B.next())Ht=W(z,Ht.value,$),Ht!==null&&(k=f(Ht,k,_t),Ct===null?ht=Ht:Ct.sibling=Ht,Ct=Ht);return jt&&ra(z,_t),ht}for(gt=l(gt);!Ht.done;_t++,Ht=B.next())Ht=Q(gt,z,_t,Ht.value,$),Ht!==null&&(t&&Ht.alternate!==null&&gt.delete(Ht.key===null?_t:Ht.key),k=f(Ht,k,_t),Ct===null?ht=Ht:Ct.sibling=Ht,Ct=Ht);return t&&gt.forEach(function(tT){return n(z,tT)}),jt&&ra(z,_t),ht}function ue(z,k,B,$){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var ht=B.key;k!==null;){if(k.key===ht){if(ht=B.type,ht===p){if(k.tag===7){r(z,k.sibling),$=c(k,B.props.children),$.return=z,z=$;break t}}else if(k.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===nt&&Mm(ht)===k.type){r(z,k.sibling),$=c(k,B.props),hl($,B),$.return=z,z=$;break t}r(z,k);break}else n(z,k);k=k.sibling}B.type===p?($=ga(B.props.children,z.mode,$,B.key),$.return=z,z=$):($=fu(B.type,B.key,B.props,null,z.mode,$),hl($,B),$.return=z,z=$)}return _(z);case g:t:{for(ht=B.key;k!==null;){if(k.key===ht)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){r(z,k.sibling),$=c(k,B.children||[]),$.return=z,z=$;break t}else{r(z,k);break}else n(z,k);k=k.sibling}$=$h(B,z.mode,$),$.return=z,z=$}return _(z);case nt:return ht=B._init,B=ht(B._payload),ue(z,k,B,$)}if(ot(B))return dt(z,k,B,$);if(rt(B)){if(ht=rt(B),typeof ht!="function")throw Error(s(150));return B=ht.call(B),St(z,k,B,$)}if(typeof B.then=="function")return ue(z,k,Ko(B),$);if(B.$$typeof===V)return ue(z,k,uu(z,B),$);Yo(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(r(z,k.sibling),$=c(k,B),$.return=z,z=$):(r(z,k),$=Xh(B,z.mode,$),$.return=z,z=$),_(z)):r(z,k)}return function(z,k,B,$){try{cl=0;var ht=ue(z,k,B,$);return Xa=null,ht}catch(gt){if(gt===ol)throw gt;var Ct=Cn(29,gt,null,z.mode);return Ct.lanes=$,Ct.return=z,Ct}finally{}}}var sa=Im(!0),Om=Im(!1),$a=Pt(null),Xo=Pt(0);function km(t,n){t=Mi,Ft(Xo,t),Ft($a,n),Mi=t|n.baseLanes}function nh(){Ft(Xo,Mi),Ft($a,$a.current)}function ih(){Mi=Xo.current,ae($a),ae(Xo)}var wn=Pt(null),$n=null;function rr(t){var n=t.alternate;Ft(Se,Se.current&1),Ft(wn,t),$n===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&($n=t)}function Lm(t){if(t.tag===22){if(Ft(Se,Se.current),Ft(wn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else ar()}function ar(){Ft(Se,Se.current),Ft(wn,wn.current)}function Si(t){ae(wn),$n===t&&($n=null),ae(Se)}var Se=Pt(0);function $o(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var j0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},H0=a.unstable_scheduleCallback,q0=a.unstable_NormalPriority,be={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new j0,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&H0(q0,function(){t.controller.abort()})}var dl=null,ah=0,Za=0,Wa=null;function G0(t,n){if(dl===null){var r=dl=[];ah=0,Za=ff(),Wa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ah++,n.then(Um,Um),n}function Um(){if(--ah===0&&dl!==null){Wa!==null&&(Wa.status="fulfilled");var t=dl;dl=null,Za=0,Wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function F0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var zm=b.S;b.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&G0(t,n),zm!==null&&zm(t,n)};var la=Pt(null);function sh(){var t=la.current;return t!==null?t:Xt.pooledCache}function Zo(t,n){n===null?Ft(la,la.current):Ft(la,n.pool)}function Pm(){var t=sh();return t===null?null:{parent:be._currentValue,pool:t}}var sr=0,Dt=null,Qt=null,me=null,Wo=!1,Ja=!1,oa=!1,Jo=0,ml=0,ts=null,Q0=0;function he(){throw Error(s(321))}function lh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!on(t[r],n[r]))return!1;return!0}function oh(t,n,r,l,c,f){return sr=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=t===null||t.memoizedState===null?ua:lr,oa=!1,f=r(l,c),oa=!1,Ja&&(f=jm(n,r,l,c)),Bm(t),f}function Bm(t){b.H=Zn;var n=Qt!==null&&Qt.next!==null;if(sr=0,me=Qt=Dt=null,Wo=!1,ml=0,ts=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&ou(t)&&(Ve=!0))}function jm(t,n,r,l){Dt=t;var c=0;do{if(Ja&&(ts=null),ml=0,Ja=!1,25<=c)throw Error(s(301));if(c+=1,me=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}b.H=ca,f=n(r,l)}while(Ja);return f}function K0(){var t=b.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Dt.flags|=1024),n}function uh(){var t=Jo!==0;return Jo=0,t}function ch(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function hh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}sr=0,me=Qt=Dt=null,Ja=!1,ml=Jo=0,ts=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Dt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Qt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=me===null?Dt.memoizedState:me.next;if(n!==null)me=n,Qt=t;else{if(t===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?Dt.memoizedState=me=t:me=me.next=t}return me}var tu;tu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gl(t){var n=ml;return ml+=1,ts===null&&(ts=[]),t=Nm(ts,t,n),n=Dt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?ua:lr),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===V)return qe(t)}throw Error(s(438,String(t)))}function fh(t){var n=null,r=Dt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=tu(),Dt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=st;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=ge();return dh(n,Qt,t)}function dh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=_=null,R=null,L=n,Y=!1;do{var W=L.lane&-536870913;if(W!==L.lane?(kt&W)===W:(sr&W)===W){var H=L.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),W===Za&&(Y=!0);else if((sr&H)===H){L=L.next,H===Za&&(Y=!0);continue}else W={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=W,_=f):R=R.next=W,Dt.lanes|=H,pr|=H;W=L.action,oa&&r(f,W),f=L.hasEagerState?L.eagerState:r(f,W)}else H={lane:W,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=H,_=f):R=R.next=H,Dt.lanes|=W,pr|=W;L=L.next}while(L!==null&&L!==n);if(R===null?_=f:R.next=E,!on(f,t.memoizedState)&&(Ve=!0,Y&&(r=Wa,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);on(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Hm(t,n,r){var l=Dt,c=ge(),f=jt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!on((Qt||c).memoizedState,r);if(_&&(c.memoizedState=r,Ve=!0),c=c.queue,yh(Fm.bind(null,l,c,t),[t]),c.getSnapshot!==n||_||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,es(9,Gm.bind(null,l,c,r,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||sr&60||qm(l,n,r)}return r}function qm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Dt.updateQueue,n===null?(n=tu(),Dt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Gm(t,n,r,l){n.value=r,n.getSnapshot=l,Qm(n)&&Km(t)}function Fm(t,n,r){return r(function(){Qm(n)&&Km(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!on(t,r)}catch{return!0}}function Km(t){var n=ir(t,2);n!==null&&Je(n,t,2)}function gh(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),oa){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Ym(t,n,r,l){return t.baseState=r,dh(t,Qt,typeof l=="function"?l:bi)}function Y0(t,n,r,l,c){if(au(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};b.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Xm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Xm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=b.T,_={};b.T=_;try{var E=r(c,l),R=b.S;R!==null&&R(_,E),$m(t,n,E)}catch(L){ph(t,n,L)}finally{b.T=f}}else try{f=r(c,l),$m(t,n,f)}catch(L){ph(t,n,L)}}function $m(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Zm(t,n,l)},function(l){return ph(t,n,l)}):Zm(t,n,r)}function Zm(t,n,r){n.status="fulfilled",n.value=r,Wm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Xm(t,r)))}function ph(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Wm(n),n=n.next;while(n!==l)}t.action=null}function Wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Jm(t,n){return n}function tg(t,n){if(jt){var r=Xt.formState;if(r!==null){t:{var l=Dt;if(jt){if(Le){e:{for(var c=Le,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Le=Un(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:n},r.queue=l,r=vg.bind(null,Dt,l),l.dispatch=r,l=gh(!1),f=Sh.bind(null,Dt,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Y0.bind(null,Dt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function eg(t){var n=ge();return ng(n,Qt,t)}function ng(t,n,r){n=dh(t,n,Jm)[0],t=nu(bi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?gl(n):n;var l=ge(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Dt.flags|=2048,es(9,X0.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function X0(t,n){t.action=n}function ig(t){var n=ge(),r=Qt;if(r!==null)return ng(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function es(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Dt.updateQueue,n===null&&(n=tu(),Dt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function rg(){return ge().memoizedState}function iu(t,n,r,l){var c=nn();Dt.flags|=t,c.memoizedState=es(1|n,r,{destroy:void 0},l===void 0?null:l)}function ru(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&lh(l,Qt.memoizedState.deps)?c.memoizedState=es(n,r,f,l):(Dt.flags|=t,c.memoizedState=es(1|n,r,f,l))}function ag(t,n){iu(8390656,8,t,n)}function yh(t,n){ru(2048,8,t,n)}function sg(t,n){return ru(4,2,t,n)}function lg(t,n){return ru(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ug(t,n,r){r=r!=null?r.concat([t]):null,ru(4,4,og.bind(null,n,t),r)}function vh(){}function cg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function hg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),oa){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function _h(t,n,r){return r===void 0||sr&1073741824?t.memoizedState=n:(t.memoizedState=r,t=dp(),Dt.lanes|=t,pr|=t,r)}function fg(t,n,r,l){return on(r,n)?r:$a.current!==null?(t=_h(t,r,l),on(t,n)||(Ve=!0),t):sr&42?(t=dp(),Dt.lanes|=t,pr|=t,n):(Ve=!0,t.memoizedState=r)}function dg(t,n,r,l,c){var f=ut.p;ut.p=f!==0&&8>f?f:8;var _=b.T,E={};b.T=E,Sh(t,!1,n,r);try{var R=c(),L=b.S;if(L!==null&&L(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=F0(R,l);pl(t,n,Y,fn(t))}else pl(t,n,l,fn(t))}catch(W){pl(t,n,{then:function(){},status:"rejected",reason:W},fn())}finally{ut.p=f,b.T=_}}function $0(){}function Eh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=mg(t).queue;dg(t,c,n,Rt,r===null?$0:function(){return gg(t),r(l)})}function mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:Rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function gg(t){var n=mg(t).next.queue;pl(t,n,{},fn())}function Th(){return qe(Ll)}function pg(){return ge().memoizedState}function yg(){return ge().memoizedState}function Z0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=cr(r);var l=hr(n,t,r);l!==null&&(Je(l,n,r),_l(l,n,r)),n={cache:rh()},t.payload=n;return}n=n.return}}function W0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},au(t)?_g(n,r):(r=Zc(t,n,r,l),r!==null&&(Je(r,t,l),Eg(r,n,l)))}function vg(t,n,r){var l=fn();pl(t,n,r,l)}function pl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(au(t))_g(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(c.hasEagerState=!0,c.eagerState=E,on(E,_))return Ho(t,n,c,0),Xt===null&&jo(),!1}catch{}finally{}if(r=Zc(t,n,c,l),r!==null)return Je(r,t,l),Eg(r,n,l),!0}return!1}function Sh(t,n,r,l){if(l={lane:2,revertLane:ff(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(s(479))}else n=Zc(t,r,l,2),n!==null&&Je(n,t,2)}function au(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function _g(t,n){Ja=Wo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Eg(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ki(t,r)}}var Zn={readContext:qe,use:eu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he};Zn.useCacheRefresh=he,Zn.useMemoCache=he,Zn.useHostTransitionStatus=he,Zn.useFormState=he,Zn.useActionState=he,Zn.useOptimistic=he;var ua={readContext:qe,use:eu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:ag,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,iu(4194308,4,og.bind(null,n,t),r)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(oa){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var c=r(n);if(oa){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=W0.bind(null,Dt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,r=vg.bind(null,Dt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:vh,useDeferredValue:function(t,n){var r=nn();return _h(r,t,n)},useTransition:function(){var t=gh(!1);return t=dg.bind(null,Dt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Dt,c=nn();if(jt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xt===null)throw Error(s(349));kt&60||qm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,ag(Fm.bind(null,l,f,t),[t]),l.flags|=2048,es(9,Gm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=nn(),n=Xt.identifierPrefix;if(jt){var r=Ti,l=Ei;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Jo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Q0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=Z0.bind(null,Dt)}};ua.useMemoCache=fh,ua.useHostTransitionStatus=Th,ua.useFormState=tg,ua.useActionState=tg,ua.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sh.bind(null,Dt,!0,r),r.dispatch=n,[t,n]};var lr={readContext:qe,use:eu,useCallback:cg,useContext:qe,useEffect:yh,useImperativeHandle:ug,useInsertionEffect:sg,useLayoutEffect:lg,useMemo:hg,useReducer:nu,useRef:rg,useState:function(){return nu(bi)},useDebugValue:vh,useDeferredValue:function(t,n){var r=ge();return fg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=nu(bi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Hm,useId:pg};lr.useCacheRefresh=yg,lr.useMemoCache=fh,lr.useHostTransitionStatus=Th,lr.useFormState=eg,lr.useActionState=eg,lr.useOptimistic=function(t,n){var r=ge();return Ym(r,Qt,t,n)};var ca={readContext:qe,use:eu,useCallback:cg,useContext:qe,useEffect:yh,useImperativeHandle:ug,useInsertionEffect:sg,useLayoutEffect:lg,useMemo:hg,useReducer:mh,useRef:rg,useState:function(){return mh(bi)},useDebugValue:vh,useDeferredValue:function(t,n){var r=ge();return Qt===null?_h(r,t,n):fg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=mh(bi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Hm,useId:pg};ca.useCacheRefresh=yg,ca.useMemoCache=fh,ca.useHostTransitionStatus=Th,ca.useFormState=ig,ca.useActionState=ig,ca.useOptimistic=function(t,n){var r=ge();return Qt!==null?Ym(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function bh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ah={isMounted:function(t){return(t=t._reactInternals)?mt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=cr(l);c.payload=n,r!=null&&(c.callback=r),n=hr(t,c,l),n!==null&&(Je(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=cr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=hr(t,c,l),n!==null&&(Je(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=cr(r);l.tag=2,n!=null&&(l.callback=n),n=hr(t,l,r),n!==null&&(Je(n,t,r),_l(n,t,r))}};function Tg(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function Sg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Ah.enqueueReplaceState(n,n.state,null)}function ha(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function bg(t){su(t)}function Ag(t){console.error(t)}function wg(t){su(t)}function lu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,r){return r=cr(r),r.tag=3,r.payload={element:null},r.callback=function(){lu(t,n)},r}function Dg(t){return t=cr(t),t.tag=3,t}function Cg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Rg(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Rg(n,r,l),typeof c!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function J0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&vl(n,r,c,!0),r=wn.current,r!==null){switch(r.tag){case 13:return $n===null?lf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===eh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),uf(t,l,c)),!1;case 22:return r.flags|=65536,l===eh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),uf(t,l,c)),!1}throw Error(s(435,r.tag))}return uf(t,l,c),lf(),!1}if(jt)return n=wn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==th&&(t=Error(s(422),{cause:l}),ll(Sn(t,r)))):(l!==th&&(n=Error(s(423),{cause:l}),ll(Sn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Sn(l,r),c=wh(t.stateNode,l,c),Bh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Sn(f,r),Dl===null?Dl=[f]:Dl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Sn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=wh(r.stateNode,l,t),Bh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(yr===null||!yr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Dg(c),Cg(c,t,r,l),Bh(r,c),!1}r=r.return}while(r!==null);return!1}var xg=Error(s(461)),Ve=!1;function Ue(t,n,r,l){n.child=t===null?Om(n,null,r,l):sa(n,t.child,r,l)}function Ng(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return da(n),l=oh(t,n,r,_,f,c),E=uh(),t!==null&&!Ve?(ch(t,n,c),Ai(t,n,c)):(jt&&E&&Wc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Vg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Mg(t,n,f,l,c)):(t=fu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Oh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(_,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gr(f,l),t.ref=n.ref,t.return=n,n.child=t}function Mg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Oh(t,c))t.flags&131072&&(Ve=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return Rh(t,n,r,l,c)}function Ig(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(yl(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=_!==null?_.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Og(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(n,_!==null?_.cachePool:null),_!==null?km(n,_):nh(),Lm(n);else return n.lanes=n.childLanes=536870912,Og(t,n,_!==null?_.baseLanes|r:r,r)}else _!==null?(Zo(n,_.cachePool),km(n,_),ar(),n.memoizedState=null):(t!==null&&Zo(n,null),nh(),ar());return Ue(t,n,c,r),n.child}function Og(t,n,r,l){var c=sh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Zo(n,null),nh(),Lm(n),t!==null&&vl(t,n,l,!0),null}function yl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Rh(t,n,r,l,c){return da(n),r=oh(t,n,r,l,void 0,c),l=uh(),t!==null&&!Ve?(ch(t,n,c),Ai(t,n,c)):(jt&&l&&Wc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function kg(t,n,r,l,c,f){return da(n),n.updateQueue=null,r=jm(n,l,r,c),Bm(t),l=uh(),t!==null&&!Ve?(ch(t,n,f),Ai(t,n,f)):(jt&&l&&Wc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function Lg(t,n,r,l,c){if(da(n),n.stateNode===null){var f=Qa,_=r.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ah,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},zh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?qe(_):Qa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(bh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Ah.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ha(r,E);f.props=R;var L=f.context,Y=r.contextType;_=Qa,typeof Y=="object"&&Y!==null&&(_=qe(Y));var W=r.getDerivedStateFromProps;Y=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==_)&&Sg(n,f,l,_),ur=!1;var H=n.memoizedState;f.state=H,Tl(n,l,f,c),El(),L=n.memoizedState,E||H!==L||ur?(typeof W=="function"&&(bh(n,r,W,l),L=n.memoizedState),(R=ur||Tg(n,r,R,l,H,L,_))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=_,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ph(t,n),_=n.memoizedProps,Y=ha(r,_),f.props=Y,W=n.pendingProps,H=f.context,L=r.contextType,R=Qa,typeof L=="object"&&L!==null&&(R=qe(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||H!==R)&&Sg(n,f,l,R),ur=!1,H=n.memoizedState,f.state=H,Tl(n,l,f,c),El();var Q=n.memoizedState;_!==W||H!==Q||ur||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof E=="function"&&(bh(n,r,E,l),Q=n.memoizedState),(Y=ur||Tg(n,r,Y,l,H,Q,R)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=R,l=Y):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,yl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=sa(n,t.child,null,c),n.child=sa(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function Ug(t,n,r,l){return sl(),n.flags|=256,Ue(t,n,r,l),n.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Ch(t){return{baseLanes:t,cachePool:Pm()}}function xh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=xn),t}function zg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?rr(n):ar(),jt){var E=Le,R;if(R=E){t:{for(R=E,E=Xn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ia!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912},R=Cn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,Le=null,R=!0):R=!1}R||aa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(ar(),c=n.mode,E=Vh({mode:"hidden",children:E},c),l=ga(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ch(r),c.childLanes=xh(t,_,r),n.memoizedState=Dh,l):(rr(n),Nh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(rr(n),n.flags&=-257,n=Mh(t,n,r)):n.memoizedState!==null?(ar(),n.child=t.child,n.flags|=128,n=null):(ar(),c=l.fallback,E=n.mode,l=Vh({mode:"visible",children:l.children},E),c=ga(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,sa(n,t.child,null,r),l=n.child,l.memoizedState=Ch(r),l.childLanes=xh(t,_,r),n.memoizedState=Dh,n=c);else if(rr(n),E.data==="$!"){if(_=E.nextSibling&&E.nextSibling.dataset,_)var L=_.dgst;_=L,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),n=Mh(t,n,r)}else if(Ve||vl(t,n,r,!1),_=(r&t.childLanes)!==0,Ve||_){if(_=Xt,_!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(_.suspendedLanes|r)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,ir(t,l),Je(_,t,l),xg}E.data==="$?"||lf(),n=Mh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=mE.bind(null,t),E._reactRetry=n,n=null):(t=R.treeContext,Le=Un(E.nextSibling),We=n,jt=!0,kn=null,Xn=!1,t!==null&&(bn[An++]=Ei,bn[An++]=Ti,bn[An++]=ia,Ei=t.id,Ti=t.overflow,ia=n),n=Nh(n,l.children),n.flags|=4096);return n}return c?(ar(),c=l.fallback,E=n.mode,R=t.child,L=R.sibling,l=gr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,L!==null?c=gr(L,c):(c=ga(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ch(r):(R=E.cachePool,R!==null?(L=be._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=Pm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=xh(t,_,r),n.memoizedState=Dh,l):(rr(n),r=t.child,t=r.sibling,r=gr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Nh(t,n){return n=Vh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Vh(t,n){return cp(t,n,0,null)}function Mh(t,n,r){return sa(n,t.child,null,r),t=Nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Lh(t.return,n,r)}function Ih(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Bg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Se.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,r,n);else if(t.tag===19)Pg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Se,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&$o(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Ih(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&$o(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Ih(n,!0,r,null,f);break;case"together":Ih(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),pr|=n.lanes,!(r&n.childLanes))if(t!==null){if(vl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=gr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Oh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function tE(t,n,r){switch(n.tag){case 3:ji(n,n.stateNode.containerInfo),or(n,be,t.memoizedState.cache),sl();break;case 27:case 5:Ls(n);break;case 4:ji(n,n.stateNode.containerInfo);break;case 10:or(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(rr(n),n.flags|=128,null):r&n.child.childLanes?zg(t,n,r):(rr(n),t=Ai(t,n,r),t!==null?t.sibling:null);rr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(vl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Bg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Ig(t,n,r);case 24:or(n,be,t.memoizedState.cache)}return Ai(t,n,r)}function jg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Oh(t,r)&&!(n.flags&128))return Ve=!1,tE(t,n,r);Ve=!!(t.flags&131072)}else Ve=!1,jt&&n.flags&1048576&&wm(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Yh(l)?(t=ha(l,t),n.tag=1,n=Lg(null,n,l,t,r)):(n.tag=0,n=Rh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===O){n.tag=11,n=Ng(null,n,l,t,r);break t}else if(c===X){n.tag=14,n=Vg(null,n,l,t,r);break t}}throw n=A(l)||l,Error(s(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ha(l,n.pendingProps),Lg(t,n,l,c,r);case 3:t:{if(ji(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Ph(t,n),Tl(n,f,null,r);var _=n.memoizedState;if(f=_.cache,or(n,be,f),f!==c.cache&&Uh(n,[be],r,!0),El(),f=_.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Ug(t,n,f,r);break t}else if(f!==l){l=Sn(Error(s(424)),n),ll(l),n=Ug(t,n,f,r);break t}else for(Le=Un(n.stateNode.containerInfo.firstChild),We=n,jt=!0,kn=null,Xn=!0,r=Om(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sl(),f===l){n=Ai(t,n,r);break t}Ue(t,n,f,r)}n=n.child}return n;case 26:return yl(t,n),t===null?(r=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,t=n.pendingProps,l=Au(mn.current).createElement(r),l[Ce]=n,l[_e]=t,ze(l,r,t),Jt(l),n.stateNode=l):n.memoizedState=Gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ls(n),t===null&&jt&&(l=n.stateNode=jp(n.type,n.pendingProps,mn.current),We=n,Xn=!0,Le=Un(l.firstChild)),l=n.pendingProps.children,t!==null||jt?Ue(t,n,l,r):n.child=sa(n,null,l,r),yl(t,n),n.child;case 5:return t===null&&jt&&((c=l=Le)&&(l=NE(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,We=n,Le=Un(l.firstChild),Xn=!1,c=!0):c=!1),c||aa(n)),Ls(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Tf(c,f)?l=null:_!==null&&Tf(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=oh(t,n,K0,null,null,r),Ll._currentValue=c),yl(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&jt&&((t=r=Le)&&(r=VE(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,We=n,Le=null,t=!0):t=!1),t||aa(n)),null;case 13:return zg(t,n,r);case 4:return ji(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=sa(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,or(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,da(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return Vg(t,n,n.type,n.pendingProps,r);case 15:return Mg(t,n,n.type,n.pendingProps,r);case 19:return Bg(t,n,r);case 22:return Ig(t,n,r);case 24:return da(n),l=qe(be),t===null?(c=sh(),c===null&&(c=Xt,f=rh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},zh(n),or(n,be,c)):(t.lanes&r&&(Ph(t,n),Tl(n,null,null,r),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),or(n,be,l)):(l=f.cache,or(n,be,l),l!==c.cache&&Uh(n,[be],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var kh=Pt(null),fa=null,wi=null;function or(t,n,r){Ft(kh,n._currentValue),n._currentValue=r}function Ri(t){t._currentValue=kh.current,ae(kh)}function Lh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Uh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Lh(f.return,r,t),l||(_=null);break t}f=E.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Lh(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function vl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=c.type;on(c.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(c===Bi.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&Uh(n,t,r,l),n.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function da(t){fa=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Hg(fa,t)}function uu(t,n){return fa===null&&da(t),Hg(t,n)}function Hg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},wi===null){if(t===null)throw Error(s(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return r}var ur=!1;function zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ph(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,ee&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qo(t),bm(t,null,r),n}return Ho(t,l,n,r),qo(t)}function _l(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ki(t,r)}}function Bh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var jh=!1;function El(){if(jh){var t=Wa;if(t!==null)throw t}}function Tl(t,n,r,l){jh=!1;var c=t.updateQueue;ur=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,L=R.next;R.next=null,_===null?f=L:_.next=L,_=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==_&&(E===null?Y.firstBaseUpdate=L:E.next=L,Y.lastBaseUpdate=R))}if(f!==null){var W=c.baseState;_=0,Y=L=R=null,E=f;do{var H=E.lane&-536870913,Q=H!==E.lane;if(Q?(kt&H)===H:(l&H)===H){H!==0&&H===Za&&(jh=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=t,St=E;H=n;var ue=r;switch(St.tag){case 1:if(dt=St.payload,typeof dt=="function"){W=dt.call(ue,W,H);break t}W=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=St.payload,H=typeof dt=="function"?dt.call(ue,W,H):dt,H==null)break t;W=w({},W,H);break t;case 2:ur=!0}}H=E.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=c.callbacks,Q===null?c.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(L=Y=Q,R=W):Y=Y.next=Q,_|=H;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,c.lastBaseUpdate=Q,c.shared.pending=null}}while(!0);Y===null&&(R=W),c.baseState=R,c.firstBaseUpdate=L,c.lastBaseUpdate=Y,f===null&&(c.shared.lanes=0),pr|=_,t.lanes=_,t.memoizedState=W}}function qg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Gg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)qg(r[t],n)}function Sl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function fr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,c=n;var R=r;try{E()}catch(L){Yt(c,R,L)}}}l=l.next}while(l!==f)}}catch(L){Yt(n,n.return,L)}}function Fg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Gg(n,r)}catch(l){Yt(t,t.return,l)}}}function Qg(t,n,r){r.props=ha(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function ma(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function un(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function Kg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function Yg(t,n,r){try{var l=t.stateNode;wE(l,t.type,r,n),l[_e]=n}catch(c){Yt(t,t.return,c)}}function Xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=bu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(qh(t,n,r),t=t.sibling;t!==null;)qh(t,n,r),t=t.sibling}function cu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(cu(t,n,r),t=t.sibling;t!==null;)cu(t,n,r),t=t.sibling}var Di=!1,le=!1,Gh=!1,$g=typeof WeakSet=="function"?WeakSet:Set,Me=null,Zg=!1;function eE(t,n){if(t=t.containerInfo,_f=Nu,t=mm(t),Qc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,R=-1,L=0,Y=0,W=t,H=null;e:for(;;){for(var Q;W!==r||c!==0&&W.nodeType!==3||(E=_+c),W!==f||l!==0&&W.nodeType!==3||(R=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)H=W,W=Q;for(;;){if(W===t)break e;if(H===r&&++L===c&&(E=_),H===f&&++Y===l&&(R=_),(Q=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=Q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ef={focusedElem:t,selectionRange:r},Nu=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var dt=ha(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(St){Yt(r,r.return,St)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}return dt=Zg,Zg=!1,dt}function Wg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:xi(t,r),l&4&&Sl(5,r);break;case 1:if(xi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var c=ha(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}l&64&&Fg(r),l&512&&ma(r,r.return);break;case 3:if(xi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Gg(l,t)}catch(E){Yt(r,r.return,E)}}break;case 26:xi(t,r),l&512&&ma(r,r.return);break;case 27:case 5:xi(t,r),n===null&&l&4&&Kg(r),l&512&&ma(r,r.return);break;case 12:xi(t,r);break;case 13:xi(t,r),l&4&&ep(t,r);break;case 22:if(c=r.memoizedState!==null||Di,!c){n=n!==null&&n.memoizedState!==null||le;var f=Di,_=le;Di=c,(le=n)&&!_?dr(t,r,(r.subtreeFlags&8772)!==0):xi(t,r),Di=f,le=_}l&512&&(r.memoizedProps.mode==="manual"?ma(r,r.return):un(r,r.return));break;default:xi(t,r)}}function Jg(t){var n=t.alternate;n!==null&&(t.alternate=null,Jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,cn=!1;function Ci(t,n,r){for(r=r.child;r!==null;)tp(t,n,r),r=r.sibling}function tp(t,n,r){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Hi,r)}catch{}switch(r.tag){case 26:le||un(r,n),Ci(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||un(r,n);var l=pe,c=cn;for(pe=r.stateNode,Ci(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Gr(r),pe=l,cn=c;break;case 5:le||un(r,n);case 6:c=pe;var f=cn;if(pe=null,Ci(t,n,r),pe=c,cn=f,pe!==null)if(cn)try{t=pe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Yt(r,n,_)}else try{pe.removeChild(r.stateNode)}catch(_){Yt(r,n,_)}break;case 18:pe!==null&&(cn?(n=pe,r=r.stateNode,n.nodeType===8?bf(n.parentNode,r):n.nodeType===1&&bf(n,r),Bl(n)):bf(pe,r.stateNode));break;case 4:l=pe,c=cn,pe=r.stateNode.containerInfo,cn=!0,Ci(t,n,r),pe=l,cn=c;break;case 0:case 11:case 14:case 15:le||fr(2,r,n),le||fr(4,r,n),Ci(t,n,r);break;case 1:le||(un(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Qg(r,n,l)),Ci(t,n,r);break;case 21:Ci(t,n,r);break;case 22:le||un(r,n),le=(l=le)||r.memoizedState!==null,Ci(t,n,r),le=l;break;default:Ci(t,n,r)}}function ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){Yt(n,n.return,r)}}function nE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $g),n;default:throw Error(s(435,t.tag))}}function Fh(t,n){var r=nE(t);n.forEach(function(l){var c=gE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:case 5:pe=E.stateNode,cn=!1;break t;case 3:pe=E.stateNode.containerInfo,cn=!0;break t;case 4:pe=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(pe===null)throw Error(s(160));tp(f,_,c),pe=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)np(n,t),n=n.sibling}var Ln=null;function np(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),Dn(t),l&4&&(fr(3,t,t.return),Sl(3,t),fr(5,t,t.return));break;case 1:Rn(n,t),Dn(t),l&512&&(le||r===null||un(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ln;if(Rn(n,t),Dn(t),l&512&&(le||r===null||un(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Xi]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[Ce]=t,Jt(f),l=f;break t;case"link":var _=Kp("link","href",c).get(l+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(_=Kp("meta","content",c).get(l+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ce]=t,Jt(f),l=f}t.stateNode=l}else Yp(c,t.type,t.stateNode);else t.stateNode=Qp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Yp(c,t.type,t.stateNode):Qp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var R=c.firstChild;R;){var L=R.nextSibling,Y=R.nodeName;R[Xi]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=L}for(var W=t.type,H=c.attributes;H.length;)c.removeAttributeNode(H[0]);ze(c,W,f),c[Ce]=t,c[_e]=f}catch(dt){Yt(t,t.return,dt)}}case 5:if(Rn(n,t),Dn(t),l&512&&(le||r===null||un(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(dt){Yt(t,t.return,dt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Yg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(Rn(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(dt){Yt(t,t.return,dt)}}break;case 3:if(Du=null,c=Ln,Ln=wu(n.containerInfo),Rn(n,t),Ln=c,Dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(dt){Yt(t,t.return,dt)}Gh&&(Gh=!1,ip(t));break;case 4:l=Ln,Ln=wu(t.stateNode.containerInfo),Rn(n,t),Dn(t),Ln=l;break;case 12:Rn(n,t),Dn(t);break;case 13:Rn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tf=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 22:if(l&512&&(le||r===null||un(r,r.return)),R=t.memoizedState!==null,L=r!==null&&r.memoizedState!==null,Y=Di,W=le,Di=Y||R,le=W||L,Rn(n,t),le=W,Di=Y,Dn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Di||le,r===null||L||n||ns(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){L=r=n;try{if(c=L.stateNode,R)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=L.stateNode,E=L.memoizedProps.style;var Q=E!=null&&E.hasOwnProperty("display")?E.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(dt){Yt(L,L.return,dt)}}}else if(n.tag===6){if(r===null){L=n;try{L.stateNode.nodeValue=R?"":L.memoizedProps}catch(dt){Yt(L,L.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Fh(t,r))));break;case 19:Rn(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 21:break;default:Rn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Xg(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Hh(t);cu(t,f,c);break;case 5:var _=l.stateNode;l.flags&32&&(yn(_,""),l.flags&=-33);var E=Hh(t);cu(t,E,_);break;case 3:case 4:var R=l.stateNode.containerInfo,L=Hh(t);qh(t,L,R);break;default:throw Error(s(161))}}}catch(Y){Yt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ip(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ip(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function ns(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fr(4,n,n.return),ns(n);break;case 1:un(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Qg(n,n.return,r),ns(n);break;case 26:case 27:case 5:un(n,n.return),ns(n);break;case 22:un(n,n.return),n.memoizedState===null&&ns(n);break;default:ns(n)}t=t.sibling}}function dr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:dr(c,f,r),Sl(4,f);break;case 1:if(dr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Yt(l,l.return,L)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)qg(R[c],E)}catch(L){Yt(l,l.return,L)}}r&&_&64&&Fg(f),ma(f,f.return);break;case 26:case 27:case 5:dr(c,f,r),r&&l===null&&_&4&&Kg(f),ma(f,f.return);break;case 12:dr(c,f,r);break;case 13:dr(c,f,r),r&&_&4&&ep(c,f);break;case 22:f.memoizedState===null&&dr(c,f,r),ma(f,f.return);break;default:dr(c,f,r)}n=n.sibling}}function Qh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fl(r))}function Kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function mr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(t,n,r,l),n=n.sibling}function rp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:mr(t,n,r,l),c&2048&&Sl(9,n);break;case 3:mr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){mr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else mr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?mr(t,n,r,l):bl(t,n):f._visibility&4?mr(t,n,r,l):(f._visibility|=4,is(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Qh(n.alternate,n);break;case 24:mr(t,n,r,l),c&2048&&Kh(n.alternate,n);break;default:mr(t,n,r,l)}}function is(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,E=r,R=l,L=_.flags;switch(_.tag){case 0:case 11:case 15:is(f,_,E,R,c),Sl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?is(f,_,E,R,c):bl(f,_):(Y._visibility|=4,is(f,_,E,R,c)),c&&L&2048&&Qh(_.alternate,_);break;case 24:is(f,_,E,R,c),c&&L&2048&&Kh(_.alternate,_);break;default:is(f,_,E,R,c)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:bl(r,l),c&2048&&Qh(l.alternate,l);break;case 24:bl(r,l),c&2048&&Kh(l.alternate,l);break;default:bl(r,l)}n=n.sibling}}var Al=8192;function rs(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 26:rs(t),t.flags&Al&&t.memoizedState!==null&&GE(Ln,t.memoizedState,t.memoizedProps);break;case 5:rs(t);break;case 3:case 4:var n=Ln;Ln=wu(t.stateNode.containerInfo),rs(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,rs(t),Al=n):rs(t));break;default:rs(t)}}function sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Me=l,op(l,t)}sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&fr(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,hu(t)):wl(t);break;default:wl(t)}}function hu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Me=l,op(l,t)}sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fr(8,n,n.return),hu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,hu(n));break;default:hu(n)}t=t.sibling}}function op(t,n){for(;Me!==null;){var r=Me;switch(r.tag){case 0:case 11:case 15:fr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Me=l;else t:for(r=t;Me!==null;){l=Me;var c=l.sibling,f=l.return;if(Jg(l),l===r){Me=null;break t}if(c!==null){c.return=f,Me=c;break t}Me=f}}}function iE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,r,l){return new iE(t,n,r,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gr(t,n){var r=t.alternate;return r===null?(r=Cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function up(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fu(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")Yh(t)&&(_=1);else if(typeof t=="string")_=HE(t,r,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return ga(r.children,c,f,n);case y:_=8,c|=24;break;case T:return t=Cn(12,r,n,c|2),t.elementType=T,t.lanes=f,t;case K:return t=Cn(13,r,n,c),t.elementType=K,t.lanes=f,t;case j:return t=Cn(19,r,n,c),t.elementType=j,t.lanes=f,t;case et:return cp(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:case V:_=10;break t;case x:_=9;break t;case O:_=11;break t;case X:_=14;break t;case nt:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Cn(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ga(t,n,r,l){return t=Cn(7,t,l,n),t.lanes=r,t}function cp(t,n,r,l){t=Cn(22,t,l,n),t.elementType=et,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var _=ir(f,2);_!==null&&(c._pendingVisibility|=2,Je(_,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if(c._pendingVisibility&2){var _=ir(f,2);_!==null&&(c._pendingVisibility&=-3,Je(_,f,2))}}};return t.stateNode=c,t}function Xh(t,n,r){return t=Cn(6,t,null,n),t.lanes=r,t}function $h(t,n,r){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ni(t){t.flags|=4}function hp(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n)){if(n=wn.current,n!==null&&((kt&4194176)===kt?$n!==null:(kt&62914560)!==kt&&!(kt&536870912)||n!==$n))throw ul=eh,Cm;t.flags|=8192}}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Fi():536870912,t.lanes|=n,ss|=n)}function Rl(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function rE(t,n,r){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ri(be),ui(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,kn!==null&&(af(kn),kn=null))),te(n),null;case 26:return r=n.memoizedState,t===null?(Ni(n),r!==null?(te(n),hp(n,r)):(te(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ni(n),te(n),hp(n,r)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ni(n),te(n),n.flags&=-16777217),null;case 27:wa(n),r=mn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=Ye.current,al(n)?Rm(n):(t=jp(c,l,r),n.stateNode=t,Ni(n))}return te(n),null;case 5:if(wa(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(t=Ye.current,al(n))Rm(n);else{switch(c=Au(mn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ce]=n,t[_e]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ni(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mn.current,al(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ce]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||kp(t.nodeValue,r)),t||aa(n)}else t=Au(t).createTextNode(l),t[Ce]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ce]=n}else sl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else kn!==null&&(af(kn),kn=null),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),du(n,n.updateQueue),te(n),null;case 4:return ui(),t===null&&pf(n.stateNode.containerInfo),te(n),null;case 10:return Ri(n.type),te(n),null;case 19:if(ae(Se),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Rl(c,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=$o(t),f!==null){for(n.flags|=128,Rl(c,!1),t=f.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)up(r,t),r=r.sibling;return Ft(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&tn()>mu&&(n.flags|=128,l=!0,Rl(c,!1),n.lanes=4194304)}else{if(!l)if(t=$o(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),Rl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return te(n),null}else 2*tn()-c.renderingStartTime>mu&&r!==536870912&&(n.flags|=128,l=!0,Rl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tn(),n.sibling=null,t=Se.current,Ft(Se,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return Si(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&du(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ae(la),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(be),te(n),null;case 25:return null}throw Error(s(156,n.tag))}function aE(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(be),ui(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return wa(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(Se),null;case 4:return ui(),null;case 10:return Ri(n.type),null;case 22:case 23:return Si(n),ih(),t!==null&&ae(la),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(be),null;case 25:return null;default:return null}}function fp(t,n){switch(Jc(n),n.tag){case 3:Ri(be),ui();break;case 26:case 27:case 5:wa(n);break;case 4:ui();break;case 13:Si(n);break;case 19:ae(Se);break;case 10:Ri(n.type);break;case 22:case 23:Si(n),ih(),t!==null&&ae(la);break;case 24:Ri(be)}}var sE={getCacheForType:function(t){var n=qe(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},lE=typeof WeakMap=="function"?WeakMap:Map,ee=0,Xt=null,xt=null,kt=0,$t=0,hn=null,Vi=!1,as=!1,Zh=!1,Mi=0,oe=0,pr=0,pa=0,Wh=0,xn=0,ss=0,Dl=null,Wn=null,Jh=!1,tf=0,mu=1/0,gu=null,yr=null,pu=!1,ya=null,Cl=0,ef=0,nf=null,xl=0,rf=null;function fn(){if(ee&2&&kt!==0)return kt&-kt;if(b.T!==null){var t=Za;return t!==0?t:ff()}return So()}function dp(){xn===0&&(xn=!(kt&536870912)||jt?js():536870912);var t=wn.current;return t!==null&&(t.flags|=32),xn}function Je(t,n,r){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(ls(t,0),Ii(t,kt,xn,!1)),ce(t,r),(!(ee&2)||t!==Xt)&&(t===Xt&&(!(ee&2)&&(pa|=r),oe===4&&Ii(t,kt,xn,!1)),Jn(t))}function mp(t,n,r){if(ee&6)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Gi(t,n),c=l?cE(t,n):of(t,n,!0),f=l;do{if(c===0){as&&!l&&Ii(t,n,0,!1);break}else if(c===6)Ii(t,n,0,!Vi);else{if(r=t.current.alternate,f&&!oE(r)){c=of(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=t;c=Dl;var R=E.current.memoizedState.isDehydrated;if(R&&(ls(E,_).flags|=256),_=of(E,_,!1),_!==2){if(Zh&&!R){E.errorRecoveryDisabledLanes|=f,pa|=f,c=4;break t}f=Wn,Wn=c,f!==null&&af(f)}c=_}if(f=!1,c!==2)continue}}if(c===1){ls(t,0),Ii(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ii(l,n,xn,!Vi);break t}break;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=tf+300-tn(),10<f)){if(Ii(l,n,xn,!Vi),gn(l,0)!==0)break t;l.timeoutHandle=zp(gp.bind(null,l,r,Wn,gu,Jh,n,xn,pa,ss,Vi,2,-0,0),f);break t}gp(l,r,Wn,gu,Jh,n,xn,pa,ss,Vi,0,-0,0)}}break}while(!0);Jn(t)}function af(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function gp(t,n,r,l,c,f,_,E,R,L,Y,W,H){var Q=n.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:qE},ap(n),n=FE(),n!==null)){t.cancelPendingCommit=n(Sp.bind(null,t,r,l,c,_,E,R,1,W,H)),Ii(t,f,_,!L);return}Sp(t,r,l,c,_,E,R,Y,W,H)}function oE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,r,l){n&=~Wh,n&=~pa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&Qi(t,r,n)}function yu(){return ee&6?!0:(Nl(0),!1)}function sf(){if(xt!==null){if($t===0)var t=xt.return;else t=xt,wi=fa=null,hh(t),Xa=null,cl=0,t=xt;for(;t!==null;)fp(t.alternate,t),t=t.return;xt=null}}function ls(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,DE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),sf(),Xt=t,xt=r=gr(t.current,null),kt=n,$t=0,hn=null,Vi=!1,as=Gi(t,n),Zh=!1,ss=xn=Wh=pa=pr=oe=0,Wn=Dl=null,Jh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Mi=n,jo(),r}function pp(t,n){Dt=null,b.H=Zn,n===ol?(n=Vm(),$t=3):n===Cm?(n=Vm(),$t=4):$t=n===xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,xt===null&&(oe=1,lu(t,Sn(n,t.current)))}function yp(){var t=b.H;return b.H=Zn,t===null?Zn:t}function vp(){var t=b.A;return b.A=sE,t}function lf(){oe=4,Vi||(kt&4194176)!==kt&&wn.current!==null||(as=!0),!(pr&134217727)&&!(pa&134217727)||Xt===null||Ii(Xt,kt,xn,!1)}function of(t,n,r){var l=ee;ee|=2;var c=yp(),f=vp();(Xt!==t||kt!==n)&&(gu=null,ls(t,n)),n=!1;var _=oe;t:do try{if($t!==0&&xt!==null){var E=xt,R=hn;switch($t){case 8:sf(),_=6;break t;case 3:case 2:case 6:wn.current===null&&(n=!0);var L=$t;if($t=0,hn=null,os(t,E,R,L),r&&as){_=0;break t}break;default:L=$t,$t=0,hn=null,os(t,E,R,L)}}uE(),_=oe;break}catch(Y){pp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,wi=fa=null,ee=l,b.H=c,b.A=f,xt===null&&(Xt=null,kt=0,jo()),_}function uE(){for(;xt!==null;)_p(xt)}function cE(t,n){var r=ee;ee|=2;var l=yp(),c=vp();Xt!==t||kt!==n?(gu=null,mu=tn()+500,ls(t,n)):as=Gi(t,n);t:do try{if($t!==0&&xt!==null){n=xt;var f=hn;e:switch($t){case 1:$t=0,hn=null,os(t,n,f,1);break;case 2:if(xm(f)){$t=0,hn=null,Ep(n);break}n=function(){$t===2&&Xt===t&&($t=7),Jn(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:xm(f)?($t=0,hn=null,Ep(n)):($t=0,hn=null,os(t,n,f,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var E=xt;if(!_||Xp(_)){$t=0,hn=null;var R=E.sibling;if(R!==null)xt=R;else{var L=E.return;L!==null?(xt=L,vu(L)):xt=null}break e}}$t=0,hn=null,os(t,n,f,5);break;case 6:$t=0,hn=null,os(t,n,f,6);break;case 8:sf(),oe=6;break t;default:throw Error(s(462))}}hE();break}catch(Y){pp(t,Y)}while(!0);return wi=fa=null,b.H=l,b.A=c,ee=r,xt!==null?0:(Xt=null,kt=0,jo(),oe)}function hE(){for(;xt!==null&&!kc();)_p(xt)}function _p(t){var n=jg(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,n===null?vu(t):xt=n}function Ep(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=kg(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=kg(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:hh(n);default:fp(r,n),n=xt=up(n,Mi),n=jg(r,n,Mi)}t.memoizedProps=t.pendingProps,n===null?vu(t):xt=n}function os(t,n,r,l){wi=fa=null,hh(n),Xa=null,cl=0;var c=n.return;try{if(J0(t,c,n,r,kt)){oe=1,lu(t,Sn(r,t.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;oe=1,lu(t,Sn(r,t.current)),xt=null;return}n.flags&32768?(jt||l===1?t=!0:as||kt&536870912?t=!1:(Vi=t=!0,(l===2||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tp(n,t)):vu(n)}function vu(t){var n=t;do{if(n.flags&32768){Tp(n,Vi);return}t=n.return;var r=rE(n.alternate,n,Mi);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);oe===0&&(oe=5)}function Tp(t,n){do{var r=aE(t.alternate,t);if(r!==null){r.flags&=32767,xt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=r}while(t!==null);oe=6,xt=null}function Sp(t,n,r,l,c,f,_,E,R,L){var Y=b.T,W=ut.p;try{ut.p=2,b.T=null,fE(t,n,r,l,W,c,f,_,E,R,L)}finally{b.T=Y,ut.p=W}}function fE(t,n,r,l,c,f,_,E){do us();while(ya!==null);if(ee&6)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var L=R.lanes|R.childLanes;if(L|=$c,Eo(t,l,L,f,_,E),t===Xt&&(xt=Xt=null,kt=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||pu||(pu=!0,ef=L,nf=r,pE(ci,function(){return us(),null})),r=(R.flags&15990)!==0,R.subtreeFlags&15990||r?(r=b.T,b.T=null,f=ut.p,ut.p=2,_=ee,ee|=4,eE(t,R),np(R,t),L0(Ef,t.containerInfo),Nu=!!_f,Ef=_f=null,t.current=R,Wg(t,R.alternate,R),Us(),ee=_,ut.p=f,b.T=r):t.current=R,pu?(pu=!1,ya=t,Cl=l):bp(t,L),L=t.pendingLanes,L===0&&(yr=null),Ps(R.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,R=0;R<n.length;R++)L=n[R],c(L.value,{componentStack:L.stack});return Cl&3&&us(),L=t.pendingLanes,l&4194218&&L&42?t===rf?xl++:(xl=0,rf=t):xl=0,Nl(0),null}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function us(){if(ya!==null){var t=ya,n=ef;ef=0;var r=To(Cl),l=b.T,c=ut.p;try{if(ut.p=32>r?32:r,b.T=null,ya===null)var f=!1;else{r=nf,nf=null;var _=ya,E=Cl;if(ya=null,Cl=0,ee&6)throw Error(s(331));var R=ee;if(ee|=4,lp(_.current),rp(_,_.current,E,r),ee=R,Nl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Hi,_)}catch{}f=!0}return f}finally{ut.p=c,b.T=l,bp(t,n)}}return!1}function Ap(t,n,r){n=Sn(r,n),n=wh(t.stateNode,n,2),t=hr(t,n,2),t!==null&&(ce(t,2),Jn(t))}function Yt(t,n,r){if(t.tag===3)Ap(t,t,r);else for(;n!==null;){if(n.tag===3){Ap(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yr===null||!yr.has(l))){t=Sn(r,t),r=Dg(2),l=hr(n,r,2),l!==null&&(Cg(r,l,n,t),ce(l,2),Jn(l));break}}n=n.return}}function uf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new lE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Zh=!0,c.add(r),t=dE.bind(null,t,n,r),n.then(t,t))}function dE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(kt&r)===r&&(oe===4||oe===3&&(kt&62914560)===kt&&300>tn()-tf?!(ee&2)&&ls(t,0):Wh|=r,ss===kt&&(ss=0)),Jn(t)}function wp(t,n){n===0&&(n=Fi()),t=ir(t,n),t!==null&&(ce(t,n),Jn(t))}function mE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),wp(t,r)}function gE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),wp(t,r)}function pE(t,n){return jr(t,n)}var _u=null,cs=null,cf=!1,Eu=!1,hf=!1,va=0;function Jn(t){t!==cs&&t.next===null&&(cs===null?_u=cs=t:cs=cs.next=t),Eu=!0,cf||(cf=!0,vE(yE))}function Nl(t,n){if(!hf&&Eu){hf=!0;do for(var r=!1,l=_u;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(_&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Cp(l,f))}else f=kt,f=gn(l,l===Xt?f:0),!(f&3)||Gi(l,f)||(r=!0,Cp(l,f));l=l.next}while(r);hf=!1}}function yE(){Eu=cf=!1;var t=0;va!==0&&(RE()&&(t=va),va=0);for(var n=tn(),r=null,l=_u;l!==null;){var c=l.next,f=Rp(l,n);f===0?(l.next=null,r===null?_u=c:r.next=c,c===null&&(cs=r)):(r=l,(t!==0||f&3)&&(Eu=!0)),l=c}Nl(t)}function Rp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Xe(f),E=1<<_,R=c[_];R===-1?(!(E&r)||E&l)&&(c[_]=Ca(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xt,r=kt,r=gn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Da(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Gi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Da(l),To(r)){case 2:case 8:r=De;break;case 32:r=ci;break;case 268435456:r=zs;break;default:r=ci}return l=Dp.bind(null,t),r=jr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Da(l),t.callbackPriority=2,t.callbackNode=null,2}function Dp(t,n){var r=t.callbackNode;if(us()&&t.callbackNode!==r)return null;var l=kt;return l=gn(t,t===Xt?l:0),l===0?null:(mp(t,l,n),Rp(t,tn()),t.callbackNode!=null&&t.callbackNode===r?Dp.bind(null,t):null)}function Cp(t,n){if(us())return null;mp(t,n,!0)}function vE(t){CE(function(){ee&6?jr(ve,t):t()})}function ff(){return va===0&&(va=js()),va}function xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function Np(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function _E(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=xp((c[_e]||null).action),_=l.submitter;_&&(n=(n=_[_e]||null)?xp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new ka("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var R=_?Np(c,_):new FormData(c);Eh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=_?Np(c,_):new FormData(c),Eh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var df=0;df<Sm.length;df++){var mf=Sm[df],EE=mf.toLowerCase(),TE=mf[0].toUpperCase()+mf.slice(1);On(EE,"on"+TE)}On(ym,"onAnimationEnd"),On(vm,"onAnimationIteration"),On(_m,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(z0,"onTransitionRun"),On(P0,"onTransitionStart"),On(B0,"onTransitionCancel"),On(Em,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Vp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var E=l[_],R=E.instance,L=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(Y){su(Y)}c.currentTarget=null,f=R}else for(_=0;_<l.length;_++){if(E=l[_],R=E.instance,L=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(Y){su(Y)}c.currentTarget=null,f=R}}}}function Vt(t,n){var r=n[qr];r===void 0&&(r=n[qr]=new Set);var l=t+"__bubble";r.has(l)||(Mp(n,t,2,!1),r.add(l))}function gf(t,n,r){var l=0;n&&(l|=4),Mp(r,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[Tu]){t[Tu]=!0,qs.forEach(function(r){r!=="selectionchange"&&(SE.has(r)||gf(r,!1,t),gf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,gf("selectionchange",!1,n))}}function Mp(t,n,r,l){switch(ey(n)){case 2:var c=YE;break;case 8:c=XE;break;default:c=xf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function yf(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===c||R.nodeType===8&&R.parentNode===c))return;_=_.return}for(;E!==null;){if(_=In(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=f=_;continue t}E=E.parentNode}}l=l.return}Ro(function(){var L=f,Y=Oa(r),W=[];t:{var H=Tm.get(t);if(H!==void 0){var Q=ka,dt=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":Q=ja;break;case"focusin":dt="focus",Q=za;break;case"focusout":dt="blur",Q=za;break;case"beforeblur":case"afterblur":Q=za;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Oo;break;case ym:case vm:case _m:Q=Pa;break;case Em:Q=Lo;break;case"scroll":case"scrollend":Q=Do;break;case"wheel":Q=Ha;break;case"copy":case"cut":case"paste":Q=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=el;break;case"toggle":case"beforetoggle":Q=zo}var St=(n&4)!==0,ue=!St&&(t==="scroll"||t==="scrollend"),z=St?H!==null?H+"Capture":null:H;St=[];for(var k=L,B;k!==null;){var $=k;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||z===null||($=Yr(k,z),$!=null&&St.push(Ml(k,$,B))),ue)break;k=k.return}0<St.length&&(H=new Q(H,dt,null,r,Y),W.push({event:H,listeners:St}))}}if(!(n&7)){t:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&r!==vn&&(dt=r.relatedTarget||r.fromElement)&&(In(dt)||dt[hi]))break t;if((Q||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(dt=r.relatedTarget||r.toElement,Q=L,dt=dt?In(dt):null,dt!==null&&(ue=mt(dt),St=dt.tag,dt!==ue||St!==5&&St!==27&&St!==6)&&(dt=null)):(Q=null,dt=L),Q!==dt)){if(St=En,$="onMouseLeave",z="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(St=el,$="onPointerLeave",z="onPointerEnter",k="pointer"),ue=Q==null?H:$i(Q),B=dt==null?H:$i(dt),H=new St($,k+"leave",Q,r,Y),H.target=ue,H.relatedTarget=B,$=null,In(Y)===L&&(St=new St(z,k+"enter",dt,r,Y),St.target=B,St.relatedTarget=ue,$=St),ue=$,Q&&dt)e:{for(St=Q,z=dt,k=0,B=St;B;B=hs(B))k++;for(B=0,$=z;$;$=hs($))B++;for(;0<k-B;)St=hs(St),k--;for(;0<B-k;)z=hs(z),B--;for(;k--;){if(St===z||z!==null&&St===z.alternate)break e;St=hs(St),z=hs(z)}St=null}else St=null;Q!==null&&Ip(W,H,Q,St,!1),dt!==null&&ue!==null&&Ip(W,ue,dt,St,!0)}}t:{if(H=L?$i(L):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var ht=sm;else if(Te(H))if(lm)ht=O0;else{ht=M0;var Ct=V0}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Ys(L.elementType)&&(ht=sm):ht=I0;if(ht&&(ht=ht(t,L))){_i(W,ht,r,Y);break t}Ct&&Ct(t,H,L),t==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Ia(H,"number",H.value)}switch(Ct=L?$i(L):window,t){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&(qa=Ct,Kc=L,rl=null);break;case"focusout":rl=Kc=qa=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,gm(W,r,Y);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":gm(W,r,Y)}var gt;if(Kn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else It?G(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(v&&r.locale!=="ko"&&(It||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&It&&(gt=$s()):(qn=Y,nr="value"in qn?qn.value:qn.textContent,It=!0)),Ct=Su(L,_t),0<Ct.length&&(_t=new Js(_t,t,null,r,Y),W.push({event:_t,listeners:Ct}),gt?_t.data=gt:(gt=it(r),gt!==null&&(_t.data=gt)))),(gt=m?Ee(t,r):Ot(t,r))&&(_t=Su(L,"onBeforeInput"),0<_t.length&&(Ct=new Js("onBeforeInput","beforeinput",null,r,Y),W.push({event:Ct,listeners:_t}),Ct.data=gt)),_E(W,t,L,r,Y)}Vp(W,n)})}function Ml(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Su(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Yr(t,r),c!=null&&l.unshift(Ml(t,c,f)),c=Yr(t,n),c!=null&&l.push(Ml(t,c,f))),t=t.return}return l}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ip(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var E=r,R=E.alternate,L=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||L===null||(R=L,c?(L=Yr(r,f),L!=null&&_.unshift(Ml(r,L,R))):c||(L=Yr(r,f),L!=null&&_.push(Ml(r,L,R)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var bE=/\r\n?/g,AE=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(bE,`
`).replace(AE,"")}function kp(t,n){return n=Op(n),Op(t)===n}function bu(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Ji(t,"class",l);break;case"tabIndex":Ji(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(t,r,l);break;case"style":wo(t,l,f);break;case"data":if(n!=="object"){Ji(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=bu);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Wi(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Bc.get(r)||r,Wi(t,r,l))}}function vf(t,n,r,l,c,f){switch(r){case"style":wo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[_e]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Wi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,_,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=_=c=null,R=null,L=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":_=Y;break;case"checked":R=Y;break;case"defaultChecked":L=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Y,r,null)}}Qr(t,f,E,R,L,_,c,!1),Fr(t);return;case"select":Vt("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=_,t.multiple=!!l,n!=null?Bt(t,!!l,n,!1):r!=null&&Bt(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,_,E,r,null)}er(t,l,c,f),Fr(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Vt(Vl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(l=r[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,L,l,r,null)}return;default:if(Ys(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&vf(t,n,Y,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function wE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,E=null,R=null,L=null,Y=null;for(Q in r){var W=r[Q];if(r.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(Q)||Kt(t,n,Q,null,l,W)}}for(var H in l){var Q=l[H];if(W=r[H],l.hasOwnProperty(H)&&(Q!=null||W!=null))switch(H){case"type":f=Q;break;case"name":c=Q;break;case"checked":L=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==W&&Kt(t,n,H,Q,l,W)}}tr(t,_,E,R,L,Y,f,c);return;case"select":Q=_=E=H=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":Q=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=_,l=Q,H!=null?Bt(t,!!r,H,!1):!!l!=!!r&&(n!=null?Bt(t,!!r,n,!0):Bt(t,!!r,r?[]:"",!1));return;case"textarea":Q=H=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":H=c;break;case"defaultValue":Q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,_,c,l,f)}Kr(t,H,Q);return;case"option":for(var dt in r)if(H=r[dt],r.hasOwnProperty(dt)&&H!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Kt(t,n,dt,null,l,H)}for(R in l)if(H=l[R],Q=r[R],l.hasOwnProperty(R)&&H!==Q&&(H!=null||Q!=null))switch(R){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Kt(t,n,R,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in r)H=r[St],r.hasOwnProperty(St)&&H!=null&&!l.hasOwnProperty(St)&&Kt(t,n,St,null,l,H);for(L in l)if(H=l[L],Q=r[L],l.hasOwnProperty(L)&&H!==Q&&(H!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(t,n,L,H,l,Q)}return;default:if(Ys(n)){for(var ue in r)H=r[ue],r.hasOwnProperty(ue)&&H!==void 0&&!l.hasOwnProperty(ue)&&vf(t,n,ue,void 0,l,H);for(Y in l)H=l[Y],Q=r[Y],!l.hasOwnProperty(Y)||H===Q||H===void 0&&Q===void 0||vf(t,n,Y,H,l,Q);return}}for(var z in r)H=r[z],r.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&Kt(t,n,z,null,l,H);for(W in l)H=l[W],Q=r[W],!l.hasOwnProperty(W)||H===Q||H==null&&Q==null||Kt(t,n,W,H,l,Q)}var _f=null,Ef=null;function Au(t){return t.nodeType===9?t:t.ownerDocument}function Lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sf=null;function RE(){var t=window.event;return t&&t.type==="popstate"?t===Sf?!1:(Sf=t,!0):(Sf=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,CE=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(xE)}:zp;function xE(t){setTimeout(function(){throw t})}function bf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Bl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Bl(n)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Af(r),Gr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function NE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function VE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Bp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function jp(t,n,r){switch(n=Au(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Nn=new Map,Hp=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=ut.d;ut.d={f:ME,r:IE,D:OE,C:kE,L:LE,m:UE,X:PE,S:zE,M:BE};function ME(){var t=Oi.f(),n=yu();return t||n}function IE(t){var n=fi(t);n!==null&&n.tag===5&&n.type==="form"?gg(n):Oi.r(t)}var fs=typeof document>"u"?null:document;function qp(t,n,r){var l=fs;if(l&&typeof n=="string"&&n){var c=se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Hp.has(c)||(Hp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function OE(t){Oi.D(t),qp("dns-prefetch",t,null)}function kE(t,n){Oi.C(t,n),qp("preconnect",t,n)}function LE(t,n,r){Oi.L(t,n,r);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+se(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+se(r.imageSizes)+'"]')):c+='[href="'+se(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}Nn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function UE(t,n){Oi.m(t,n);var r=fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!Nn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Nn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),ze(l,"link",t),Jt(l),r.head.appendChild(l)}}}function zE(t,n,r){Oi.S(t,n,r);var l=fs;if(l&&t){var c=Zi(l).hoistableStyles,f=ds(t);n=n||"default";var _=c.get(f);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Il(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Nn.get(f))&&wf(t,r);var R=_=l.createElement("link");Jt(R),ze(R,"link",t),R._p=new Promise(function(L,Y){R.onload=L,R.onerror=Y}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ru(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:E},c.set(f,_)}}}function PE(t,n){Oi.X(t,n);var r=fs;if(r&&t){var l=Zi(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=w({src:t,async:!0},n),(n=Nn.get(c))&&Rf(t,n),f=r.createElement("script"),Jt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function BE(t,n){Oi.M(t,n);var r=fs;if(r&&t){var l=Zi(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&Rf(t,n),f=r.createElement("script"),Jt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gp(t,n,r,l){var c=(c=mn.current)?wu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ds(r.href),r=Zi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ds(r.href);var f=Zi(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(Il(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(t,r),f||jE(c,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(r),r=Zi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+se(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Fp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function jE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),Jt(n),t.head.appendChild(n))}function ms(t){return'[src="'+se(t)+'"]'}function Ol(t){return"script[async]"+t}function Qp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+se(r.href)+'"]');if(l)return n.instance=l,Jt(l),l;var c=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Jt(l),ze(l,"style",c),Ru(l,r.precedence,t),n.instance=l;case"stylesheet":c=ds(r.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,Jt(f),f;l=Fp(r),(c=Nn.get(c))&&wf(l,c),f=(t.ownerDocument||t).createElement("link"),Jt(f);var _=f;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),ze(f,"link",l),n.state.loading|=4,Ru(f,r.precedence,t),n.instance=f;case"script":return f=ms(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,Jt(c),c):(l=r,(c=Nn.get(f))&&(l=w({},r),Rf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Jt(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Ru(l,r.precedence,t));return n.instance}function Ru(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function Kp(t,n,r){if(Du===null){var l=new Map,c=Du=new Map;c.set(r,l)}else c=Du,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Xi]||f[Ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=l.get(_);E?E.push(f):l.set(_,[f])}}return l}function Yp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function HE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var kl=null;function qE(){}function GE(t,n,r){if(kl===null)throw Error(s(475));var l=kl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ds(r.href),f=t.querySelector(Il(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Jt(f);return}f=t.ownerDocument||t,r=Fp(r),(c=Nn.get(c))&&wf(r,c),f=f.createElement("link"),Jt(f);var _=f;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function FE(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&Df(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(QE,t),xu=null,Cu.call(t))}function QE(t,n){if(!(n.state.loading&4)){var r=xu.get(t);if(r)var l=r.get(null);else{r=new Map,xu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:V,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function KE(t,n,r,l,c,f,_,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function $p(t,n,r,l,c,f,_,E,R,L,Y,W){return t=new KE(t,n,r,_,E,R,L,W),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=rh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},zh(f),t}function Zp(t){return t?(t=Qa,t):Qa}function Wp(t,n,r,l,c,f){c=Zp(c),l.context===null?l.context=c:l.pendingContext=c,l=cr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=hr(t,l,n),r!==null&&(Je(r,t,n),_l(r,t,n))}function Jp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cf(t,n){Jp(t,n),(t=t.alternate)&&Jp(t,n)}function ty(t){if(t.tag===13){var n=ir(t,67108864);n!==null&&Je(n,t,67108864),Cf(t,67108864)}}var Nu=!0;function YE(t,n,r,l){var c=b.T;b.T=null;var f=ut.p;try{ut.p=2,xf(t,n,r,l)}finally{ut.p=f,b.T=c}}function XE(t,n,r,l){var c=b.T;b.T=null;var f=ut.p;try{ut.p=8,xf(t,n,r,l)}finally{ut.p=f,b.T=c}}function xf(t,n,r,l){if(Nu){var c=Nf(l);if(c===null)yf(t,n,l,Vu,r),ny(t,l);else if(ZE(c,t,n,r,l))l.stopPropagation();else if(ny(t,l),n&4&&-1<$E.indexOf(t)){for(;c!==null;){var f=fi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Mn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-Xe(_);E.entanglements[1]|=R,_&=~R}Jn(f),!(ee&6)&&(mu=tn()+500,Nl(0))}}break;case 13:E=ir(f,2),E!==null&&Je(E,f,2),yu(),Cf(f,2)}if(f=Nf(l),f===null&&yf(t,n,l,Vu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else yf(t,n,l,null,r)}}function Nf(t){return t=Oa(t),Vf(t)}var Vu=null;function Vf(t){if(Vu=null,t=In(t),t!==null){var n=mt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=zt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vu=t,null}function ey(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(po()){case ve:return 2;case De:return 8;case ci:case yo:return 32;case zs:return 268435456;default:return 32}default:return 32}}var Mf=!1,vr=null,_r=null,Er=null,Ul=new Map,zl=new Map,Tr=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(t,n){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Pl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=fi(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function ZE(t,n,r,l,c){switch(n){case"focusin":return vr=Pl(vr,t,n,r,l,c),!0;case"dragenter":return _r=Pl(_r,t,n,r,l,c),!0;case"mouseover":return Er=Pl(Er,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ul.set(f,Pl(Ul.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Pl(zl.get(f)||null,t,n,r,l,c)),!0}return!1}function iy(t){var n=In(t.target);if(n!==null){var r=mt(n);if(r!==null){if(n=r.tag,n===13){if(n=zt(r),n!==null){t.blockedOn=n,Yi(t.priority,function(){if(r.tag===13){var l=fn(),c=ir(r,l);c!==null&&Je(c,r,l),Cf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);vn=l,r.target.dispatchEvent(l),vn=null}else return n=fi(r),n!==null&&ty(n),t.blockedOn=r,!1;n.shift()}return!0}function ry(t,n,r){Mu(t)&&r.delete(n)}function WE(){Mf=!1,vr!==null&&Mu(vr)&&(vr=null),_r!==null&&Mu(_r)&&(_r=null),Er!==null&&Mu(Er)&&(Er=null),Ul.forEach(ry),zl.forEach(ry)}function Iu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,WE)))}var Ou=null;function ay(t){Ou!==t&&(Ou=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ou===t&&(Ou=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Vf(l||r)===null)continue;break}var f=fi(r);f!==null&&(t.splice(n,3),n-=3,Eh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Bl(t){function n(R){return Iu(R,t)}vr!==null&&Iu(vr,t),_r!==null&&Iu(_r,t),Er!==null&&Iu(Er,t),Ul.forEach(n),zl.forEach(n);for(var r=0;r<Tr.length;r++){var l=Tr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Tr.length&&(r=Tr[0],r.blockedOn===null);)iy(r),r.blockedOn===null&&Tr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[_e]||null;if(typeof f=="function")_||ay(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[_e]||null)E=_.formAction;else if(Vf(c)!==null)continue}else E=_.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ay(r)}}}function If(t){this._internalRoot=t}ku.prototype.render=If.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();Wp(r,l,t,n,null,null)},ku.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&us(),Wp(t.current,2,null,t,null,null),yu(),n[hi]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=So();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Tr.length&&n!==0&&n<Tr[r].priority;r++);Tr.splice(r,0,t),r===0&&iy(t)}};var sy=e.version;if(sy!=="19.0.0")throw Error(s(527,sy,"19.0.0"));ut.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=J(n),t=t!==null?ft(t):null,t=t===null?null:t.stateNode,t};var JE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:In,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Hi=Lu.inject(JE),He=Lu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=bg,f=Ag,_=wg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=$p(t,1,!1,null,null,r,l,c,f,_,E,null),t[hi]=n.current,pf(t.nodeType===8?t.parentNode:t),new If(n)},Hl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=bg,_=Ag,E=wg,R=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=$p(t,1,!0,n,r??null,l,c,f,_,E,R,L),n.context=Zp(null),r=n.current,l=fn(),c=cr(l),c.callback=null,hr(r,c,l),n.current.lanes=l,ce(n,l),Jn(n),t[hi]=n.current,pf(t),new ku(n)},Hl.version="19.0.0",Hl}var py;function uT(){if(py)return Lf.exports;py=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=oT(),Lf.exports}var cT=uT(),ql={},yy;function hT(){if(yy)return ql;yy=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=d,ql.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,h=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,V){const O=new h,K=x.length;if(K<2)return O;const j=(V==null?void 0:V.decode)||T;let X=0;do{const nt=x.indexOf("=",X);if(nt===-1)break;const et=x.indexOf(";",X),st=et===-1?K:et;if(nt>st){X=x.lastIndexOf(";",nt-1)+1;continue}const lt=g(x,X,nt),rt=p(x,nt,lt),N=x.slice(lt,rt);if(O[N]===void 0){let A=g(x,nt+1,st),b=p(x,st,A);const w=j(x.slice(A,b));O[N]=w}X=st+1}while(X<K);return O}function g(x,V,O){do{const K=x.charCodeAt(V);if(K!==32&&K!==9)return V}while(++V<O);return O}function p(x,V,O){for(;V>O;){const K=x.charCodeAt(--V);if(K!==32&&K!==9)return V+1}return O}function y(x,V,O){const K=(O==null?void 0:O.encode)||encodeURIComponent;if(!a.test(x))throw new TypeError(`argument name is invalid: ${x}`);const j=K(V);if(!e.test(j))throw new TypeError(`argument val is invalid: ${V}`);let X=x+"="+j;if(!O)return X;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);X+="; Max-Age="+O.maxAge}if(O.domain){if(!i.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);X+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);X+="; Path="+O.path}if(O.expires){if(!D(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);X+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(X+="; HttpOnly"),O.secure&&(X+="; Secure"),O.partitioned&&(X+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return X}function T(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function D(x){return o.call(x)==="[object Date]"}return ql}hT();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vy="popstate";function fT(a={}){function e(s,o){let{pathname:h,search:d,hash:g}=s.location;return Zf("",{pathname:h,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Jl(o)}return mT(e,i,null,a)}function ne(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ri(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dT(){return Math.random().toString(36).substring(2,10)}function _y(a,e){return{usr:a.state,key:a.key,idx:e}}function Zf(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?xs(e):e,state:i,key:e&&e.key||s||dT()}}function Jl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function xs(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function mT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function D(){g="POP";let j=T(),X=j==null?null:j-y;y=j,p&&p({action:g,location:K.location,delta:X})}function x(j,X){g="PUSH";let nt=Zf(K.location,j,X);y=T()+1;let et=_y(nt,y),st=K.createHref(nt);try{d.pushState(et,"",st)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;o.location.assign(st)}h&&p&&p({action:g,location:K.location,delta:1})}function V(j,X){g="REPLACE";let nt=Zf(K.location,j,X);y=T();let et=_y(nt,y),st=K.createHref(nt);d.replaceState(et,"",st),h&&p&&p({action:g,location:K.location,delta:0})}function O(j){let X=o.location.origin!=="null"?o.location.origin:o.location.href,nt=typeof j=="string"?j:Jl(j);return nt=nt.replace(/ $/,"%20"),ne(X,`No window.location.(origin|href) available to create URL for href: ${nt}`),new URL(nt,X)}let K={get action(){return g},get location(){return a(o,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vy,D),p=j,()=>{o.removeEventListener(vy,D),p=null}},createHref(j){return e(o,j)},createURL:O,encodeLocation(j){let X=O(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:x,replace:V,go(j){return d.go(j)}};return K}function Nv(a,e,i="/"){return gT(a,e,i,!1)}function gT(a,e,i,s){let o=typeof e=="string"?xs(e):e,h=xr(o.pathname||"/",i);if(h==null)return null;let d=Vv(a);pT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=DT(h);g=wT(d[p],y,s)}return g}function Vv(a,e=[],i=[],s=""){let o=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(ne(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=ki([s,p.relativePath]),T=i.concat(p);h.children&&h.children.length>0&&(ne(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Vv(h.children,e,T,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:bT(y,h.index),routesMeta:T})};return a.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))o(h,d);else for(let p of Mv(h.path))o(h,d,p)}),e}function Mv(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=Mv(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function pT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:AT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var yT=/^:[\w-]+$/,vT=3,_T=2,ET=1,TT=10,ST=-2,Ey=a=>a==="*";function bT(a,e){let i=a.split("/"),s=i.length;return i.some(Ey)&&(s+=ST),e&&(s+=_T),i.filter(o=>!Ey(o)).reduce((o,h)=>o+(yT.test(h)?vT:h===""?ET:TT),s)}function AT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function wT(a,e,i=!1){let{routesMeta:s}=a,o={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",D=Ju({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),x=p.route;if(!D&&y&&i&&!s[s.length-1].route.index&&(D=Ju({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!D)return null;Object.assign(o,D.params),d.push({params:o,pathname:ki([h,D.pathname]),pathnameBase:VT(ki([h,D.pathnameBase])),route:x}),D.pathnameBase!=="/"&&(h=ki([h,D.pathnameBase]))}return d}function Ju(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=RT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:D},x)=>{if(T==="*"){let O=g[x]||"";d=h.slice(0,h.length-O.length).replace(/(.)\/+$/,"$1")}const V=g[x];return D&&!V?y[T]=void 0:y[T]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:a}}function RT(a,e=!1,i=!0){ri(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function xr(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function CT(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?xs(a):a;return{pathname:i?i.startsWith("/")?i:xT(i,e):e,search:MT(s),hash:IT(o)}}function xT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Bf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Iv(a){let e=NT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Ov(a,e,i,s=!1){let o;typeof a=="string"?o=xs(a):(o={...a},ne(!o.pathname||!o.pathname.includes("?"),Bf("?","pathname","search",o)),ne(!o.pathname||!o.pathname.includes("#"),Bf("#","pathname","hash",o)),ne(!o.search||!o.search.includes("#"),Bf("#","search","hash",o)));let h=a===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let D=e.length-1;if(!s&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),D-=1;o.pathname=x.join("/")}g=D>=0?e[D]:"/"}let p=CT(o,g),y=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var ki=a=>a.join("/").replace(/\/\/+/g,"/"),VT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),MT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,IT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function OT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var kv=["POST","PUT","PATCH","DELETE"];new Set(kv);var kT=["GET",...kv];new Set(kT);var Ns=q.createContext(null);Ns.displayName="DataRouter";var gc=q.createContext(null);gc.displayName="DataRouterState";var Lv=q.createContext({isTransitioning:!1});Lv.displayName="ViewTransition";var LT=q.createContext(new Map);LT.displayName="Fetchers";var UT=q.createContext(null);UT.displayName="Await";var li=q.createContext(null);li.displayName="Navigation";var oo=q.createContext(null);oo.displayName="Location";var Pi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Sd=q.createContext(null);Sd.displayName="RouteError";function zT(a,{relative:e}={}){ne(uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=q.useContext(li),{hash:o,pathname:h,search:d}=co(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:ki([i,h])),s.createHref({pathname:g,search:d,hash:o})}function uo(){return q.useContext(oo)!=null}function Ur(){return ne(uo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(oo).location}var Uv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zv(a){q.useContext(li).static||q.useLayoutEffect(a)}function bd(){let{isDataRoute:a}=q.useContext(Pi);return a?ZT():PT()}function PT(){ne(uo(),"useNavigate() may be used only in the context of a <Router> component.");let a=q.useContext(Ns),{basename:e,navigator:i}=q.useContext(li),{matches:s}=q.useContext(Pi),{pathname:o}=Ur(),h=JSON.stringify(Iv(s)),d=q.useRef(!1);return zv(()=>{d.current=!0}),q.useCallback((p,y={})=>{if(ri(d.current,Uv),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=Ov(p,JSON.parse(h),o,y.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ki([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,h,o,a])}q.createContext(null);function co(a,{relative:e}={}){let{matches:i}=q.useContext(Pi),{pathname:s}=Ur(),o=JSON.stringify(Iv(i));return q.useMemo(()=>Ov(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function BT(a,e){return Pv(a,e)}function Pv(a,e,i,s){var nt;ne(uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:h}=q.useContext(li),{matches:d}=q.useContext(Pi),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",T=g?g.pathnameBase:"/",D=g&&g.route;{let et=D&&D.path||"";Bv(y,!D||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let x=Ur(),V;if(e){let et=typeof e=="string"?xs(e):e;ne(T==="/"||((nt=et.pathname)==null?void 0:nt.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${et.pathname}" was given in the \`location\` prop.`),V=et}else V=x;let O=V.pathname||"/",K=O;if(T!=="/"){let et=T.replace(/^\//,"").split("/");K="/"+O.replace(/^\//,"").split("/").slice(et.length).join("/")}let j=!h&&i&&i.matches&&i.matches.length>0?i.matches:Nv(a,{pathname:K});ri(D||j!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ri(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=FT(j&&j.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:ki([T,o.encodeLocation?o.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?T:ki([T,o.encodeLocation?o.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),d,i,s);return e&&X?q.createElement(oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},X):X}function jT(){let a=$T(),e=OT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:h},"ErrorBoundary")," or"," ",q.createElement("code",{style:h},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),i?q.createElement("pre",{style:o},i):null,d)}var HT=q.createElement(jT,null),qT=class extends q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?q.createElement(Pi.Provider,{value:this.props.routeContext},q.createElement(Sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GT({routeContext:a,match:e,children:i}){let s=q.useContext(Ns);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Pi.Provider,{value:a},i)}function FT(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,h=i==null?void 0:i.errors;if(h!=null){let p=o.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);ne(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:T,errors:D}=i,x=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!D||D[y.route.id]===void 0);if(y.route.lazy||x){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let D,x=!1,V=null,O=null;i&&(D=h&&y.route.id?h[y.route.id]:void 0,V=y.route.errorElement||HT,d&&(g<0&&T===0?(Bv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,O=null):g===T&&(x=!0,O=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),j=()=>{let X;return D?X=V:x?X=O:y.route.Component?X=q.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,q.createElement(GT,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:X})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?q.createElement(qT,{location:i.location,revalidation:i.revalidation,component:V,error:D,children:j(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):j()},null)}function Ad(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(a){let e=q.useContext(Ns);return ne(e,Ad(a)),e}function KT(a){let e=q.useContext(gc);return ne(e,Ad(a)),e}function YT(a){let e=q.useContext(Pi);return ne(e,Ad(a)),e}function wd(a){let e=YT(a),i=e.matches[e.matches.length-1];return ne(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function XT(){return wd("useRouteId")}function $T(){var s;let a=q.useContext(Sd),e=KT("useRouteError"),i=wd("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function ZT(){let{router:a}=QT("useNavigate"),e=wd("useNavigate"),i=q.useRef(!1);return zv(()=>{i.current=!0}),q.useCallback(async(o,h={})=>{ri(i.current,Uv),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...h}))},[a,e])}var Ty={};function Bv(a,e,i){!e&&!Ty[a]&&(Ty[a]=!0,ri(!1,i))}q.memo(WT);function WT({routes:a,future:e,state:i}){return Pv(a,void 0,i,e)}function Gu(a){ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JT({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:h=!1}){ne(!uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:d,navigator:o,static:h,future:{}}),[d,o,h]);typeof i=="string"&&(i=xs(i));let{pathname:p="/",search:y="",hash:T="",state:D=null,key:x="default"}=i,V=q.useMemo(()=>{let O=xr(p,d);return O==null?null:{location:{pathname:O,search:y,hash:T,state:D,key:x},navigationType:s}},[d,p,y,T,D,x,s]);return ri(V!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:q.createElement(li.Provider,{value:g},q.createElement(oo.Provider,{children:e,value:V}))}function tS({children:a,location:e}){return BT(Wf(a),e)}function Wf(a,e=[]){let i=[];return q.Children.forEach(a,(s,o)=>{if(!q.isValidElement(s))return;let h=[...e,o];if(s.type===q.Fragment){i.push.apply(i,Wf(s.props.children,h));return}ne(s.type===Gu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ne(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Wf(s.props.children,h)),i.push(d)}),i}var Fu="get",Qu="application/x-www-form-urlencoded";function pc(a){return a!=null&&typeof a.tagName=="string"}function eS(a){return pc(a)&&a.tagName.toLowerCase()==="button"}function nS(a){return pc(a)&&a.tagName.toLowerCase()==="form"}function iS(a){return pc(a)&&a.tagName.toLowerCase()==="input"}function rS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function aS(a,e){return a.button===0&&(!e||e==="_self")&&!rS(a)}var Uu=null;function sS(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var lS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jf(a){return a!=null&&!lS.has(a)?(ri(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):a}function oS(a,e){let i,s,o,h,d;if(nS(a)){let g=a.getAttribute("action");s=g?xr(g,e):null,i=a.getAttribute("method")||Fu,o=jf(a.getAttribute("enctype"))||Qu,h=new FormData(a)}else if(eS(a)||iS(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?xr(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Fu,o=jf(a.getAttribute("formenctype"))||jf(g.getAttribute("enctype"))||Qu,h=new FormData(g,a),!sS()){let{name:y,type:T,value:D}=a;if(T==="image"){let x=y?`${y}.`:"";h.append(`${x}x`,"0"),h.append(`${x}y`,"0")}else y&&h.append(y,D)}}else{if(pc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Fu,s=null,o=Qu,d=a}return h&&o==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:h,body:d}}function Rd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function uS(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cS(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function hS(a,e,i){let s=await Promise.all(a.map(async o=>{let h=e.routes[o.route.id];if(h){let d=await uS(h,i);return d.links?d.links():[]}return[]}));return gS(s.flat(1).filter(cS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sy(a,e,i,s,o,h){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return h==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):h==="data"?e.filter((p,y)=>{var D;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((D=i[0])==null?void 0:D.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function fS(a,e){return dS(a.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function dS(a){return[...new Set(a)]}function mS(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function gS(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let h=JSON.stringify(mS(o));return i.has(h)||(i.add(h),s.push({key:h,link:o})),s},[])}function pS(a){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function yS(){let a=q.useContext(Ns);return Rd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function vS(){let a=q.useContext(gc);return Rd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Dd=q.createContext(void 0);Dd.displayName="FrameworkContext";function jv(){let a=q.useContext(Dd);return Rd(a,"You must render this element inside a <HydratedRouter> element"),a}function _S(a,e){let i=q.useContext(Dd),[s,o]=q.useState(!1),[h,d]=q.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:D}=e,x=q.useRef(null);q.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=X=>{X.forEach(nt=>{d(nt.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[a]),q.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let V=()=>{o(!0)},O=()=>{o(!1),d(!1)};return i?a!=="intent"?[h,x,{}]:[h,x,{onFocus:Gl(g,V),onBlur:Gl(p,O),onMouseEnter:Gl(y,V),onMouseLeave:Gl(T,O),onTouchStart:Gl(D,V)}]:[!1,x,{}]}function Gl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function ES({page:a,...e}){let{router:i}=yS(),s=q.useMemo(()=>Nv(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?q.createElement(SS,{page:a,matches:s,...e}):null}function TS(a){let{manifest:e,routeModules:i}=jv(),[s,o]=q.useState([]);return q.useEffect(()=>{let h=!1;return hS(a,e,i).then(d=>{h||o(d)}),()=>{h=!0}},[a,e,i]),s}function SS({page:a,matches:e,...i}){let s=Ur(),{manifest:o,routeModules:h}=jv(),{loaderData:d,matches:g}=vS(),p=q.useMemo(()=>Sy(a,e,g,o,s,"data"),[a,e,g,o,s]),y=q.useMemo(()=>Sy(a,e,g,o,s,"assets"),[a,e,g,o,s]),T=q.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let V=new Set,O=!1;if(e.forEach(j=>{var nt;let X=o.routes[j.route.id];!X||!X.hasLoader||(!p.some(et=>et.route.id===j.route.id)&&j.route.id in d&&((nt=h[j.route.id])!=null&&nt.shouldRevalidate)||X.hasClientLoader?O=!0:V.add(j.route.id))}),V.size===0)return[];let K=pS(a);return O&&V.size>0&&K.searchParams.set("_routes",e.filter(j=>V.has(j.route.id)).map(j=>j.route.id).join(",")),[K.pathname+K.search]},[d,s,o,p,e,a,h]),D=q.useMemo(()=>fS(y,o),[y,o]),x=TS(y);return q.createElement(q.Fragment,null,T.map(V=>q.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),D.map(V=>q.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),x.map(({key:V,link:O})=>q.createElement("link",{key:V,...O})))}function bS(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hv&&(window.__reactRouterVersion="7.1.5")}catch{}function AS({basename:a,children:e,window:i}){let s=q.useRef();s.current==null&&(s.current=fT({window:i,v5Compat:!0}));let o=s.current,[h,d]=q.useState({action:o.action,location:o.location}),g=q.useCallback(p=>{q.startTransition(()=>d(p))},[d]);return q.useLayoutEffect(()=>o.listen(g),[o,g]),q.createElement(JT,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:o})}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yl=q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:h,replace:d,state:g,target:p,to:y,preventScrollReset:T,viewTransition:D,...x},V){let{basename:O}=q.useContext(li),K=typeof y=="string"&&qv.test(y),j,X=!1;if(typeof y=="string"&&K&&(j=y,Hv))try{let b=new URL(window.location.href),w=y.startsWith("//")?new URL(b.protocol+y):new URL(y),I=xr(w.pathname,O);w.origin===b.origin&&I!=null?y=I+w.search+w.hash:X=!0}catch{ri(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=zT(y,{relative:o}),[et,st,lt]=_S(s,x),rt=CS(y,{replace:d,state:g,target:p,preventScrollReset:T,relative:o,viewTransition:D});function N(b){e&&e(b),b.defaultPrevented||rt(b)}let A=q.createElement("a",{...x,...lt,href:j||nt,onClick:X||h?e:N,ref:bS(V,st),target:p,"data-discover":!K&&i==="render"?"true":void 0});return et&&!K?q.createElement(q.Fragment,null,A,q.createElement(ES,{page:nt})):A});Yl.displayName="Link";var wS=q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:h,to:d,viewTransition:g,children:p,...y},T){let D=co(d,{relative:y.relative}),x=Ur(),V=q.useContext(gc),{navigator:O,basename:K}=q.useContext(li),j=V!=null&&IS(D)&&g===!0,X=O.encodeLocation?O.encodeLocation(D).pathname:D.pathname,nt=x.pathname,et=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),et=et?et.toLowerCase():null,X=X.toLowerCase()),et&&K&&(et=xr(et,K)||et);const st=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let lt=nt===X||!o&&nt.startsWith(X)&&nt.charAt(st)==="/",rt=et!=null&&(et===X||!o&&et.startsWith(X)&&et.charAt(X.length)==="/"),N={isActive:lt,isPending:rt,isTransitioning:j},A=lt?e:void 0,b;typeof s=="function"?b=s(N):b=[s,lt?"active":null,rt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let w=typeof h=="function"?h(N):h;return q.createElement(Yl,{...y,"aria-current":A,className:b,ref:T,style:w,to:d,viewTransition:g},typeof p=="function"?p(N):p)});wS.displayName="NavLink";var RS=q.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:h,method:d=Fu,action:g,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:D,...x},V)=>{let O=VS(),K=MS(g,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",X=typeof g=="string"&&qv.test(g),nt=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let st=et.nativeEvent.submitter,lt=(st==null?void 0:st.getAttribute("formmethod"))||d;O(st||et.currentTarget,{fetcherKey:e,method:lt,navigate:i,replace:o,state:h,relative:y,preventScrollReset:T,viewTransition:D})};return q.createElement("form",{ref:V,method:j,action:K,onSubmit:s?p:nt,...x,"data-discover":!X&&a==="render"?"true":void 0})});RS.displayName="Form";function DS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(a){let e=q.useContext(Ns);return ne(e,DS(a)),e}function CS(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:h,viewTransition:d}={}){let g=bd(),p=Ur(),y=co(a,{relative:h});return q.useCallback(T=>{if(aS(T,e)){T.preventDefault();let D=i!==void 0?i:Jl(p)===Jl(y);g(a,{replace:D,state:s,preventScrollReset:o,relative:h,viewTransition:d})}},[p,g,y,i,s,e,a,o,h,d])}var xS=0,NS=()=>`__${String(++xS)}__`;function VS(){let{router:a}=Gv("useSubmit"),{basename:e}=q.useContext(li),i=XT();return q.useCallback(async(s,o={})=>{let{action:h,method:d,encType:g,formData:p,body:y}=oS(s,e);if(o.navigate===!1){let T=o.fetcherKey||NS();await a.fetch(T,i,o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function MS(a,{relative:e}={}){let{basename:i}=q.useContext(li),s=q.useContext(Pi);ne(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),h={...co(a||".",{relative:e})},d=Ur();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),p=g.getAll("index");if(p.some(T=>T==="")){g.delete("index"),p.filter(D=>D).forEach(D=>g.append("index",D));let T=g.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:ki([i,h.pathname])),Jl(h)}function IS(a,e={}){let i=q.useContext(Lv);ne(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gv("useViewTransitionState"),o=co(a,{relative:e.relative});if(!i.isTransitioning)return!1;let h=xr(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=xr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Ju(o.pathname,d)!=null||Ju(o.pathname,h)!=null}new TextEncoder;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fv=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=q.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...g},p)=>q.createElement("svg",{ref:p,...kS,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:Fv("lucide",o),...g},[...d.map(([y,T])=>q.createElement(y,T)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=(a,e)=>{const i=q.forwardRef(({className:s,...o},h)=>q.createElement(LS,{ref:h,iconNode:e,className:Fv(`lucide-${OS(a)}`,s),...o}));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zS=zr("ChevronLeft",US);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BS=zr("ChevronRight",PS);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],HS=zr("Moon",jS);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],GS=zr("Pause",qS);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],QS=zr("Play",FS);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YS=zr("Plus",KS);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$S=zr("RotateCcw",XS);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],WS=zr("Sun",ZS);var by={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},JS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,T=h>>2,D=(h&3)<<4|g>>4;let x=(g&15)<<2|y>>6,V=y&63;p||(V=64,d||(x=64)),s.push(i[T],i[D],i[x],i[V])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Qv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):JS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const D=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||y==null||D==null)throw new tb;const x=h<<2|g>>4;if(s.push(x),y!==64){const V=g<<4&240|y>>2;if(s.push(V),D!==64){const O=y<<6&192|D;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class tb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eb=function(a){const e=Qv(a);return Kv.encodeByteArray(e,!0)},tc=function(a){return eb(a).replace(/\./g,"")},nb=function(a){try{return Kv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=()=>ib().__FIREBASE_DEFAULTS__,ab=()=>{if(typeof process>"u"||typeof by>"u")return;const a=by.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},sb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&nb(a[1]);return e&&JSON.parse(e)},Cd=()=>{try{return rb()||ab()||sb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},lb=a=>{var e,i;return(i=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},ob=a=>{const e=lb(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Yv=()=>{var a;return(a=Cd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[tc(JSON.stringify(i)),tc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fb(){var a;const e=(a=Cd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function db(){return!fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mb(){try{return typeof indexedDB=="object"}catch{return!1}}function gb(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="FirebaseError";class Vs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=pb,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xv.prototype.create)}}class Xv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?yb(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Vs(o,g,s)}}function yb(a,e){return a.replace(vb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vb=/\{\$([^}]+)}/g;function Jf(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Ay(h)&&Ay(d)){if(!Jf(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ay(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(a){return a&&a._delegate?a._delegate:a}class to{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new ub;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tb(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Eb(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Eb(a){return a===_a?void 0:a}function Tb(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new _b(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ut||(Ut={}));const bb={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},Ab=Ut.INFO,wb={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},Rb=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=wb[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $v{constructor(e){this.name=e,this._logLevel=Ab,this._logHandler=Rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const Db=(a,e)=>e.some(i=>a instanceof i);let wy,Ry;function Cb(){return wy||(wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xb(){return Ry||(Ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zv=new WeakMap,td=new WeakMap,Wv=new WeakMap,Hf=new WeakMap,xd=new WeakMap;function Nb(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ar(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Zv.set(i,a)}).catch(()=>{}),xd.set(e,a),e}function Vb(a){if(td.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});td.set(a,e)}let ed={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return td.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Wv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ar(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Mb(a){ed=a(ed)}function Ib(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(qf(this),e,...i);return Wv.set(s,e.sort?e.sort():[e]),Ar(s)}:xb().includes(a)?function(...e){return a.apply(qf(this),e),Ar(Zv.get(this))}:function(...e){return Ar(a.apply(qf(this),e))}}function Ob(a){return typeof a=="function"?Ib(a):(a instanceof IDBTransaction&&Vb(a),Db(a,Cb())?new Proxy(a,ed):a)}function Ar(a){if(a instanceof IDBRequest)return Nb(a);if(Hf.has(a))return Hf.get(a);const e=Ob(a);return e!==a&&(Hf.set(a,e),xd.set(e,a)),e}const qf=a=>xd.get(a);function kb(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=Ar(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Ar(d.result),p.oldVersion,p.newVersion,Ar(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Lb=["get","getKey","getAll","getAllKeys","count"],Ub=["put","add","delete","clear"],Gf=new Map;function Dy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=Ub.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Lb.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Gf.set(e,h),h}Mb(a=>({...a,get:(e,i,s)=>Dy(e,i)||a.get(e,i,s),has:(e,i)=>!!Dy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Pb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Pb(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nd="@firebase/app",Cy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new $v("@firebase/app"),Bb="@firebase/app-compat",jb="@firebase/analytics-compat",Hb="@firebase/analytics",qb="@firebase/app-check-compat",Gb="@firebase/app-check",Fb="@firebase/auth",Qb="@firebase/auth-compat",Kb="@firebase/database",Yb="@firebase/data-connect",Xb="@firebase/database-compat",$b="@firebase/functions",Zb="@firebase/functions-compat",Wb="@firebase/installations",Jb="@firebase/installations-compat",tA="@firebase/messaging",eA="@firebase/messaging-compat",nA="@firebase/performance",iA="@firebase/performance-compat",rA="@firebase/remote-config",aA="@firebase/remote-config-compat",sA="@firebase/storage",lA="@firebase/storage-compat",oA="@firebase/firestore",uA="@firebase/vertexai",cA="@firebase/firestore-compat",hA="firebase",fA="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",dA={[nd]:"fire-core",[Bb]:"fire-core-compat",[Hb]:"fire-analytics",[jb]:"fire-analytics-compat",[Gb]:"fire-app-check",[qb]:"fire-app-check-compat",[Fb]:"fire-auth",[Qb]:"fire-auth-compat",[Kb]:"fire-rtdb",[Yb]:"fire-data-connect",[Xb]:"fire-rtdb-compat",[$b]:"fire-fn",[Zb]:"fire-fn-compat",[Wb]:"fire-iid",[Jb]:"fire-iid-compat",[tA]:"fire-fcm",[eA]:"fire-fcm-compat",[nA]:"fire-perf",[iA]:"fire-perf-compat",[rA]:"fire-rc",[aA]:"fire-rc-compat",[sA]:"fire-gcs",[lA]:"fire-gcs-compat",[oA]:"fire-fst",[cA]:"fire-fst-compat",[uA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,mA=new Map,rd=new Map;function xy(a,e){try{a.container.addComponent(e)}catch(i){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function nc(a){const e=a.name;if(rd.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;rd.set(e,a);for(const i of ec.values())xy(i,a);for(const i of mA.values())xy(i,a);return!0}function gA(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function pA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Xv("app","Firebase",yA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=fA;function Jv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:id,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw wr.create("bad-app-name",{appName:String(o)});if(i||(i=Yv()),!i)throw wr.create("no-options");const h=ec.get(o);if(h){if(Jf(i,h.options)&&Jf(s,h.config))return h;throw wr.create("duplicate-app",{appName:o})}const d=new Sb(o);for(const p of rd.values())d.addComponent(p);const g=new vA(i,s,d);return ec.set(o,g),g}function EA(a=id){const e=ec.get(a);if(!e&&a===id&&Yv())return Jv();if(!e)throw wr.create("no-app",{appName:a});return e}function _s(a,e,i){var s;let o=(s=dA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(g.join(" "));return}nc(new to(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",SA=1,eo="firebase-heartbeat-store";let Ff=null;function t_(){return Ff||(Ff=kb(TA,SA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(a=>{throw wr.create("idb-open",{originalErrorMessage:a.message})})),Ff}async function bA(a){try{const i=(await t_()).transaction(eo),s=await i.objectStore(eo).get(e_(a));return await i.done,s}catch(e){if(e instanceof Vs)Li.warn(e.message);else{const i=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(i.message)}}}async function Ny(a,e){try{const s=(await t_()).transaction(eo,"readwrite");await s.objectStore(eo).put(e,e_(a)),await s.done}catch(i){if(i instanceof Vs)Li.warn(i.message);else{const s=wr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Li.warn(s.message)}}}function e_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=1024,wA=30;class RA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Vy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>wA){const d=xA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Li.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Vy(),{heartbeatsToSend:s,unsentEntries:o}=DA(this._heartbeatsCache.heartbeats),h=tc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Li.warn(i),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function DA(a,e=AA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),My(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),My(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class CA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mb()?gb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function My(a){return tc(JSON.stringify({version:2,heartbeats:a})).length}function xA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(a){nc(new to("platform-logger",e=>new zb(e),"PRIVATE")),nc(new to("heartbeat",e=>new RA(e),"PRIVATE")),_s(nd,Cy,a),_s(nd,Cy,"esm2017"),_s("fire-js","")}NA("");var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,n_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function b(){}b.prototype=A.prototype,N.D=A.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(w,I,U){for(var C=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)C[Zt-2]=arguments[Zt];return A.prototype[I].apply(w,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,b){b||(b=0);var w=Array(16);if(typeof A=="string")for(var I=0;16>I;++I)w[I]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(I=0;16>I;++I)w[I]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=N.g[0],b=N.g[1],I=N.g[2];var U=N.g[3],C=A+(U^b&(I^U))+w[0]+3614090360&4294967295;A=b+(C<<7&4294967295|C>>>25),C=U+(I^A&(b^I))+w[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=I+(b^U&(A^b))+w[2]+606105819&4294967295,I=U+(C<<17&4294967295|C>>>15),C=b+(A^I&(U^A))+w[3]+3250441966&4294967295,b=I+(C<<22&4294967295|C>>>10),C=A+(U^b&(I^U))+w[4]+4118548399&4294967295,A=b+(C<<7&4294967295|C>>>25),C=U+(I^A&(b^I))+w[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=I+(b^U&(A^b))+w[6]+2821735955&4294967295,I=U+(C<<17&4294967295|C>>>15),C=b+(A^I&(U^A))+w[7]+4249261313&4294967295,b=I+(C<<22&4294967295|C>>>10),C=A+(U^b&(I^U))+w[8]+1770035416&4294967295,A=b+(C<<7&4294967295|C>>>25),C=U+(I^A&(b^I))+w[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=I+(b^U&(A^b))+w[10]+4294925233&4294967295,I=U+(C<<17&4294967295|C>>>15),C=b+(A^I&(U^A))+w[11]+2304563134&4294967295,b=I+(C<<22&4294967295|C>>>10),C=A+(U^b&(I^U))+w[12]+1804603682&4294967295,A=b+(C<<7&4294967295|C>>>25),C=U+(I^A&(b^I))+w[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=I+(b^U&(A^b))+w[14]+2792965006&4294967295,I=U+(C<<17&4294967295|C>>>15),C=b+(A^I&(U^A))+w[15]+1236535329&4294967295,b=I+(C<<22&4294967295|C>>>10),C=A+(I^U&(b^I))+w[1]+4129170786&4294967295,A=b+(C<<5&4294967295|C>>>27),C=U+(b^I&(A^b))+w[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=I+(A^b&(U^A))+w[11]+643717713&4294967295,I=U+(C<<14&4294967295|C>>>18),C=b+(U^A&(I^U))+w[0]+3921069994&4294967295,b=I+(C<<20&4294967295|C>>>12),C=A+(I^U&(b^I))+w[5]+3593408605&4294967295,A=b+(C<<5&4294967295|C>>>27),C=U+(b^I&(A^b))+w[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=I+(A^b&(U^A))+w[15]+3634488961&4294967295,I=U+(C<<14&4294967295|C>>>18),C=b+(U^A&(I^U))+w[4]+3889429448&4294967295,b=I+(C<<20&4294967295|C>>>12),C=A+(I^U&(b^I))+w[9]+568446438&4294967295,A=b+(C<<5&4294967295|C>>>27),C=U+(b^I&(A^b))+w[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=I+(A^b&(U^A))+w[3]+4107603335&4294967295,I=U+(C<<14&4294967295|C>>>18),C=b+(U^A&(I^U))+w[8]+1163531501&4294967295,b=I+(C<<20&4294967295|C>>>12),C=A+(I^U&(b^I))+w[13]+2850285829&4294967295,A=b+(C<<5&4294967295|C>>>27),C=U+(b^I&(A^b))+w[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=I+(A^b&(U^A))+w[7]+1735328473&4294967295,I=U+(C<<14&4294967295|C>>>18),C=b+(U^A&(I^U))+w[12]+2368359562&4294967295,b=I+(C<<20&4294967295|C>>>12),C=A+(b^I^U)+w[5]+4294588738&4294967295,A=b+(C<<4&4294967295|C>>>28),C=U+(A^b^I)+w[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=I+(U^A^b)+w[11]+1839030562&4294967295,I=U+(C<<16&4294967295|C>>>16),C=b+(I^U^A)+w[14]+4259657740&4294967295,b=I+(C<<23&4294967295|C>>>9),C=A+(b^I^U)+w[1]+2763975236&4294967295,A=b+(C<<4&4294967295|C>>>28),C=U+(A^b^I)+w[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=I+(U^A^b)+w[7]+4139469664&4294967295,I=U+(C<<16&4294967295|C>>>16),C=b+(I^U^A)+w[10]+3200236656&4294967295,b=I+(C<<23&4294967295|C>>>9),C=A+(b^I^U)+w[13]+681279174&4294967295,A=b+(C<<4&4294967295|C>>>28),C=U+(A^b^I)+w[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=I+(U^A^b)+w[3]+3572445317&4294967295,I=U+(C<<16&4294967295|C>>>16),C=b+(I^U^A)+w[6]+76029189&4294967295,b=I+(C<<23&4294967295|C>>>9),C=A+(b^I^U)+w[9]+3654602809&4294967295,A=b+(C<<4&4294967295|C>>>28),C=U+(A^b^I)+w[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=I+(U^A^b)+w[15]+530742520&4294967295,I=U+(C<<16&4294967295|C>>>16),C=b+(I^U^A)+w[2]+3299628645&4294967295,b=I+(C<<23&4294967295|C>>>9),C=A+(I^(b|~U))+w[0]+4096336452&4294967295,A=b+(C<<6&4294967295|C>>>26),C=U+(b^(A|~I))+w[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=I+(A^(U|~b))+w[14]+2878612391&4294967295,I=U+(C<<15&4294967295|C>>>17),C=b+(U^(I|~A))+w[5]+4237533241&4294967295,b=I+(C<<21&4294967295|C>>>11),C=A+(I^(b|~U))+w[12]+1700485571&4294967295,A=b+(C<<6&4294967295|C>>>26),C=U+(b^(A|~I))+w[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=I+(A^(U|~b))+w[10]+4293915773&4294967295,I=U+(C<<15&4294967295|C>>>17),C=b+(U^(I|~A))+w[1]+2240044497&4294967295,b=I+(C<<21&4294967295|C>>>11),C=A+(I^(b|~U))+w[8]+1873313359&4294967295,A=b+(C<<6&4294967295|C>>>26),C=U+(b^(A|~I))+w[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=I+(A^(U|~b))+w[6]+2734768916&4294967295,I=U+(C<<15&4294967295|C>>>17),C=b+(U^(I|~A))+w[13]+1309151649&4294967295,b=I+(C<<21&4294967295|C>>>11),C=A+(I^(b|~U))+w[4]+4149444226&4294967295,A=b+(C<<6&4294967295|C>>>26),C=U+(b^(A|~I))+w[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=I+(A^(U|~b))+w[2]+718787259&4294967295,I=U+(C<<15&4294967295|C>>>17),C=b+(U^(I|~A))+w[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var b=A-this.blockSize,w=this.B,I=this.h,U=0;U<A;){if(I==0)for(;U<=b;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(w[I++]=N.charCodeAt(U++),I==this.blockSize){o(this,w),I=0;break}}else for(;U<A;)if(w[I++]=N[U++],I==this.blockSize){o(this,w),I=0;break}}this.h=I,this.o+=A},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var b=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=b&255,b/=256;for(this.u(N),N=Array(16),A=b=0;4>A;++A)for(var w=0;32>w;w+=8)N[b++]=this.g[A]>>>w&255;return N};function h(N,A){var b=g;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=A(N)}function d(N,A){this.h=A;for(var b=[],w=!0,I=N.length-1;0<=I;I--){var U=N[I]|0;w&&U==A||(b[I]=U,w=!1)}this.g=b}var g={};function p(N){return-128<=N&&128>N?h(N,function(A){return new d([A|0],0>A?-1:0)}):new d([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return D;if(0>N)return j(y(-N));for(var A=[],b=1,w=0;N>=b;w++)A[w]=N/b|0,b*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return j(T(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(A,8)),w=D,I=0;I<N.length;I+=8){var U=Math.min(8,N.length-I),C=parseInt(N.substring(I,I+U),A);8>U?(U=y(Math.pow(A,U)),w=w.j(U).add(y(C))):(w=w.j(b),w=w.add(y(C)))}return w}var D=p(0),x=p(1),V=p(16777216);a=d.prototype,a.m=function(){if(K(this))return-j(this).m();for(var N=0,A=1,b=0;b<this.g.length;b++){var w=this.i(b);N+=(0<=w?w:4294967296+w)*A,A*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(K(this))return"-"+j(this).toString(N);for(var A=y(Math.pow(N,6)),b=this,w="";;){var I=st(b,A).g;b=X(b,I.j(A));var U=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=I,O(b))return U+w;for(;6>U.length;)U="0"+U;w=U+w}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function K(N){return N.h==-1}a.l=function(N){return N=X(this,N),K(N)?-1:O(N)?0:1};function j(N){for(var A=N.g.length,b=[],w=0;w<A;w++)b[w]=~N.g[w];return new d(b,~N.h).add(x)}a.abs=function(){return K(this)?j(this):this},a.add=function(N){for(var A=Math.max(this.g.length,N.g.length),b=[],w=0,I=0;I<=A;I++){var U=w+(this.i(I)&65535)+(N.i(I)&65535),C=(U>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);w=C>>>16,U&=65535,C&=65535,b[I]=C<<16|U}return new d(b,b[b.length-1]&-2147483648?-1:0)};function X(N,A){return N.add(j(A))}a.j=function(N){if(O(this)||O(N))return D;if(K(this))return K(N)?j(this).j(j(N)):j(j(this).j(N));if(K(N))return j(this.j(j(N)));if(0>this.l(V)&&0>N.l(V))return y(this.m()*N.m());for(var A=this.g.length+N.g.length,b=[],w=0;w<2*A;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<N.g.length;I++){var U=this.i(w)>>>16,C=this.i(w)&65535,Zt=N.i(I)>>>16,re=N.i(I)&65535;b[2*w+2*I]+=C*re,nt(b,2*w+2*I),b[2*w+2*I+1]+=U*re,nt(b,2*w+2*I+1),b[2*w+2*I+1]+=C*Zt,nt(b,2*w+2*I+1),b[2*w+2*I+2]+=U*Zt,nt(b,2*w+2*I+2)}for(w=0;w<A;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=A;w<2*A;w++)b[w]=0;return new d(b,0)};function nt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function et(N,A){this.g=N,this.h=A}function st(N,A){if(O(A))throw Error("division by zero");if(O(N))return new et(D,D);if(K(N))return A=st(j(N),A),new et(j(A.g),j(A.h));if(K(A))return A=st(N,j(A)),new et(j(A.g),A.h);if(30<N.g.length){if(K(N)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var b=x,w=A;0>=w.l(N);)b=lt(b),w=lt(w);var I=rt(b,1),U=rt(w,1);for(w=rt(w,2),b=rt(b,2);!O(w);){var C=U.add(w);0>=C.l(N)&&(I=I.add(b),U=C),w=rt(w,1),b=rt(b,1)}return A=X(N,I.j(A)),new et(I,A)}for(I=D;0<=N.l(A);){for(b=Math.max(1,Math.floor(N.m()/A.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),U=y(b),C=U.j(A);K(C)||0<C.l(N);)b-=w,U=y(b),C=U.j(A);O(U)&&(U=x),I=I.add(U),N=X(N,C)}return new et(I,N)}a.A=function(N){return st(this,N).h},a.and=function(N){for(var A=Math.max(this.g.length,N.g.length),b=[],w=0;w<A;w++)b[w]=this.i(w)&N.i(w);return new d(b,this.h&N.h)},a.or=function(N){for(var A=Math.max(this.g.length,N.g.length),b=[],w=0;w<A;w++)b[w]=this.i(w)|N.i(w);return new d(b,this.h|N.h)},a.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),b=[],w=0;w<A;w++)b[w]=this.i(w)^N.i(w);return new d(b,this.h^N.h)};function lt(N){for(var A=N.g.length+1,b=[],w=0;w<A;w++)b[w]=N.i(w)<<1|N.i(w-1)>>>31;return new d(b,N.h)}function rt(N,A){var b=A>>5;A%=32;for(var w=N.g.length-b,I=[],U=0;U<w;U++)I[U]=0<A?N.i(U+b)>>>A|N.i(U+b+1)<<32-A:N.i(U+b);return new d(I,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,n_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Rr=d}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i_,Fl,r_,Ku,ad,a_,s_,l_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in v))break t;v=v[P]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var v=0,S=!1,P={next:function(){if(!S&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,v){return u.call.apply(u.bind,arguments)}function D(u,m,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,S),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function x(u,m,v){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:D,x.apply(null,arguments)}function V(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,P,G){for(var it=Array(arguments.length-2),It=2;It<arguments.length;It++)it[It-2]=arguments[It];return m.prototype[P].apply(S,it)}}function K(u){const m=u.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const P=u.length||0,G=S.length||0;u.length=P+G;for(let it=0;it<G;it++)u[P+it]=S[it]}else u.push(S)}}class X{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function st(u){return st[" "](u),u}st[" "]=function(){};var lt=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function rt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function N(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(u,m){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)u[v]=S[v];for(let G=0;G<b.length;G++)v=b[G],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function I(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function U(u){g.setTimeout(()=>{throw u},0)}function C(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Zt{constructor(){this.h=this.g=null}add(m,v){const S=re.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new X(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,mt=!1,zt=new Zt,M=()=>{const u=g.Promise.resolve(void 0);vt=()=>{u.then(J)}};var J=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){U(v)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}mt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function Rt(u,m){if(ot.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(lt){t:{try{st(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}O(Rt,ot);var At={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ae(u,m,v,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=P,this.key=++Pt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,v,S,P){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var it=mn(u,m,S,P);return-1<it?(m=u[it],v||(m.fa=!1)):(m=new ae(m,this.src,G,!!S,P),m.fa=v,u.push(m)),m};function oi(u,m){var v=m.type;if(v in u.g){var S=u.g[v],P=Array.prototype.indexOf.call(S,m,void 0),G;(G=0<=P)&&Array.prototype.splice.call(S,P,1),G&&(Ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function mn(u,m,v,S){for(var P=0;P<u.length;++P){var G=u[P];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==S)return P}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),ji={};function ui(u,m,v,S,P){if(Array.isArray(m)){for(var G=0;G<m.length;G++)ui(u,m[G],v,S,P);return null}return v=po(v),u&&u[de]?u.K(m,v,y(S)?!!S.capture:!1,P):Ls(u,m,v,!1,S,P)}function Ls(u,m,v,S,P,G){if(!m)throw Error("Invalid event type");var it=y(P)?!!P.capture:!!P,It=Us(u);if(It||(u[Bi]=It=new Ye(u)),v=It.add(m,v,S,it,G),v.proxy)return v;if(S=wa(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)ut||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(Da(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wa(){function u(v){return m.call(u.src,u.listener,v)}const m=kc;return u}function Ra(u,m,v,S,P){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ra(u,m[G],v,S,P);else S=y(S)?!!S.capture:!!S,v=po(v),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=mn(G,v,S,P),-1<v&&(Ft(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=Us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mn(m,v,S,P)),(v=-1<u?m[u]:null)&&jr(v))}function jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])oi(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Da(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Us(m))?(oi(v,u),v.h==0&&(v.src=null,m[Bi]=null)):Ft(u)}}}function Da(u){return u in ji?ji[u]:ji[u]="on"+u}function kc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var v=u.listener,S=u.ha||u.src;u.fa&&jr(u),u=v.call(S,m)}return u}function Us(u){return u=u[Bi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function ve(){ft.call(this),this.i=new Ye(this),this.M=this,this.F=null}O(ve,ft),ve.prototype[de]=!0,ve.prototype.removeEventListener=function(u,m,v,S){Ra(this,u,m,v,S)};function De(u,m){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new ot(m,u);else if(m instanceof ot)m.target=m.target||u;else{var P=m;m=new ot(S,u),w(m,P)}if(P=!0,v)for(var G=v.length-1;0<=G;G--){var it=m.g=v[G];P=ci(it,S,!0,m)&&P}if(it=m.g=u,P=ci(it,S,!0,m)&&P,P=ci(it,S,!1,m)&&P,v)for(G=0;G<v.length;G++)it=m.g=v[G],P=ci(it,S,!1,m)&&P}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],S=0;S<v.length;S++)Ft(v[S]);delete u.g[m],u.h--}}this.F=null},ve.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ve.prototype.L=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function ci(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,G=0;G<m.length;++G){var it=m[G];if(it&&!it.da&&it.capture==v){var It=it.listener,Ee=it.ha||it.src;it.fa&&oi(u.i,it),P=It.call(Ee,S)!==!1&&P}}return P&&!S.defaultPrevented}function yo(u,m,v){if(typeof u=="function")v&&(u=x(u,v));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function zs(u){u.g=yo(()=>{u.g=null,u.i&&(u.i=!1,zs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lc extends ft{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){ft.call(this),this.h=u,this.g={}}O(Hr,ft);var Hi=[];function He(u){rt(u.g,function(m,v){this.g.hasOwnProperty(v)&&jr(m)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),He(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ps=g.JSON.stringify,zn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Bs(){}Bs.prototype.h=null;function vo(u){return u.h||(u.h=u.i())}function _o(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){ot.call(this,"d")}O(qi,ot);function Mn(){ot.call(this,"c")}O(Mn,ot);var gn={},Gi=null;function Ca(){return Gi=Gi||new ve}gn.La="serverreachability";function js(u){ot.call(this,gn.La,u)}O(js,ot);function Fi(u){const m=Ca();De(m,new js(m))}gn.STAT_EVENT="statevent";function xa(u,m){ot.call(this,gn.STAT_EVENT,u),this.stat=m}O(xa,ot);function ce(u){const m=Ca();De(m,new xa(m,u))}gn.Ma="timingevent";function Eo(u,m){ot.call(this,gn.Ma,u),this.size=m}O(Eo,ot);function Qi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function To(u,m,v,S,P,G){u.info(function(){if(u.g)if(G)for(var it="",It=G.split("&"),Ee=0;Ee<It.length;Ee++){var Ot=It[Ee].split("=");if(1<Ot.length){var Ne=Ot[0];Ot=Ot[1];var Te=Ne.split("_");it=2<=Te.length&&Te[1]=="type"?it+(Ne+"="+Ot+"&"):it+(Ne+"=redacted&")}}else it=null;else it=G;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function So(u,m,v,S,P,G,it){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+v+`
`+G+" "+it})}function Yi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ce(u,v)+(S?" "+S:"")})}function Bn(u,m){u.info(function(){return"TIMEOUT: "+m})}Ki.prototype.info=function(){};function Ce(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var P=S[1];if(Array.isArray(P)&&!(1>P.length)){var G=P[0];if(G!="noop"&&G!="stop"&&G!="close")for(var it=1;it<P.length;it++)P[it]=""}}}}return Ps(v)}catch{return m}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qr;function Na(){}O(Na,Bs),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},qr=new Na;function jn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.R=S||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hs}function Hs(){this.i=null,this.g="",this.h=!1}var Xi={},Gr={};function In(u,m,v){u.L=1,u.v=Kr(se(m)),u.m=v,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),Jt(u),u.A=se(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),gi(v.i,"t",S),u.C=0,v=u.j.J,u.h=new Hs,u.g=Lo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Lc(x(u.Y,u,u.g),u.O)),m=u.U,v=u.g,S=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Hi[0]=P.toString()),P=Hi);for(var G=0;G<P.length;G++){var it=ui(v,P[G],S||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),To(u.i,u.u,u.A,u.l,u.R,u.m)}jn.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=En(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Co(this.g)))){this.J||Te!=4||m==7||(m==8||0>=_i?Fi(3):Fi(2)),Va(this);var v=this.g.Z();this.X=v;e:if($i(this)){var S=Co(this.g);u="";var P=S.length,G=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),sn(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(G&&m==P-1)});S.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=v==200,So(this.i,this.u,this.A,this.l,this.R,Te,v),this.o){if(this.T&&!this.K){e:{if(this.g){var It,Ee=this.g;if((It=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(It)){var Ot=It;break e}}Ot=null}if(v=Ot)Yi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,v);else{this.o=!1,this.s=3,ce(12),en(this),sn(this);break t}}if(this.P){v=!0;let ke;for(;!this.J&&this.C<it.length;)if(ke=Zi(this,it),ke==Gr){Te==4&&(this.s=4,ce(14),v=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Xi){this.s=4,ce(15),Yi(this.i,this.l,it,"[Invalid Chunk]"),v=!1;break}else Yi(this.i,this.l,ke,null),ln(this,ke);if($i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||it.length!=0||this.h.h||(this.s=1,ce(16),v=!1),this.o=this.o&&v,!v)Yi(this.i,this.l,it,"[Invalid Chunked Response]"),en(this),sn(this);else if(0<it.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),ta(Ne),Ne.M=!0,ce(11))}}else Yi(this.i,this.l,it,null),ln(this,it);Te==4&&en(this),this.o&&!this.J&&(Te==4?Io(this.j,this):(this.o=!1,Jt(this)))}else Hc(this.g),v==400&&0<it.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),en(this),sn(this)}}}catch{}finally{}};function $i(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zi(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Gr:(v=Number(m.substring(v,S)),isNaN(v)?Xi:(S+=1,S+v>m.length?Gr:(m=m.slice(S,S+v),u.C=S+v,m)))}jn.prototype.cancel=function(){this.J=!0,en(this)};function Jt(u){u.S=Date.now()+u.I,qs(u,u.I)}function qs(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qi(x(u.ba,u),m)}function Va(u){u.B&&(g.clearTimeout(u.B),u.B=null)}jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bn(this.i,this.A),this.L!=2&&(Fi(),ce(17)),en(this),this.s=2,sn(this)):qs(this,this.S-u)};function sn(u){u.j.G==0||u.J||Io(u.j,u)}function en(u){Va(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,He(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ln(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Wi(v.h,u))){if(!u.K&&Wi(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ja(v),Pa(v);else break t;tl(v),ce(18)}}else v.za=P[1],0<v.za-v.T&&37500>P[2]&&v.F&&v.v==0&&!v.C&&(v.C=Qi(x(v.Za,v),6e3));if(1>=bo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else vi(v,11)}else if((u.K||v.g==u)&&ja(v),!nt(m))for(P=v.Da.g.parse(m),m=0;m<P.length;m++){let Ot=P[m];if(v.T=Ot[0],Ot=Ot[1],v.G==2)if(Ot[0]=="c"){v.K=Ot[1],v.ia=Ot[2];const Ne=Ot[3];Ne!=null&&(v.la=Ne,v.j.info("VER="+v.la));const Te=Ot[4];Te!=null&&(v.Aa=Te,v.j.info("SVER="+v.Aa));const _i=Ot[5];_i!=null&&typeof _i=="number"&&0<_i&&(S=1.5*_i,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ke=u.g;if(ke){const Yn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var G=S.h;G.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ji(G,G.h),G.h=null))}if(S.D){const nl=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(S.ya=nl,Bt(S.I,S.D,nl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var it=u;if(S.qa=ko(S,S.J?S.ia:null,S.W),it.K){pn(S.h,it);var It=it,Ee=S.L;Ee&&(It.I=Ee),It.B&&(Va(It),Jt(It)),S.g=it}else Vo(S);0<v.i.length&&Ba(v)}else Ot[0]!="stop"&&Ot[0]!="close"||vi(v,7);else v.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?vi(v,7):Ws(v):Ot[0]!="noop"&&v.l&&v.l.ta(Ot),v.v=0)}}Fi(4)}catch{}}var Uc=class{constructor(u,m){this.g=u,this.map=m}};function Gs(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bo(u){return u.h?1:u.g?u.g.size:0}function Wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ji(u,m){u.g?u.g.add(m):u.h=m}function pn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Gs.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return K(u.i)}function Ao(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,S=0;S<v;S++)m.push(u[S]);return m}m=[],v=0;for(S in u)m[v++]=u[S];return m}function zc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const S in u)m[v++]=S;return m}}}function Fr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=zc(u),S=Ao(u),P=S.length,G=0;G<P;G++)m.call(void 0,S[G],v&&v[G],u)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),P=null;if(0<=S){var G=u[v].substring(0,S);P=u[v].substring(S+1)}else G=u[v];m(G,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function di(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof di){this.h=u.h,tr(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var m=u.i,v=new Hn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ia(this,v),this.m=u.m}else u&&(m=String(u).match(Qs))?(this.h=!1,tr(this,m[1]||"",!0),this.o=er(m[2]||""),this.g=er(m[3]||"",!0),Qr(this,m[4]),this.l=er(m[5]||"",!0),Ia(this,m[6]||"",!0),this.m=er(m[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}di.prototype.toString=function(){var u=[],m=this.j;m&&u.push(yn(m,Ks,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yn(m,Ks,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yn(v,v.charAt(0)=="/"?Ys:wo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yn(v,jc)),u.join("")};function se(u){return new di(u)}function tr(u,m,v){u.j=v?er(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ia(u,m,v){m instanceof Hn?(u.i=m,Xs(u.i,u.h)):(v||(m=yn(m,Bc)),u.i=new Hn(m,u.h))}function Bt(u,m,v){u.i.set(m,v)}function Kr(u){return Bt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function er(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yn(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Pc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,wo=/[#\?:]/g,Ys=/[#\?]/g,Bc=/[#\?@]/g,jc=/#/g;function Hn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=Hn.prototype,a.add=function(u,m){vn(this),this.i=null,u=pi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Oa(u,m){vn(u),m=pi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return vn(u),m=pi(u,m),u.g.has(m)}a.forEach=function(u,m){vn(this),this.g.forEach(function(v,S){v.forEach(function(P){u.call(m,P,S,this)},this)},this)},a.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const P=u[S];for(let G=0;G<P.length;G++)v.push(m[S])}return v},a.V=function(u){vn(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(pi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return vn(this),this.i=null,u=pi(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function gi(u,m,v){Oa(u,m),0<v.length&&(u.i=null,u.g.set(pi(u,m),K(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const G=encodeURIComponent(String(S)),it=this.V(S);for(S=0;S<it.length;S++){var P=G;it[S]!==""&&(P+="="+encodeURIComponent(String(it[S]))),u.push(P)}}return this.i=u.join("&")};function pi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xs(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,S){var P=S.toLowerCase();S!=P&&(Oa(this,S),gi(this,P,v))},u)),u.j=m}function Ro(u,m){const v=new Ki;if(g.Image){const S=new Image;S.onload=V(_n,v,"TestLoadImage: loaded",!0,m,S),S.onerror=V(_n,v,"TestLoadImage: error",!1,m,S),S.onabort=V(_n,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=V(_n,v,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Yr(u,m){const v=new Ki,S=new AbortController,P=setTimeout(()=>{S.abort(),_n(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(G=>{clearTimeout(P),G.ok?_n(v,"TestPingServer: ok",!0,m):_n(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),_n(v,"TestPingServer: error",!1,m)})}function _n(u,m,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function Xr(){this.g=new Xe}function qn(u,m,v){const S=v||"";try{Fr(u,function(P,G){let it=P;y(P)&&(it=Ps(P)),m.push(S+G+"="+encodeURIComponent(it))})}catch(P){throw m.push(S+"type="+encodeURIComponent("_badmap")),P}}function nr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(nr,Bs),nr.prototype.g=function(){return new yi(this.l,this.j)},nr.prototype.i=function(u){return function(){return u}}({});function yi(u,m){ve.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(yi,ve),a=yi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&$s(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zs(u){let m="";return rt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function xe(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Zs(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Bt(u,m,v))}function qt(u){ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(qt,ve);var ka=/^https?$/i,$r=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qr.g(),this.v=this.o?vo(this.o):vo(qr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Do(this,G);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call($r,m,void 0))||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,it]of v)this.g.setRequestHeader(G,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Do(this,G)}};function Do(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,La(u),Qn(u)}function La(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,De(this,"complete"),De(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},a.bb=function(){Ua(this)};function Ua(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)yo(u.Ea,0,u);else if(De(u,"readystatechange"),En(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=it===0){var P=String(u.D).match(Qs)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),S=!ka.test(P?P.toLowerCase():"")}v=S}if(v)De(u,"complete"),De(u,"success");else{u.m=6;try{var G=2<En(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",La(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Zr(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||De(u,"ready");try{v.onreadystatechange=S}catch{}}}function Zr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zn(m)}};function Co(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(nt(u[S]))continue;var v=I(u[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[P]||[];m[P]=G,G.push(v)}N(m,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function za(u){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,u),this.cb=Wr("retryDelaySeedMs",1e4,u),this.Wa=Wr("forwardChannelMaxRetries",2,u),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(u&&u.concurrentRequestLimit),this.Da=new Xr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=za.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,S){ce(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=ko(this,null,this.W),Ba(this)};function Ws(u){if(xo(u),u.G==3){var m=u.U++,v=se(u.I);if(Bt(v,"SID",u.K),Bt(v,"RID",m),Bt(v,"TYPE","terminate"),Jr(u,v),m=new jn(u,u.j,m),m.L=2,m.v=Kr(se(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Lo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jt(m)}Oo(u)}function Pa(u){u.g&&(ta(u),u.g.cancel(),u.g=null)}function xo(u){Pa(u),u.u&&(g.clearTimeout(u.u),u.u=null),ja(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ba(u){if(!Fs(u.h)&&!u.s){u.s=!0;var m=u.Ga;vt||M(),mt||(vt(),mt=!0),zt.add(m,u),u.B=0}}function qc(u,m){return bo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qi(x(u.Ga,u,m),el(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new jn(this,this.j,u);let G=this.o;if(this.S&&(G?(G=A(G),w(G,this.S)):G=this.S),this.m!==null||this.O||(P.H=G,G=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=No(this,P,m),v=se(this.I),Bt(v,"RID",u),Bt(v,"CVER",22),this.D&&Bt(v,"X-HTTP-Session-Id",this.D),Jr(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(Zs(G)))+"&"+m:this.m&&xe(v,this.m,G)),Ji(this.h,P),this.Ua&&Bt(v,"TYPE","init"),this.P?(Bt(v,"$req",m),Bt(v,"SID","null"),P.T=!0,In(P,v,null)):In(P,v,m),this.G=2}}else this.G==3&&(u?Js(this,u):this.i.length==0||Fs(this.h)||Js(this))};function Js(u,m){var v;m?v=m.l:v=u.U++;const S=se(u.I);Bt(S,"SID",u.K),Bt(S,"RID",v),Bt(S,"AID",u.T),Jr(u,S),u.m&&u.o&&xe(S,u.m,u.o),v=new jn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=No(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ji(u.h,v),In(v,S,m)}function Jr(u,m){u.H&&rt(u.H,function(v,S){Bt(m,S,v)}),u.l&&Fr({},function(v,S){Bt(m,S,v)})}function No(u,m,v){v=Math.min(u.i.length,v);var S=u.l?x(u.l.Na,u.l,u):null;t:{var P=u.i;let G=-1;for(;;){const it=["count="+v];G==-1?0<v?(G=P[0].g,it.push("ofs="+G)):G=0:it.push("ofs="+G);let It=!0;for(let Ee=0;Ee<v;Ee++){let Ot=P[Ee].g;const Ne=P[Ee].map;if(Ot-=G,0>Ot)G=Math.max(0,P[Ee].g-100),It=!1;else try{qn(Ne,it,"req"+Ot+"_")}catch{S&&S(Ne)}}if(It){S=it.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,S}function Vo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;vt||M(),mt||(vt(),mt=!0),zt.add(m,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qi(x(u.Fa,u),el(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Mo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qi(x(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Pa(this),Mo(this))};function ta(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Mo(u){u.g=new jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=se(u.qa);Bt(m,"RID","rpc"),Bt(m,"SID",u.K),Bt(m,"AID",u.T),Bt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Bt(m,"TO",u.ja),Bt(m,"TYPE","xmlhttp"),Jr(u,m),u.m&&u.o&&xe(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Kr(se(m)),v.m=null,v.P=!0,fi(v,u)}a.Za=function(){this.C!=null&&(this.C=null,Pa(this),tl(this),ce(19))};function ja(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Io(u,m){var v=null;if(u.g==m){ja(u),ta(u),u.g=null;var S=2}else if(Wi(u.h,m))v=m.D,pn(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;S=Ca(),De(S,new Eo(S,v)),Ba(u)}else Vo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(S==1&&qc(u,m)||S==2&&tl(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),P){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function el(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=x(u.fb,u),S=u.Xa;const P=!S;S=new di(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||tr(S,"https"),Kr(S),P?Ro(S.toString(),v):Yr(S.toString(),v)}else ce(2);u.G=0,u.l&&u.l.sa(m),Oo(u),xo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Oo(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function ko(u,m,v){var S=v instanceof di?se(v):new di(v);if(S.g!="")m&&(S.g=m+"."+S.g),Qr(S,S.s);else{var P=g.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var G=new di(null);S&&tr(G,S),m&&(G.g=m),P&&Qr(G,P),v&&(G.l=v),S=G}return v=u.D,m=u.ya,v&&m&&Bt(S,v,m),Bt(S,"VER",u.la),Jr(u,S),S}function Lo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new nr({eb:v})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}a=Uo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ha(){}Ha.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){ve.call(this),this.g=new za(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!nt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!nt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}O(Ze,ve),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ws(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ps(u),u=v);m.i.push(new Uc(m.Ya++,u)),m.G==3&&Ba(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,Ze.aa.N.call(this)};function zo(u){qi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(zo,qi);function Po(){Mn.call(this),this.status=1}O(Po,Mn);function Kn(u){this.g=u}O(Kn,Uo),Kn.prototype.ua=function(){De(this.g,"a")},Kn.prototype.ta=function(u){De(this.g,new zo(u))},Kn.prototype.sa=function(u){De(this.g,new Po)},Kn.prototype.ra=function(){De(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,l_=function(){return new Ha},s_=function(){return Ca()},a_=gn,ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Ku=_e,hi.COMPLETE="complete",r_=hi,_o.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Fl=_o,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,i_=qt}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const Oy="@firebase/firestore",ky="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new $v("@firebase/firestore");function gs(){return Ta.logLevel}function ct(a,...e){if(Ta.logLevel<=Ut.DEBUG){const i=e.map(Nd);Ta.debug(`Firestore (${Ms}): ${a}`,...i)}}function Ui(a,...e){if(Ta.logLevel<=Ut.ERROR){const i=e.map(Nd);Ta.error(`Firestore (${Ms}): ${a}`,...i)}}function Ts(a,...e){if(Ta.logLevel<=Ut.WARN){const i=e.map(Nd);Ta.warn(`Firestore (${Ms}): ${a}`,...i)}}function Nd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a="Unexpected state"){const e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+a;throw Ui(e),new Error(e)}function Gt(a,e){a||Et()}function bt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class MA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class IA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Dr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Dr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new o_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class OA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new OA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ly{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ly(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new Ly(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=UA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Mt(a,e){return a<e?-1:a>e?1:0}function Ss(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-62135596800,zy=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*zy);return new we(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Uy)throw new pt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zy}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Uy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new we(0,0))}static max(){return new Tt(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(),s===void 0?s=e.length-i:s>e.length-i&&Et(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class Wt extends ti{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new pt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const zA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return zA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new Be([Py])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new pt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new pt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Wt.fromString(e))}static fromName(e){return new yt(Wt.fromString(e).popFirst(5))}static empty(){return new yt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function PA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new we(i+1,0):new we(i,s));return new Vr(o,yt.empty(),e)}function BA(a){return new Vr(a.readTime,a.key,no)}class Vr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Vr(Tt.min(),yt.empty(),no)}static max(){return new Vr(Tt.max(),yt.empty(),no)}}function jA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,e.documentKey),i!==0?i:Mt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==HA)throw a;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},p=>s(p))}),d=!0,h===o&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(o=>o?Z.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++g,g===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new Z((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function GA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=-1;function vc(a){return a==null}function ic(a){return a===0&&1/a==-1/0}function FA(a){return typeof a=="number"&&Number.isInteger(a)&&!ic(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="";function QA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=By(e)),e=KA(a.get(i),e);return By(e)}function KA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case c_:i+="";break;default:i+=h}}return i}function By(a){return a+c_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Pr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function h_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,i,s,o,h){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new dn([])}unionWith(e){let i=new Re(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new f_("Invalid base64 string: "+h):h}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const YA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=YA.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ir(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="server_timestamp",m_="__type__",g_="__previous_value__",p_="__local_write_time__";function Md(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[m_])===null||i===void 0?void 0:i.stringValue)===d_}function _c(a){const e=a.mapValue.fields[g_];return Md(e)?_c(e):e}function io(a){const e=Mr(a.mapValue.fields[p_].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i,s,o,h,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const rc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||rc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===rc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__type__",$A="__max__",Bu={mapValue:{}},v_="__vector__",ac="value";function Or(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Md(a)?4:WA(a)?9007199254740991:ZA(a)?10:11:Et()}function ai(a,e){if(a===e)return!0;const i=Or(a);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return io(a).isEqual(io(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Mr(o.timestampValue),g=Mr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Ir(o.bytesValue).isEqual(Ir(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?ic(d)===ic(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Ss(a.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(jy(d)!==jy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ai(d[p],g[p])))return!1;return!0}(a,e);default:return Et()}}function ao(a,e){return(a.values||[]).find(i=>ai(i,e))!==void 0}function bs(a,e){if(a===e)return 0;const i=Or(a),s=Or(e);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),p=fe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return qy(a.timestampValue,e.timestampValue);case 4:return qy(io(a),io(e));case 5:return Mt(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Ir(h),p=Ir(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Mt(g[y],p[y]);if(T!==0)return T}return Mt(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Mt(fe(h.latitude),fe(d.latitude));return g!==0?g:Mt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Gy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,y,T;const D=h.fields||{},x=d.fields||{},V=(g=D[ac])===null||g===void 0?void 0:g.arrayValue,O=(p=x[ac])===null||p===void 0?void 0:p.arrayValue,K=Mt(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((T=O==null?void 0:O.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:Gy(V,O)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Bu.mapValue&&d===Bu.mapValue)return 0;if(h===Bu.mapValue)return 1;if(d===Bu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let D=0;D<p.length&&D<T.length;++D){const x=Mt(p[D],T[D]);if(x!==0)return x;const V=bs(g[p[D]],y[T[D]]);if(V!==0)return V}return Mt(p.length,T.length)}(a.mapValue,e.mapValue);default:throw Et()}}function qy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Mt(a,e);const i=Mr(a),s=Mr(e),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function Gy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=bs(i[o],s[o]);if(h)return h}return Mt(i.length,s.length)}function As(a){return sd(a)}function sd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Mr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Ir(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return yt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=sd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${sd(i.fields[d])}`;return o+"}"}(a.mapValue):Et()}function Yu(a){switch(Or(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(a);return e?16+Yu(e):16;case 5:return 2*a.stringValue.length;case 6:return Ir(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Yu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Pr(s.fields,(h,d)=>{o+=h.length+Yu(d)}),o}(a.mapValue);default:throw Et()}}function ld(a){return!!a&&"integerValue"in a}function Id(a){return!!a&&"arrayValue"in a}function Fy(a){return!!a&&"nullValue"in a}function Qy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Xu(a){return!!a&&"mapValue"in a}function ZA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[y_])===null||i===void 0?void 0:i.stringValue)===v_}function Xl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Pr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Xl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function WA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===$A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Xu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Xl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Xu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Pr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new an(Xl(this.value))}}function __(a){const e=[];return Pr(a.fields,(i,s)=>{const o=new Be([i]);if(Xu(s)){const h=__(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Tt.min(),Tt.min(),Tt.min(),an.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Tt.min(),Tt.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Tt.min(),Tt.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function Ky(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=yt.comparator(yt.fromName(d.referenceValue),i.key):s=bs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ai(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i="asc"){this.field=e,this.dir=i}}function JA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{}class Ae extends E_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new e1(e,i,s):i==="array-contains"?new r1(e,s):i==="in"?new a1(e,s):i==="not-in"?new s1(e,s):i==="array-contains-any"?new l1(e,s):new Ae(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new n1(e,s):new i1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(bs(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends E_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new si(e,i)}matches(e){return T_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function T_(a){return a.op==="and"}function S_(a){return t1(a)&&T_(a)}function t1(a){for(const e of a.filters)if(e instanceof si)return!1;return!0}function od(a){if(a instanceof Ae)return a.field.canonicalString()+a.op.toString()+As(a.value);if(S_(a))return a.filters.map(e=>od(e)).join(",");{const e=a.filters.map(i=>od(i)).join(",");return`${a.op}(${e})`}}function b_(a,e){return a instanceof Ae?function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)}(a,e):a instanceof si?function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&b_(d,o.filters[g]),!0):!1}(a,e):void Et()}function A_(a){return a instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${As(i.value)}`}(a):a instanceof si?function(i){return i.op.toString()+" {"+i.getFilters().map(A_).join(" ,")+"}"}(a):"Filter"}class e1 extends Ae{constructor(e,i,s){super(e,i,s),this.key=yt.fromName(s.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class n1 extends Ae{constructor(e,i){super(e,"in",i),this.keys=w_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class i1 extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=w_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function w_(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>yt.fromName(s.referenceValue))}class r1 extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Id(i)&&ao(i.arrayValue,this.value)}}class a1 extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ao(this.value.arrayValue,i)}}class s1 extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!ao(this.value.arrayValue,i)}}class l1 extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Id(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ao(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function Xy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new o1(a,e,i,s,o,h,d)}function Od(a){const e=bt(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>od(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),vc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>As(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>As(s)).join(",")),e.le=i}return e.le}function kd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!JA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!b_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Yy(a.startAt,e.startAt)&&Yy(a.endAt,e.endAt)}function ud(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function u1(a,e,i,s,o,h,d,g){return new Ec(a,e,i,s,o,h,d,g)}function R_(a){return new Ec(a)}function $y(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function c1(a){return a.collectionGroup!==null}function $l(a){const e=bt(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new lc(h,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new lc(Be.keyField(),s))}return e.he}function ei(a){const e=bt(a);return e.Pe||(e.Pe=h1(e,$l(a))),e.Pe}function h1(a,e){if(a.limitType==="F")return Xy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new lc(o.field,h)});const i=a.endAt?new sc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new sc(a.startAt.position,a.startAt.inclusive):null;return Xy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function cd(a,e,i){return new Ec(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Tc(a,e){return kd(ei(a),ei(e))&&a.limitType===e.limitType}function D_(a){return`${Od(ei(a))}|lt:${a.limitType}`}function ps(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>A_(o)).join(", ")}]`),vc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>As(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>As(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Sc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):yt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of $l(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=Ky(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,$l(s),o)||s.endAt&&!function(d,g,p){const y=Ky(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,$l(s),o))}(a,e)}function f1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function C_(a){return(e,i)=>{let s=!1;for(const o of $l(a)){const h=d1(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function d1(a,e,i){const s=a.field.isKeyField()?yt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?bs(p,y):Et()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return h_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new ie(yt.comparator);function zi(){return m1}const x_=new ie(yt.comparator);function Ql(...a){let e=x_;for(const i of a)e=e.insert(i.key,i);return e}function N_(a){let e=x_;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ea(){return Zl()}function V_(){return Zl()}function Zl(){return new ba(a=>a.toString(),(a,e)=>a.isEqual(e))}const g1=new ie(yt.comparator),p1=new Re(yt.comparator);function Nt(...a){let e=p1;for(const i of a)e=e.add(i);return e}const y1=new Re(Mt);function v1(){return y1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function M_(a){return{integerValue:""+a}}function _1(a,e){return FA(e)?M_(e):Ld(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function E1(a,e,i){return a instanceof oc?function(o,h){const d={fields:{[m_]:{stringValue:d_},[p_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Md(h)&&(h=_c(h)),h&&(d.fields[g_]=h),{mapValue:d}}(i,e):a instanceof so?O_(a,e):a instanceof lo?k_(a,e):function(o,h){const d=I_(o,h),g=Zy(d)+Zy(o.Ie);return ld(d)&&ld(o.Ie)?M_(g):Ld(o.serializer,g)}(a,e)}function T1(a,e,i){return a instanceof so?O_(a,e):a instanceof lo?k_(a,e):i}function I_(a,e){return a instanceof uc?function(s){return ld(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class oc extends bc{}class so extends bc{constructor(e){super(),this.elements=e}}function O_(a,e){const i=L_(e);for(const s of a.elements)i.some(o=>ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class lo extends bc{constructor(e){super(),this.elements=e}}function k_(a,e){let i=L_(e);for(const s of a.elements)i=i.filter(o=>!ai(o,s));return{arrayValue:{values:i}}}class uc extends bc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Zy(a){return fe(a.integerValue||a.doubleValue)}function L_(a){return Id(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function S1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof so&&o instanceof so||s instanceof lo&&o instanceof lo?Ss(s.elements,o.elements,ai):s instanceof uc&&o instanceof uc?ai(s.Ie,o.Ie):s instanceof oc&&o instanceof oc}(a.transform,e.transform)}class b1{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ac{}function U_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new P_(a.key,ni.none()):new ho(a.key,a.data,ni.none());{const i=a.data,s=an.empty();let o=new Re(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Br(a.key,s,new dn(o.toArray()),ni.none())}}function A1(a,e,i){a instanceof ho?function(o,h,d){const g=o.value.clone(),p=Jy(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Br?function(o,h,d){if(!$u(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Jy(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(z_(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Wl(a,e,i,s){return a instanceof ho?function(h,d,g,p){if(!$u(h.precondition,d))return g;const y=h.value.clone(),T=tv(h.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof Br?function(h,d,g,p){if(!$u(h.precondition,d))return g;const y=tv(h.fieldTransforms,p,d),T=d.data;return T.setAll(z_(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(a,e,i,s):function(h,d,g){return $u(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function w1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=I_(s.transform,o||null);h!=null&&(i===null&&(i=an.empty()),i.set(s.field,h))}return i||null}function Wy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ss(s,o,(h,d)=>S1(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ho extends Ac{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Br extends Ac{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function z_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Jy(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,T1(d,g,i[o]))}return s}function tv(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,E1(h,d,e))}return s}class P_ extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R1 extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&A1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Wl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Wl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=V_();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=U_(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(i,s)=>Wy(i,s))&&Ss(this.baseMutations,e.baseMutations,(i,s)=>Wy(i,s))}}class Ud{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return g1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Ud(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Lt;function N1(a){switch(a){case tt.OK:return Et();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et()}}function B_(a){if(a===void 0)return Ui("GRPC error has no .code"),tt.UNKNOWN;switch(a){case ye.OK:return tt.OK;case ye.CANCELLED:return tt.CANCELLED;case ye.UNKNOWN:return tt.UNKNOWN;case ye.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ye.INTERNAL:return tt.INTERNAL;case ye.UNAVAILABLE:return tt.UNAVAILABLE;case ye.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ye.NOT_FOUND:return tt.NOT_FOUND;case ye.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ye.ABORTED:return tt.ABORTED;case ye.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ye.DATA_LOSS:return tt.DATA_LOSS;default:return Et()}}(Lt=ye||(ye={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Rr([4294967295,4294967295],0);function ev(a){const e=V1().encode(a),i=new n_;return i.update(e),new Uint8Array(i.digest())}function nv(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Rr([i,s],0),new Rr([o,h],0)]}class zd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Rr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Rr.fromNumber(s)));return o.compare(M1)===1&&(o=new Rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=ev(e),[s,o]=nv(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new zd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=ev(e),[s,o]=nv(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new wc(Tt.min(),o,new ie(Mt),zi(),Nt())}}class fo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fo(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class j_{constructor(e,i){this.targetId=e,this.ge=i}}class H_{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class iv{constructor(){this.pe=0,this.ye=rv(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new fo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=rv()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class I1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=zi(),this.$e=ju(),this.Ke=ju(),this.Ue=new ie(Mt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(ud(h))if(s===0){const d=new yt(h.path);this.ze(i,d,Ke.newNoDocument(d,Tt.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ir(s).toUint8Array()}catch(p){if(p instanceof f_)return Ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new zd(d,o,h)}catch(p){return Ts(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&ud(g.target)){const p=new yt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Nt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new wc(e,i,this.Ue,this.Qe,s);return this.Qe=zi(),this.$e=ju(),this.Ke=ju(),this.Ue=new ie(Mt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new iv,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Re(Mt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(Mt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new iv),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function ju(){return new ie(yt.comparator)}function rv(){return new ie(yt.comparator)}const O1={asc:"ASCENDING",desc:"DESCENDING"},k1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L1={and:"AND",or:"OR"};class U1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hd(a,e){return a.useProto3Json||vc(e)?e:{value:e}}function cc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function z1(a,e){return cc(a,e.toTimestamp())}function ii(a){return Gt(!!a),Tt.fromTimestamp(function(i){const s=Mr(i);return new we(s.seconds,s.nanos)}(a))}function Pd(a,e){return fd(a,e).canonicalString()}function fd(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function G_(a){const e=Wt.fromString(a);return Gt(X_(e)),e}function dd(a,e){return Pd(a.databaseId,e.path)}function Qf(a,e){const i=G_(e);if(i.get(1)!==a.databaseId.projectId)throw new pt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new pt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt(Q_(i))}function F_(a,e){return Pd(a.databaseId,e)}function P1(a){const e=G_(a);return e.length===4?Wt.emptyPath():Q_(e)}function md(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Q_(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function av(a,e,i){return{name:dd(a,e),fields:i.value.mapValue.fields}}function B1(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string"),je.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),je.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const T=y.code===void 0?tt.UNKNOWN:B_(y.code);return new pt(T,y.message||"")}(d);i=new H_(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):Tt.min(),g=new an({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,h,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new Zu(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qf(a,s.document),h=s.readTime?ii(s.readTime):Tt.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Zu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qf(a,s.document),h=s.removedTargetIds||[];i=new Zu([],h,o,null)}else{if(!("filter"in e))return Et();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new x1(o,h),g=s.targetId;i=new j_(g,d)}}return i}function j1(a,e){let i;if(e instanceof ho)i={update:av(a,e.key,e.value)};else if(e instanceof P_)i={delete:dd(a,e.key)};else if(e instanceof Br)i={update:av(a,e.key,e.data),updateMask:$1(e.fieldMask)};else{if(!(e instanceof R1))return Et();i={verify:dd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Et()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:z1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et()}(a,e.precondition)),i}function H1(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(Tt.min())&&(d=ii(h)),new b1(d,o.transformResults||[])}(i,e))):[]}function q1(a,e){return{documents:[F_(a,e.path)]}}function G1(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=F_(a,o);const h=function(y){if(y.length!==0)return Y_(si.create(y,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(y){if(y.length!==0)return y.map(T=>function(x){return{field:ys(x.field),direction:K1(x.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function F1(a){let e=P1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(D){const x=K_(D);return x instanceof si&&S_(x)?x.getFilters():[x]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(x=>function(O){return new lc(vs(O.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(x))}(i.orderBy));let g=null;i.limit&&(g=function(D){let x;return x=typeof D=="object"?D.value:D,vc(x)?null:x}(i.limit));let p=null;i.startAt&&(p=function(D){const x=!!D.before,V=D.values||[];return new sc(V,x)}(i.startAt));let y=null;return i.endAt&&(y=function(D){const x=!D.before,V=D.values||[];return new sc(V,x)}(i.endAt)),u1(e,o,d,h,g,"F",p,y)}function Q1(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function K_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vs(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vs(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=vs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(a):a.fieldFilter!==void 0?function(i){return Ae.create(vs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return si.create(i.compositeFilter.filters.map(s=>K_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(a):Et()}function K1(a){return O1[a]}function Y1(a){return k1[a]}function X1(a){return L1[a]}function ys(a){return{fieldPath:a.canonicalString()}}function vs(a){return Be.fromServerFormat(a.fieldPath)}function Y_(a){return a instanceof Ae?function(i){if(i.op==="=="){if(Qy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(Fy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Qy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(Fy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:Y1(i.op),value:i.value}}}(a):a instanceof si?function(i){const s=i.getFilters().map(o=>Y_(o));return s.length===1?s[0]:{compositeFilter:{op:X1(i.op),filters:s}}}(a):Et()}function $1(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function X_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.Tt=e}}function W1(a){const e=F1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.Tn=new tw}addToCollectionParentIndex(e,i){return this.Tn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Vr.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class tw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$_=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn($_,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ws(0)}static Un(){return new ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LruGarbageCollector",ew=1048576;function ov([a,e],[i,s]){const o=Mt(a,i);return o===0?Mt(e,s):o}class nw{constructor(e){this.Hn=e,this.buffer=new Re(ov),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();ov(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ct(lv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?ct(lv,"Ignoring IndexedDB error during garbage collection: ",i):await Is(i)}await this.er(3e5)})}}class rw{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(yc.ae);const s=new nw(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(sv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,d=Date.now(),this.nthSequenceNumber(e,o))).next(D=>(s=D,g=Date.now(),this.removeTargets(e,s,i))).next(D=>(h=D,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(D=>(y=Date.now(),gs()<=Ut.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${D} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:D})))}}function aw(a,e){return new rw(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.changes=new ba(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Wl(s.mutation,o,dn.empty(),we.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=Ea();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Ql();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Ea();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=zi();const d=Zl(),g=function(){return Zl()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Br)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Wl(T.mutation,y,T.mutation.getFieldMask(),we.now())):d.set(y.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var D;return g.set(y,new lw(T,(D=d.get(y))!==null&&D!==void 0?D:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Zl();let o=new ie((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||dn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const D=(o.get(g.batchId)||Nt()).add(p);o=o.insert(g.batchId,D)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,D=V_();T.forEach(x=>{if(!h.has(x)){const V=U_(i.get(x),s.get(x));V!==null&&D.set(x,V),h=h.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,D))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):c1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Z.resolve(Ea());let g=no,p=h;return d.next(y=>Z.forEach(y,(T,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{p=p.insert(T,x)}))).next(()=>this.populateOverlays(e,y,h)).next(()=>this.computeViews(e,p,y,Nt())).next(T=>({batchId:g,changes:N_(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next(g=>Z.forEach(g,p=>{const y=function(D,x){return new Ec(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((D,x)=>{d=d.insert(D,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let g=Ql();return d.forEach((p,y)=>{const T=h.get(p);T!==void 0&&Wl(T.mutation,y,dn.empty(),we.now()),Sc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Z.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:W1(o.bundledQuery),readTime:ii(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.overlays=new ie(yt.comparator),this.Rr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ea();return Z.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=Ea(),h=i.length+1,d=new yt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ie((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=h.get(y.largestBatchId);T===null&&(T=Ea(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Ea(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return Z.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new C1(i,s));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.Vr=new Re(Oe.mr),this.gr=new Re(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new yt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new yt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=Nt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return yt.comparator(e.key,i.key)||Mt(e.Cr,i.Cr)}static pr(e,i){return Mt(e.Cr,i.Cr)||yt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Oe.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new D1(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Vd:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Mt);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;yt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new yt(h),0);let g=new Re(Mt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),Z.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.kr=e,this.docs=function(){return new ie(yt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=zi();const d=i.path,g=new yt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||jA(BA(T),s)<=0||(o.has(T.key)||Sc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,o){Et()}qr(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new mw(this)}getSize(e){return Z.resolve(this.size)}}class mw extends sw{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.persistence=e,this.Qr=new ba(i=>Od(i),kd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Bd,this.targetCount=0,this.Ur=ws.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Z.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new ws(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.zn(i),Z.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Z.waitFor(h).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new yc(0),this.zr=!1,this.zr=!0,this.jr=new hw,this.referenceDelegate=e(this),this.Hr=new gw(this),this.indexManager=new J1,this.remoteDocumentCache=function(o){return new dw(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Z1(i),this.Yr=new uw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new fw(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ct("MemoryPersistence","Starting transaction:",e);const o=new pw(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class pw extends qA{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.ti=new Bd,this.ni=null}static ri(e){return new jd(e)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Z.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=yt.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Z.or([()=>Z.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class hc{constructor(e,i){this.persistence=e,this.oi=new ba(s=>QA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aw(this,i)}static ri(e,i){return new hc(e,i)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?Z.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yu(e.data.value)),i}ar(e,i,s){return Z.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Hd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return db()?8:GA(hb())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new yw;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(gs()<=Ut.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(gs()<=Ut.DEBUG&&ct("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(gs()<=Ut.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Z.resolve())}rs(e,i){if($y(i))return Z.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=cd(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,cd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return $y(i)||o.isEqual(Tt.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?Z.resolve(null):(gs()<=Ut.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.hs(e,d,i,PA(o,no)).next(g=>g))})}cs(e,i){let s=new Re(C_(e));return i.forEach((o,h)=>{Sc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return gs()<=Ut.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ns.getDocumentsMatchingQuery(e,i,Vr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="LocalStore",_w=3e8;class Ew{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ie(Mt),this.Is=new ba(h=>Od(h),kd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ow(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function Tw(a,e,i,s){return new Ew(a,e,i,s)}async function W_(a,e){const i=bt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=Nt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of h){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function Sw(a,e){const i=bt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const D=y.batch,x=D.keys();let V=Z.resolve();return x.forEach(O=>{V=V.next(()=>T.getEntry(p,O)).next(K=>{const j=y.docVersions.get(O);Gt(j!==null),K.version.compareTo(j)<0&&(D.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),V.next(()=>g.mutationQueue.removeMutationBatch(p,D))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function J_(a){const e=bt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function bw(a,e){const i=bt(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((T,D)=>{const x=o.get(D);if(!x)return;g.push(i.Hr.removeMatchingKeys(h,T.removedDocuments,D).next(()=>i.Hr.addMatchingKeys(h,T.addedDocuments,D)));let V=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?V=V.withResumeToken(je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(D,V),function(K,j,X){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=_w?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(x,V,T)&&g.push(i.Hr.updateTargetData(h,V))});let p=zi(),y=Nt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(Aw(h,d,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Tt.min())){const T=i.Hr.getLastRemoteSnapshotVersion(h).next(D=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return Z.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,y)).next(()=>p)}).then(h=>(i.Ts=o,h))}function Aw(a,e,i){let s=Nt(),o=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=zi();return i.forEach((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ct(qd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function ww(a,e){const i=bt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Vd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Rw(a,e){const i=bt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,Z.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new br(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function gd(a,e,i){const s=bt(a),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;ct(qd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function uv(a,e,i){const s=bt(a);let o=Tt.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const D=bt(p),x=D.Is.get(T);return x!==void 0?Z.resolve(D.Ts.get(x)):D.Hr.getTargetData(y,T)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Nt())).next(g=>(Dw(s,f1(e),g),{documents:g,gs:h})))}function Dw(a,e,i){let s=a.Es.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class cv{constructor(){this.activeTargetIds=v1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cw{constructor(){this.ho=new cv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new cv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="ConnectivityMonitor";class fv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ct(hv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ct(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function pd(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",Nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vw{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===rc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=pd(),g=this.bo(e,i.toUriEncodedString());ct(Kf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,h),this.vo(e,g,p,s).then(y=>(ct(Kf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ts(Kf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=Nw[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class Iw extends Vw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=pd();return new Promise((d,g)=>{const p=new i_;p.setWithCredentials(!0),p.listenOnce(r_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ku.NO_ERROR:const T=p.getResponseJson();ct(Fe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case Ku.TIMEOUT:ct(Fe,`RPC '${e}' ${h} timed out`),g(new pt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const D=p.getStatus();if(ct(Fe,`RPC '${e}' ${h} failed with status:`,D,"response text:",p.getResponseText()),D>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x==null?void 0:x.error;if(V&&V.status&&V.message){const O=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(X)>=0?X:tt.UNKNOWN}(V.status);g(new pt(O,V.message))}else g(new pt(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new pt(tt.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ct(Fe,`RPC '${e}' ${h} completed.`)}});const y=JSON.stringify(o);ct(Fe,`RPC '${e}' ${h} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=pd(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=l_(),g=s_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=h.join("");ct(Fe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const D=d.createWebChannel(T,p);let x=!1,V=!1;const O=new Mw({Fo:j=>{V?ct(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(x||(ct(Fe,`Opening RPC '${e}' stream ${o} transport.`),D.open(),x=!0),ct(Fe,`RPC '${e}' stream ${o} sending:`,j),D.send(j))},Mo:()=>D.close()}),K=(j,X,nt)=>{j.listen(X,et=>{try{nt(et)}catch(st){setTimeout(()=>{throw st},0)}})};return K(D,Fl.EventType.OPEN,()=>{V||(ct(Fe,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),K(D,Fl.EventType.CLOSE,()=>{V||(V=!0,ct(Fe,`RPC '${e}' stream ${o} transport closed`),O.Ko())}),K(D,Fl.EventType.ERROR,j=>{V||(V=!0,Ts(Fe,`RPC '${e}' stream ${o} transport errored:`,j),O.Ko(new pt(tt.UNAVAILABLE,"The operation could not be completed")))}),K(D,Fl.EventType.MESSAGE,j=>{var X;if(!V){const nt=j.data[0];Gt(!!nt);const et=nt,st=(et==null?void 0:et.error)||((X=et[0])===null||X===void 0?void 0:X.error);if(st){ct(Fe,`RPC '${e}' stream ${o} received error:`,st);const lt=st.status;let rt=function(b){const w=ye[b];if(w!==void 0)return B_(w)}(lt),N=st.message;rt===void 0&&(rt=tt.INTERNAL,N="Unknown error status: "+lt+" with message "+st.message),V=!0,O.Ko(new pt(rt,N)),D.close()}else ct(Fe,`RPC '${e}' stream ${o} received:`,nt),O.Uo(nt)}}),K(g,a_.STAT_EVENT,j=>{j.stat===ad.PROXY?ct(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===ad.NOPROXY&&ct(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(a){return new U1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="PersistentStream";class e0{constructor(e,i,s,o,h,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new t0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new pt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ct(dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ct(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ow extends e0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=B1(this.serializer,e),s=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ii(d.readTime):Tt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=md(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=ud(p)?{documents:q1(h,p)}:{query:G1(h,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=q_(h,d.resumeToken);const y=hd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=cc(h,d.snapshotVersion.toTimestamp());const y=hd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=Q1(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=md(this.serializer),i.removeTarget=e,this.I_(i)}}class kw extends e0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=H1(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=md(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>j1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class Uw extends Lw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,fd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pt(tt.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,fd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pt(tt.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(i),this.N_=!1):ct("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class Pw{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{Aa(this)&&(ct(Sa,"Restarting streams for network reachability change."),await async function(p){const y=bt(p);y.W_.add(4),await mo(y),y.j_.set("Unknown"),y.W_.delete(4),await Dc(y)}(this))})}),this.j_=new zw(s,o)}}async function Dc(a){if(Aa(a))for(const e of a.G_)await e(!0)}async function mo(a){for(const e of a.G_)await e(!1)}function n0(a,e){const i=bt(a);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),Kd(i)?Qd(i):ks(i).c_()&&Fd(i,e))}function Gd(a,e){const i=bt(a),s=ks(i);i.U_.delete(e),s.c_()&&i0(i,e),i.U_.size===0&&(s.c_()?s.P_():Aa(i)&&i.j_.set("Unknown"))}function Fd(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ks(a).y_(e)}function i0(a,e){a.H_.Ne(e),ks(a).w_(e)}function Qd(a){a.H_=new I1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.U_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),ks(a).start(),a.j_.B_()}function Kd(a){return Aa(a)&&!ks(a).u_()&&a.U_.size>0}function Aa(a){return bt(a).W_.size===0}function r0(a){a.H_=void 0}async function Bw(a){a.j_.set("Online")}async function jw(a){a.U_.forEach((e,i)=>{Fd(a,e)})}async function Hw(a,e){r0(a),Kd(a)?(a.j_.q_(e),Qd(a)):a.j_.set("Unknown")}async function qw(a,e,i){if(a.j_.set("Online"),e instanceof H_&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.U_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.U_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(s){ct(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(a,s)}else if(e instanceof Zu?a.H_.We(e):e instanceof j_?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Tt.min()))try{const s=await J_(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.U_.get(y);T&&h.U_.set(y,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const T=h.U_.get(p);if(!T)return;h.U_.set(p,T.withResumeToken(je.EMPTY_BYTE_STRING,T.snapshotVersion)),i0(h,p);const D=new br(T.target,p,y,T.sequenceNumber);Fd(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ct(Sa,"Failed to raise snapshot:",s),await fc(a,s)}}async function fc(a,e,i){if(!Os(e))throw e;a.W_.add(1),await mo(a),a.j_.set("Offline"),i||(i=()=>J_(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ct(Sa,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Dc(a)})}function a0(a,e){return e().catch(i=>fc(a,i,e))}async function Cc(a){const e=bt(a),i=kr(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Vd;for(;Gw(e);)try{const o=await ww(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,Fw(e,o)}catch(o){await fc(e,o)}s0(e)&&l0(e)}function Gw(a){return Aa(a)&&a.K_.length<10}function Fw(a,e){a.K_.push(e);const i=kr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function s0(a){return Aa(a)&&!kr(a).u_()&&a.K_.length>0}function l0(a){kr(a).start()}async function Qw(a){kr(a).C_()}async function Kw(a){const e=kr(a);for(const i of a.K_)e.b_(i.mutations)}async function Yw(a,e,i){const s=a.K_.shift(),o=Ud.from(s,e,i);await a0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Cc(a)}async function Xw(a,e){e&&kr(a).S_&&await async function(s,o){if(function(d){return N1(d)&&d!==tt.ABORTED}(o.code)){const h=s.K_.shift();kr(s).h_(),await a0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Cc(s)}}(a,e),s0(a)&&l0(a)}async function mv(a,e){const i=bt(a);i.asyncQueue.verifyOperationInProgress(),ct(Sa,"RemoteStore received new credentials");const s=Aa(i);i.W_.add(3),await mo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Dc(i)}async function $w(a,e){const i=bt(a);e?(i.W_.delete(2),await Dc(i)):e||(i.W_.add(2),await mo(i),i.j_.set("Unknown"))}function ks(a){return a.J_||(a.J_=function(i,s,o){const h=bt(i);return h.M_(),new Ow(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:Bw.bind(null,a),No:jw.bind(null,a),Lo:Hw.bind(null,a),p_:qw.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),Kd(a)?Qd(a):a.j_.set("Unknown")):(await a.J_.stop(),r0(a))})),a.J_}function kr(a){return a.Y_||(a.Y_=function(i,s,o){const h=bt(i);return h.M_(),new kw(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:Qw.bind(null,a),Lo:Xw.bind(null,a),D_:Kw.bind(null,a),v_:Yw.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await Cc(a)):(await a.Y_.stop(),a.K_.length>0&&(ct(Sa,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Yd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(a,e){if(Ui("AsyncQueue",`${e}: ${a}`),Os(a))return new pt(tt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Es;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Z_=new ie(yt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Et():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Rs{constructor(e,i,s,o,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Rs(e,i,Es.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Ww{constructor(){this.queries=pv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=bt(i),h=o.queries;o.queries=pv(),h.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new pt(tt.ABORTED,"Firestore shutting down"))}}function pv(){return new ba(a=>D_(a),Tc)}async function Jw(a,e){const i=bt(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new Zw,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Xd(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&$d(i)}async function tR(a,e){const i=bt(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function eR(a,e){const i=bt(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&$d(i)}function nR(a,e,i){const s=bt(a),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function $d(a){a.ia.forEach(e=>{e.next()})}var yd,yv;(yv=yd||(yd={}))._a="default",yv.Cache="cache";class iR{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Rs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class rR{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=C_(e),this.wa=new Es(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new gv,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,D)=>{const x=o.get(T),V=Sc(this.query,D)?D:null,O=!!x&&this.mutatedKeys.has(x.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let j=!1;x&&V?x.data.isEqual(V.data)?O!==K&&(s.track({type:3,doc:V}),j=!0):this.va(x,V)||(s.track({type:2,doc:V}),j=!0,(p&&this.ya(V,p)>0||y&&this.ya(V,y)<0)&&(g=!0)):!x&&V?(s.track({type:0,doc:V}),j=!0):x&&!V&&(s.track({type:1,doc:x}),j=!0,(p||y)&&(g=!0)),j&&(V?(d=d.add(V),h=K?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,D)=>function(V,O){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return K(V)-K(O)}(T.type,D.type)||this.ya(T.doc,D.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Rs(this.query,e.wa,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new gv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new u0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new o0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Rs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zd="SyncEngine";class aR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class sR{constructor(e){this.key=e,this.Ba=!1}}class lR{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ba(g=>D_(g),Tc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(yt.comparator),this.Ka=new Map,this.Ua=new Bd,this.Wa={},this.Ga=new Map,this.za=ws.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oR(a,e,i=!0){const s=g0(a);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await c0(s,e,i,!0),o}async function uR(a,e){const i=g0(a);await c0(i,e,!0,!1)}async function c0(a,e,i,s){const o=await Rw(a.localStore,ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await cR(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&n0(a.remoteStore,o),g}async function cR(a,e,i,s,o){a.Ha=(D,x,V)=>async function(K,j,X,nt){let et=j.view.ba(X);et.ls&&(et=await uv(K.localStore,j.query,!1).then(({documents:N})=>j.view.ba(N,et)));const st=nt&&nt.targetChanges.get(j.targetId),lt=nt&&nt.targetMismatches.get(j.targetId)!=null,rt=j.view.applyChanges(et,K.isPrimaryClient,st,lt);return _v(K,j.targetId,rt.Ma),rt.snapshot}(a,D,x,V);const h=await uv(a.localStore,e,!0),d=new rR(e,h.gs),g=d.ba(h.documents),p=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);_v(a,i,y.Ma);const T=new aR(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function hR(a,e,i){const s=bt(a),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!Tc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Gd(s.remoteStore,o.targetId),vd(s,o.targetId)}).catch(Is)):(vd(s,o.targetId),await gd(s.localStore,o.targetId,!0))}async function fR(a,e){const i=bt(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Gd(i.remoteStore,s.targetId))}async function dR(a,e,i){const s=ER(a);try{const o=await function(d,g){const p=bt(d),y=we.now(),T=g.reduce((V,O)=>V.add(O.key),Nt());let D,x;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let O=zi(),K=Nt();return p.ds.getEntries(V,T).next(j=>{O=j,O.forEach((X,nt)=>{nt.isValidDocument()||(K=K.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,O)).next(j=>{D=j;const X=[];for(const nt of g){const et=w1(nt,D.get(nt.key).overlayedDocument);et!=null&&X.push(new Br(nt.key,et,__(et.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,X,g)}).next(j=>{x=j;const X=j.applyToLocalDocumentSet(D,K);return p.documentOverlayCache.saveOverlays(V,j.batchId,X)})}).then(()=>({batchId:x.batchId,changes:N_(D)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ie(Mt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await go(s,o.changes),await Cc(s.remoteStore)}catch(o){const h=Xd(o,"Failed to persist write");i.reject(h)}}async function h0(a,e){const i=bt(a);try{const s=await bw(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ka.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await go(i,s,e)}catch(s){await Is(s)}}function vv(a,e,i){const s=bt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=bt(d);p.onlineState=g;let y=!1;p.queries.forEach((T,D)=>{for(const x of D.ta)x.sa(g)&&(y=!0)}),y&&$d(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mR(a,e,i){const s=bt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),h=o&&o.key;if(h){let d=new ie(yt.comparator);d=d.insert(h,Ke.newNoDocument(h,Tt.min()));const g=Nt().add(h),p=new wc(Tt.min(),new Map,new ie(Mt),d,g);await h0(s,p),s.$a=s.$a.remove(h),s.Ka.delete(e),Wd(s)}else await gd(s.localStore,e,!1).then(()=>vd(s,e,i)).catch(Is)}async function gR(a,e){const i=bt(a),s=e.batch.batchId;try{const o=await Sw(i.localStore,e);d0(i,s,null),f0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Is(o)}}async function pR(a,e,i){const s=bt(a);try{const o=await function(d,g){const p=bt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(D=>(Gt(D!==null),T=D.keys(),p.mutationQueue.removeMutationBatch(y,D))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);d0(s,e,i),f0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await go(s,o)}catch(o){await Is(o)}}function f0(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function d0(a,e,i){const s=bt(a);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function vd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ua.br(e).forEach(s=>{a.Ua.containsKey(s)||m0(a,s)})}function m0(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Gd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ka.delete(i),Wd(a))}function _v(a,e,i){for(const s of i)s instanceof o0?(a.Ua.addReference(s.key,e),yR(a,s)):s instanceof u0?(ct(Zd,"Document no longer in limbo: "+s.key),a.Ua.removeReference(s.key,e),a.Ua.containsKey(s.key)||m0(a,s.key)):Et()}function yR(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ct(Zd,"New document in limbo: "+i),a.Qa.add(s),Wd(a))}function Wd(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new yt(Wt.fromString(e)),s=a.za.next();a.Ka.set(s,new sR(i)),a.$a=a.$a.insert(i,s),n0(a.remoteStore,new br(ei(R_(i.path)),s,"TargetPurposeLimboResolution",yc.ae))}}async function go(a,e,i){const s=bt(a),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const D=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,D?"current":"not-current")}if(y){o.push(y);const D=Hd.Yi(p.targetId,y);h.push(D)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=bt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>Z.forEach(y,x=>Z.forEach(x.Hi,V=>T.persistence.referenceDelegate.addReference(D,x.targetId,V)).next(()=>Z.forEach(x.Ji,V=>T.persistence.referenceDelegate.removeReference(D,x.targetId,V)))))}catch(D){if(!Os(D))throw D;ct(qd,"Failed to update sequence numbers: "+D)}for(const D of y){const x=D.targetId;if(!D.fromCache){const V=T.Ts.get(x),O=V.snapshotVersion,K=V.withLastLimboFreeSnapshotVersion(O);T.Ts=T.Ts.insert(x,K)}}}(s.localStore,h))}async function vR(a,e){const i=bt(a);if(!i.currentUser.isEqual(e)){ct(Zd,"User change. New user:",e.toKey());const s=await W_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(p=>{p.reject(new pt(tt.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await go(i,s.Rs)}}function _R(a,e){const i=bt(a),s=i.Ka.get(e);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function g0(a){const e=bt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mR.bind(null,e),e.La.p_=eR.bind(null,e.eventManager),e.La.Ja=nR.bind(null,e.eventManager),e}function ER(a){const e=bt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pR.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return Tw(this.persistence,new vw,e.initialUser,this.serializer)}Xa(e){return new Z_(jd.ri,this.serializer)}Za(e){return new Cw}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class TR extends dc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof hc);const s=this.persistence.referenceDelegate.garbageCollector;return new iw(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Z_(s=>hc.ri(s,i),this.serializer)}}class _d{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vR.bind(null,this.syncEngine),await $w(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ww}()}createDatastore(e){const i=Rc(e.databaseInfo.databaseId),s=function(h){return new Iw(h)}(e.databaseInfo);return function(h,d,g,p){return new Uw(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new Pw(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>vv(this.syncEngine,i,0),function(){return fv.D()?new fv:new xw}())}createSyncEngine(e,i){return function(o,h,d,g,p,y,T){const D=new lR(o,h,d,g,p,y);return T&&(D.ja=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=bt(o);ct(Sa,"RemoteStore shutting down."),h.W_.add(5),await mo(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}_d.provider={build:()=>new _d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class bR{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=u_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ct(Lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(Lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Xd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xf(a,e){a.asyncQueue.verifyOperationInProgress(),ct(Lr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await W_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function Ev(a,e){a.asyncQueue.verifyOperationInProgress();const i=await AR(a);ct(Lr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>mv(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>mv(e.remoteStore,o)),a._onlineComponents=e}async function AR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(Lr,"Using user provided OfflineComponentProvider");try{await Xf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Xf(a,new dc)}}else ct(Lr,"Using default OfflineComponentProvider"),await Xf(a,new TR(void 0));return a._offlineComponents}async function p0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(Lr,"Using user provided OnlineComponentProvider"),await Ev(a,a._uninitializedComponentsProvider._online)):(ct(Lr,"Using default OnlineComponentProvider"),await Ev(a,new _d))),a._onlineComponents}function wR(a){return p0(a).then(e=>e.syncEngine)}async function RR(a){const e=await p0(a),i=e.eventManager;return i.onListen=oR.bind(null,e.syncEngine),i.onUnlisten=hR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=uR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fR.bind(null,e.syncEngine),i}function DR(a,e,i={}){const s=new Dr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,y){const T=new SR({next:x=>{T.su(),d.enqueueAndForget(()=>tR(h,D)),x.fromCache&&p.source==="server"?y.reject(new pt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),D=new iR(g,T,{includeMetadataChanges:!0,Ta:!0});return Jw(h,D)}(await RR(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(a,e,i){if(!i)throw new pt(tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function CR(a,e,i,s){if(e===!0&&s===!0)throw new pt(tt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Sv(a){if(!yt.isDocumentKey(a))throw new pt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function bv(a){if(yt.isDocumentKey(a))throw new pt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Jd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et()}function Ds(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new pt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jd(a);throw new pt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firestore.googleapis.com",Av=!0;class wv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=Av}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Av;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ew)throw new pt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new pt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new pt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new pt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VA;switch(s.type){case"firstParty":return new kA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Tv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),Tv.delete(i),s.terminate())}(this),Promise.resolve()}}function xR(a,e,i,s={}){var o;const h=(a=Ds(a,xc))._getSettings(),d=`${e}:${i}`;if(h.host!==_0&&h.host!==d&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),s.mockUserToken){let g,p;if(typeof s.mockUserToken=="string")g=s.mockUserToken,p=Qe.MOCK_USER;else{g=cb(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new pt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}a._authCredentials=new MA(new o_(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Nc(this.firestore,e,this._query)}}class Vn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Cr extends Nc{constructor(e,i,s){super(e,i,R_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new yt(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function Rv(a,e,...i){if(a=Nr(a),v0("collection","path",e),a instanceof xc){const s=Wt.fromString(e,...i);return bv(s),new Cr(a,null,s)}{if(!(a instanceof Vn||a instanceof Cr))throw new pt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return bv(s),new Cr(a.firestore,null,s)}}function E0(a,e,...i){if(a=Nr(a),arguments.length===1&&(e=u_.newId()),v0("doc","path",e),a instanceof xc){const s=Wt.fromString(e,...i);return Sv(s),new Vn(a,null,new yt(s))}{if(!(a instanceof Vn||a instanceof Cr))throw new pt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Sv(s),new Vn(a.firestore,a instanceof Cr?a.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="AsyncQueue";class Cv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new t0(this,"async_queue_retry"),this.Su=()=>{const s=Yf();s&&ct(Dv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Os(e))throw e;ct(Dv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Ui("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Yd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Vc extends xc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Cv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cv(e),this._firestoreClient=void 0,await e}}}function NR(a,e){const i=typeof a=="object"?a:EA(),s=typeof a=="string"?a:rc,o=gA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=ob("firestore");h&&xR(o,...h)}return o}function T0(a){if(a._terminated)throw new pt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||VR(a),a._firestoreClient}function VR(a){var e,i,s;const o=a._freezeSettings(),h=function(g,p,y,T){return new XA(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,y0(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new bR(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(je.fromBase64String(e))}catch(i){throw new pt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cs(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^__.*__$/;class IR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}class S0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function b0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class im{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(b0(this.Lu)&&MR.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class OR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Rc(e)}ju(e,i,s,o=!1){return new im({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A0(a){const e=a._freezeSettings(),i=Rc(a._databaseId);return new OR(a._databaseId,!!e.ignoreUndefinedProperties,i)}function kR(a,e,i,s,o,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,o);rm("Data must be an object, but it was:",d,s);const g=w0(s,d);let p,y;if(h.merge)p=new dn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const D of h.mergeFields){const x=Ed(e,D,i);if(!d.contains(x))throw new pt(tt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);D0(T,x)||T.push(x)}p=new dn(T),y=d.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,y=d.fieldTransforms;return new IR(new an(g),p,y)}class Ic extends tm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}function LR(a,e,i,s){const o=a.ju(1,e,i);rm("Data must be an object, but it was:",o,s);const h=[],d=an.empty();Pr(s,(p,y)=>{const T=am(e,p,i);y=Nr(y);const D=o.Ku(T);if(y instanceof Ic)h.push(T);else{const x=Oc(y,D);x!=null&&(h.push(T),d.set(T,x))}});const g=new dn(h);return new S0(d,g,o.fieldTransforms)}function UR(a,e,i,s,o,h){const d=a.ju(1,e,i),g=[Ed(e,s,i)],p=[o];if(h.length%2!=0)throw new pt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<h.length;x+=2)g.push(Ed(e,h[x])),p.push(h[x+1]);const y=[],T=an.empty();for(let x=g.length-1;x>=0;--x)if(!D0(y,g[x])){const V=g[x];let O=p[x];O=Nr(O);const K=d.Ku(V);if(O instanceof Ic)y.push(V);else{const j=Oc(O,K);j!=null&&(y.push(V),T.set(V,j))}}const D=new dn(y);return new S0(T,D,d.fieldTransforms)}function Oc(a,e){if(R0(a=Nr(a)))return rm("Unsupported field value:",e,a),w0(a,e);if(a instanceof tm)return function(s,o){if(!b0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let p=Oc(g,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=Nr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=we.fromDate(s);return{timestampValue:cc(o.serializer,h)}}if(s instanceof we){const h=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cc(o.serializer,h)}}if(s instanceof em)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cs)return{bytesValue:q_(o.serializer,s._byteString)};if(s instanceof Vn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Pd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof nm)return function(d,g){return{mapValue:{fields:{[y_]:{stringValue:v_},[ac]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Ld(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Jd(s)}`)}(a,e)}function w0(a,e){const i={};return h_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pr(a,(s,o)=>{const h=Oc(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function R0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof we||a instanceof em||a instanceof Cs||a instanceof Vn||a instanceof tm||a instanceof nm)}function rm(a,e,i){if(!R0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Jd(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function Ed(a,e,i){if((e=Nr(e))instanceof Mc)return e._internalPath;if(typeof e=="string")return am(a,e);throw mc("Field path arguments must be of type string or ",a,!1,void 0,i)}const zR=new RegExp("[~\\*/\\[\\]]");function am(a,e,i){if(e.search(zR)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Mc(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function mc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new pt(tt.INVALID_ARGUMENT,g+a+p)}function D0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(x0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class PR extends C0{data(){return super.data()}}function x0(a,e){return typeof e=="string"?am(a,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new pt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jR{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Pr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[ac].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new nm(h)}convertGeoPoint(e){return new em(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=_c(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const i=Mr(e);return new we(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Gt(X_(s));const o=new ro(s.get(1),s.get(3)),h=new yt(s.popFirst(5));return o.isEqual(i)||Ui(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qR extends C0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(x0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Wu extends qR{data(e={}){return super.data(e)}}class GR{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new qu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Wu(this._firestore,this._userDataWriter,s.key,s,new qu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new qu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new qu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:FR(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function FR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class QR extends jR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,i)}}function KR(a){a=Ds(a,Nc);const e=Ds(a.firestore,Vc),i=T0(e),s=new QR(e);return BR(a._query),DR(i,a._query).then(o=>new GR(e,s,a,o))}function xv(a,e,i,...s){a=Ds(a,Vn);const o=Ds(a.firestore,Vc),h=A0(o);let d;return d=typeof(e=Nr(e))=="string"||e instanceof Mc?UR(h,"updateDoc",a._key,e,i,s):LR(h,"updateDoc",a._key,e),N0(o,[d.toMutation(a._key,ni.exists(!0))])}function YR(a,e){const i=Ds(a.firestore,Vc),s=E0(a),o=HR(a.converter,e);return N0(i,[kR(A0(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then(()=>s)}function N0(a,e){return function(s,o){const h=new Dr;return s.asyncQueue.enqueueAndForget(async()=>dR(await wR(s),o,h)),h.promise}(T0(a),e)}(function(e,i=!0){(function(o){Ms=o})(_A),nc(new to("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Vc(new IA(s.getProvider("auth-internal")),new LA(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(y.options.projectId,T)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),_s(Oy,ky,e),_s(Oy,ky,"esm2017")})();var XR="firebase",$R="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(XR,$R,"app");const ZR={apiKey:"AIzaSyCm20xcM89i6kGpqIKGn2nllgwUbmKqGmw",authDomain:"habittracker-a2060.firebaseapp.com",projectId:"habittracker-a2060",storageBucket:"habittracker-a2060.firebasestorage.app",messagingSenderId:"69908278913",appId:"1:69908278913:web:9ebdff9cd4e3eac780e780",measurementId:"G-Y09PWQ67FC"},WR=Jv(ZR),$f=NR(WR),JR=()=>{const a=bd(),[e,i]=q.useState([]),[s,o]=q.useState(new Date),[h,d]=q.useState(!1),[g,p]=q.useState(""),[y,T]=q.useState("5"),[D,x]=q.useState(!0);q.useEffect(()=>{(async()=>{try{const N=Rv($f,"habits"),b=(await KR(N)).docs.map(w=>({id:w.id,...w.data(),entries:w.data().entries||{}}));i(b),x(!1)}catch(N){console.error("Error fetching habits:",N),x(!1)}})()},[]);const V=rt=>{const N=new Date(rt),A=N.getDate()-N.getDay()+1;return Array.from({length:7},(b,w)=>{const I=new Date(N);return I.setDate(A+w),I})},O=rt=>rt.toISOString().split("T")[0],K=rt=>rt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),j=rt=>rt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),X=rt=>{const N=new Date;return N.setHours(23,59,59,999),rt>N},nt=V(s),et=rt=>{const N=Object.keys(rt).sort(),A=N.length;if(A===0)return{total:0,totalDays:1,currentStreak:0,longestStreak:0};const b=new Date(Math.min(...N.map(M=>new Date(M)))),w=new Date,I=Math.floor((w-b)/(1e3*60*60*24))+1;let U=0,C=0,Zt=0;const re=O(w),at=new Date;at.setDate(at.getDate()-1);const vt=O(at),mt=N.includes(re),zt=N.includes(vt);for(let M=0;M<N.length;M++){const J=new Date(N[M]),ft=M<N.length-1?new Date(N[M+1]):null;Zt++,ft?Math.floor((ft-J)/864e5)>1&&(C=Math.max(C,Zt),Zt=0):C=Math.max(C,Zt)}if(mt){U=1;let M=new Date(w);for(;;){M.setDate(M.getDate()-1);const J=O(M);if(N.includes(J))U++;else break}}else if(zt){U=1;let M=new Date(at);for(;;){M.setDate(M.getDate()-1);const J=O(M);if(N.includes(J))U++;else break}}return{total:A,totalDays:I,currentStreak:U,longestStreak:C}},st=async(rt,N)=>{if(!X(N))try{const A=E0($f,"habits",rt),b=e.find(U=>U.id===rt),w=O(N),I={...b.entries};if(I[w])delete I[w];else{I[w]=!0;const U=new Date,C=new Date(N);if(O(U)===O(C)){await xv(A,{entries:I}),a(`/timer?minutes=${b.minutes||5}`);return}}await xv(A,{entries:I}),i(U=>U.map(C=>C.id===rt?{...C,entries:I}:C))}catch(A){console.error("Error updating habit:",A)}},lt=async()=>{if(g.trim())try{const rt=Rv($f,"habits"),N={name:g.trim(),minutes:parseInt(y)||5,entries:{},createdAt:new Date().toISOString()},b={id:(await YR(rt,N)).id,...N};i(w=>[...w,b]),p(""),T("5"),d(!1)}catch(rt){console.error("Error adding habit:",rt)}};return D?F.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):F.jsxs("div",{className:"max-w-2xl mx-auto p-4 dark:bg-gray-900 dark:text-white",children:[F.jsxs("div",{className:"flex justify-between items-center mb-6",children:[F.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{const rt=new Date(s);rt.setDate(s.getDate()-7),o(rt)},children:F.jsx(zS,{className:"w-6 h-6","dark:text-white":!0})}),F.jsxs("h2",{className:"text-lg font-semibold","dark:text-white":!0,children:[K(nt[0])," - ",j(nt[6])]}),F.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{const rt=new Date(s);rt.setDate(s.getDate()+7),o(rt)},children:F.jsx(BS,{className:"w-6 h-6 dark:text-white"})})]}),F.jsx("div",{className:"space-y-4",children:e.map(rt=>{const N=et(rt.entries);return F.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[F.jsxs("div",{className:"flex justify-between items-start mb-2",children:[F.jsx("h3",{className:"font-medium dark:text-white",children:rt.name}),F.jsxs("div",{className:"text-sm text-gray-500 text-right dark:text-gray-300",children:[F.jsxs("span",{className:"mr-4",children:["Total: ",N.total,"/",N.totalDays]}),F.jsxs("span",{children:["Current: ",N.currentStreak," "]}),F.jsxs("span",{children:["Record: ",N.longestStreak]})]})]}),F.jsx("div",{className:"grid grid-cols-7 gap-2",children:nt.map(A=>{const b=O(A),w=rt.entries[b],I=X(A),U=O(new Date)===b;return F.jsxs("div",{className:"flex flex-col items-center",children:[F.jsx("div",{className:"text-sm text-gray-500 mb-1 dark:text-gray-300",children:A.toLocaleDateString("en-US",{weekday:"short"})}),F.jsx("button",{onClick:()=>st(rt.id,A),disabled:I,className:`
            p-2 rounded-full w-10 h-10 flex items-center justify-center relative
            ${w?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700"}
            ${I?"opacity-50 cursor-not-allowed":"hover:opacity-80"}
            ${U?"ring-2 ring-blue-300":""}
          `,children:A.getDate()})]},b)})})]},rt.id)})}),h?F.jsx("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:F.jsxs("div",{className:"space-y-4",children:[F.jsx("input",{type:"text",value:g,onChange:rt=>p(rt.target.value),placeholder:"New habit name",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600"}),F.jsxs("div",{className:"flex items-center space-x-2",children:[F.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300 ",children:"Minutes of practice:"}),F.jsx("input",{type:"number",value:y,onChange:rt=>T(rt.target.value),min:"1",max:"60",className:"w-20 p-2 border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),F.jsxs("div",{className:"flex justify-end space-x-2",children:[F.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),F.jsx("button",{onClick:lt,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600",children:"Add"})]})]})}):F.jsxs("button",{onClick:()=>d(!0),className:"mt-4 w-full p-4 flex items-center justify-center space-x-2 bg-white rounded-lg shadow hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700",children:[F.jsx(YS,{className:"w-5 h-5 dark:text-white"}),F.jsx("span",{children:"Add New Habit"})]})]})},t2=()=>{const a=bd(),e=Ur(),i=new URLSearchParams(e.search),s=parseInt(i.get("minutes"))||25,[o,h]=q.useState(s*60),[d,g]=q.useState(o),[p,y]=q.useState(!1),[T,D]=q.useState(!1),[x,V]=q.useState(String(s)),O=q.useRef(null);q.useEffect(()=>{let b=null;return p&&d>0?b=setInterval(()=>{g(w=>w-1)},1e3):d===0&&(y(!1),O.current&&(O.current.play(),setTimeout(()=>{a("/")},2e3))),()=>clearInterval(b)},[p,d,a]);const K=()=>{if(!p&&T){const b=parseInt(x);!isNaN(b)&&b>0&&(h(b*60),g(b*60),D(!1))}y(!p)},j=()=>{y(!1),g(o),D(!1)},X=()=>{p||D(!0)},nt=b=>{const w=b.target.value;(w===""||parseInt(w)>=0&&parseInt(w)<=99)&&V(w)},et=()=>{const b=parseInt(x);!isNaN(b)&&b>0?(h(b*60),g(b*60)):V(String(Math.floor(d/60)).padStart(2,"0")),D(!1)},st=Math.floor(d/60),lt=d%60,rt=(o-d)/o,N=2*Math.PI*120,A=N*(1-rt);return F.jsx("div",{className:"max-w-md mx-auto p-6 dark:bg-gray-900 dark:text-white",children:F.jsxs("div",{className:"relative inline-block",children:[F.jsx("audio",{ref:O,children:F.jsx("source",{src:"https://cdn.freesound.org/previews/536/536108_11423254-lq.mp3",type:"audio/mpeg"})}),F.jsxs("svg",{className:"w-80 h-80 transform -rotate-90",viewBox:"0 0 256 256",children:[F.jsx("circle",{cx:"128",cy:"128",r:"120",className:"stroke-gray-200",strokeWidth:"12",fill:"none"}),F.jsx("circle",{cx:"128",cy:"128",r:"120",className:"stroke-blue-500",strokeWidth:"12",fill:"none",strokeLinecap:"round",style:{strokeDasharray:N,strokeDashoffset:A,transition:"stroke-dashoffset 0.5s ease"}})]}),F.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full",children:[F.jsxs("div",{className:"flex justify-center items-center text-6xl font-mono mb-4 space-x-1 dark:text-white",children:[T?F.jsx("input",{type:"number",value:x,onChange:nt,onBlur:et,className:"w-24 bg-transparent text-center text-6xl font-mono focus:outline-none dark:bg-gray-900 dark:text-white dark:border-gray-600",autoFocus:!0}):F.jsx("span",{onClick:X,className:p?"":"cursor-pointer",children:String(st).padStart(2,"0")}),F.jsx("span",{children:":"}),F.jsx("span",{children:String(lt).padStart(2,"0")})]}),F.jsxs("div",{className:"flex justify-center space-x-4",children:[F.jsx("button",{onClick:K,className:"p-3 rounded-full bg-blue-500 text-white hover:bg-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:p?F.jsx(GS,{className:"w-6 h-6 dark:text-white"}):F.jsx(QS,{className:"w-6 h-6 dark:text-white"})}),F.jsx("button",{onClick:j,className:"p-3 rounded-full bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:F.jsx($S,{className:"w-6 h-6"})})]})]})]})})},e2=()=>{const[a,e]=q.useState(()=>{const s=localStorage.getItem("theme");return s==="dark"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches});q.useEffect(()=>{console.log("Current dark mode state:",a),a?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),console.log("Added dark class to html element")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),console.log("Removed dark class from html element"))},[a]);const i=()=>{e(!a)};return F.jsx("button",{onClick:i,className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700 transition-colors duration-300","aria-label":a?"Switch to Light Mode":"Switch to Dark Mode",children:a?F.jsx(WS,{className:"text-yellow-500",size:24}):F.jsx(HS,{className:"text-gray-800",size:24})})},n2=({value:a,onChange:e})=>{const i=["bg-red-500","bg-orange-500","bg-yellow-500","bg-green-300","bg-green-600"],s=q.useRef(null),[o,h]=q.useState(!1),d=V=>{if(!s.current)return;const O=s.current.getBoundingClientRect(),K=(V-O.left)/O.width,j=Math.min(5,Math.max(1,Math.round(K*5)));e({target:{value:j}})},g=V=>{h(!0),d(V.clientX)},p=V=>{o&&d(V.clientX)},y=()=>h(!1),T=V=>{h(!0),d(V.touches[0].clientX)},D=V=>{o&&d(V.touches[0].clientX)},x=()=>h(!1);return F.jsx("div",{className:"w-full relative",children:F.jsxs("div",{ref:s,className:"relative w-full h-12 bg-gray-200 rounded-full overflow-hidden flex items-center",onMouseDown:g,onMouseMove:p,onMouseUp:y,onMouseLeave:y,onTouchStart:T,onTouchMove:D,onTouchEnd:x,children:[F.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg font-semibold text-gray-700 dark:text-white bg-red-500 px-2 rounded z-50",children:"Energy"}),[1,2,3,4,5].map(V=>F.jsx("div",{className:`flex-1 h-full relative transition-colors
              ${a>=V?i[V-1]:"bg-gray-200"} 
              ${a===V?"z-10":""}`},V)),F.jsx("input",{type:"range",min:"1",max:"5",value:a,onChange:e,className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer"})]})})},i2=({value:a,onChange:e})=>{const[i,s]=q.useState(!1),o=q.useRef(null),h=100,d=2*Math.PI*h,g=20,p=280,y=12,T=st=>st/y*360-90,D=st=>{let lt=st+90;return lt=lt<0?lt+360:lt,lt/360*y},x=(st,lt)=>{const rt=o.current,N=rt.createSVGPoint();N.x=st,N.y=lt;const A=N.matrixTransform(rt.getScreenCTM().inverse()),b=p/2,w=p/2,I=Math.atan2(A.y-w,A.x-b)*(180/Math.PI),U=Math.min(y,Math.max(0,D(I)));return Math.round(U*4)/4},V=st=>{st.preventDefault(),s(!0),O(st)},O=st=>{if(!i)return;st.preventDefault();const lt=x(st.clientX,st.clientY);e(lt)},K=st=>{st.preventDefault(),s(!1)},j=st=>{st.preventDefault(),s(!0),st.touches[0],X(st)},X=st=>{if(!i)return;st.preventDefault();const lt=st.touches[0],rt=x(lt.clientX,lt.clientY);e(rt)},nt=st=>{st.preventDefault(),s(!1)};q.useEffect(()=>(i&&(window.addEventListener("mousemove",O),window.addEventListener("mouseup",K),window.addEventListener("touchmove",X,{passive:!1}),window.addEventListener("touchend",nt,{passive:!1})),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",K),window.removeEventListener("touchmove",X),window.removeEventListener("touchend",nt)}),[i]);const et=T(a);return F.jsx("div",{className:"w-full flex justify-center items-center",children:F.jsxs("svg",{ref:o,viewBox:`0 0 ${p} ${p}`,width:p,height:p,className:"touch-none select-none",children:[F.jsx("circle",{cx:p/2,cy:p/2,r:h,fill:"none",stroke:"#e0e0e0",strokeWidth:g}),F.jsx("circle",{cx:p/2,cy:p/2,r:h,fill:"none",stroke:"#4CAF50",strokeWidth:g,strokeDasharray:d,strokeDashoffset:d-Math.abs(et+90)/360*d,transform:`rotate(-90 ${p/2} ${p/2})`}),F.jsx("circle",{cx:p/2+h*Math.cos(et*(Math.PI/180)),cy:p/2+h*Math.sin(et*(Math.PI/180)),r:g/2,fill:"#4CAF50",onMouseDown:V,onTouchStart:j,className:"cursor-pointer"}),F.jsx("text",{x:p/2,y:p/2-40,textAnchor:"middle",className:"text-xl font-semibold fill-current text-gray-700 dark:text-white",children:"Sleep"}),F.jsx("text",{x:p/2,y:p/2,textAnchor:"middle",dy:".3em",className:"text-2xl font-bold fill-current text-gray-700 dark:text-white",children:`${Math.floor(a)}h ${Math.round(a%1*60)}m`})]})})},r2=()=>{const[a,e]=q.useState({sleep:8,energy:3,alc:0}),[i,s]=q.useState(7),[o,h]=q.useState(3),[d,g]=q.useState({avgSleep:"-",avgEnergy:"-",totalAlc:"-",stepStreak:"-",dryStreak:"-"}),[p,y]=q.useState([]),T="https://script.google.com/macros/s/AKfycbynd1P4XhEhxsO_G2cgYRm2XZQt6-iTWyuk27YVVfTsXWyWFjHnSXPIWoinDLlv2rgB/exec",D=async V=>{V.preventDefault();const O={...a,timestamp:new Date().toISOString()};try{await fetch(T,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),alert("Form submitted successfully!"),e({sleep:7,energy:3,alc:0}),s(7),h(3),x()}catch(K){console.error("Error:",K),alert("An error occurred. Please try again.")}},x=async()=>{try{const O=await(await fetch(T)).json();g({avgSleep:O.averageSleep,avgEnergy:O.averageEnergy,totalAlc:O.totalAlc,stepStreak:O.stepStreak,dryStreak:O.dryStreak}),y(O.recentEntries)}catch(V){console.error("Error fetching stats:",V),g({avgSleep:"-",avgEnergy:"-",totalAlc:"-",stepStreak:"-",dryStreak:"-"}),y([])}};return q.useEffect(()=>{x()},[]),F.jsxs("div",{className:"max-w-2xl mx-auto p-4 dark:bg-gray-900 dark:text-white",children:[F.jsx("h1",{className:"text-2xl font-bold mb-6 dark:text-white",children:"How are you today?"}),F.jsxs("form",{onSubmit:D,className:"space-y-6",children:[F.jsx("div",{children:F.jsx(i2,{value:a.sleep,onChange:V=>{e(O=>({...O,sleep:V})),s(V)}})}),F.jsx("div",{children:F.jsx("div",{className:"space-y-2",children:F.jsx(n2,{value:a.energy,onChange:V=>{const O=Number(V.target.value);e(K=>({...K,energy:O})),h(O)}})})}),F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx("label",{className:"font-semibold dark:text-white text-lg",children:"Alcohol"}),F.jsx("input",{type:"number",value:a.alc,onChange:V=>e(O=>({...O,alc:V.target.value})),min:"0",className:"w-20 p-2 border items-center rounded dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),F.jsx("button",{type:"submit",className:"w-full p-3 bg-blue-500 text-white rounded hover:bg-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600",children:"Submit"})]}),F.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg dark:bg-gray-800",children:[F.jsxs("div",{className:"stats-grid grid grid-cols-2 gap-4 mb-6",children:[F.jsxs("div",{className:"bg-white p-4 rounded shadow dark:bg-gray-700",children:[F.jsx("h3",{className:"text-gray-600 dark:text-gray-300",children:"Step Streak"}),F.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.stepStreak}),F.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"days"})]}),F.jsxs("div",{className:"bg-white p-4 rounded shadow dark:bg-gray-700",children:[F.jsx("h3",{className:"text-gray-600 dark:text-gray-300",children:"Dry Streak"}),F.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.dryStreak}),F.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"days"})]})]}),F.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Last 7 Days"}),F.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[F.jsxs("div",{className:"bg-white p-4 rounded shadow dark:bg-gray-700",children:[F.jsx("h3",{className:"text-gray-600 dark:text-gray-300",children:"Average Sleep"}),F.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.avgSleep})]}),F.jsxs("div",{className:"bg-white p-4 rounded shadow dark:bg-gray-700",children:[F.jsx("h3",{className:"text-gray-600 dark:text-gray-300",children:"Average Energy"}),F.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.avgEnergy})]}),F.jsxs("div",{className:"bg-white p-4 rounded shadow dark:bg-gray-700",children:[F.jsx("h3",{className:"text-gray-600 dark:text-gray-300",children:"Total Alcohol"}),F.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.totalAlc})]})]}),F.jsxs("div",{className:"mt-6",children:[F.jsx("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:"Recent Entries"}),F.jsxs("table",{className:"w-full border-collapse dark:border-gray-600",children:[F.jsx("thead",{children:F.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[F.jsx("th",{className:"border p-2 dark:border-gray-600 dark:text-white",children:"Date"}),F.jsx("th",{className:"border p-2 dark:border-gray-600 dark:text-white",children:"Sleep"}),F.jsx("th",{className:"border p-2 dark:border-gray-600 dark:text-white",children:"Energy"}),F.jsx("th",{className:"border p-2 dark:border-gray-600 dark:text-white",children:"Alcohol"})]})}),F.jsx("tbody",{children:p.map((V,O)=>F.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[F.jsx("td",{className:"border p-2 dark:border-gray-600 dark:text-white",children:V.date}),F.jsx("td",{className:"border p-2 dark:border-gray-600 dark:text-white",children:V.sleep}),F.jsx("td",{className:"border p-2 dark:border-gray-600 dark:text-white",children:V.energy}),F.jsx("td",{className:"border p-2 dark:border-gray-600 dark:text-white",children:V.alc})]},O))})]})]})]})]})};function a2(){return F.jsx(AS,{basename:"/habittracker",children:F.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 dark:text-white",children:[F.jsx("nav",{className:"p-4 bg-white shadow dark:bg-gray-800 dark:shadow-lg",children:F.jsxs("div",{className:"max-w-2xl mx-auto flex justify-between items-center",children:[F.jsxs("div",{className:"flex space-x-4",children:[F.jsx(Yl,{to:"/",className:"text-blue-500 hover:text-blue-600 dark:text-blue-300 dark:hover:text-blue-200",children:"Habits"}),F.jsx(Yl,{to:"/timer",className:"text-blue-500 hover:text-blue-600 dark:text-blue-300 dark:hover:text-blue-200",children:"Timer"}),F.jsx(Yl,{to:"/dailylog",className:"text-blue-500 hover:text-blue-600 dark:text-blue-300 dark:hover:text-blue-200",children:"Daily Log"}),F.jsx("a",{href:"https://stephenmcnicholas.github.io/mealtracker/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 dark:text-blue-300 dark:hover:text-blue-200",children:"Meals"})]}),F.jsx(e2,{})]})}),F.jsxs(tS,{children:[F.jsx(Gu,{path:"/",element:F.jsx(JR,{})}),F.jsx(Gu,{path:"/timer",element:F.jsx(t2,{})}),F.jsx(Gu,{path:"/dailylog",element:F.jsx(r2,{})})]})]})})}cT.createRoot(document.getElementById("root")).render(F.jsx(q.StrictMode,{children:F.jsx(a2,{})}));
